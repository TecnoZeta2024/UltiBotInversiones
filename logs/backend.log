2025-06-27 22:25:44,752 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe82748fb50>
2025-06-27 22:25:44,753 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-27 22:25:44,754 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-27 22:25:44,755 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-27 22:25:44,756 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-27 22:25:44,757 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-27 22:25:45,107 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'28'), (b'Connection', b'keep-alive'), (b'Date', b'Fri, 27 Jun 2025 22:25:45 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'4e13c953-98b2-4aa2-aa62-174f85636a56'), (b'x-mbx-used-weight', b'2'), (b'x-mbx-used-weight-1m', b'2'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 27730116265cf102edf5cefe565f5cfa.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P3'), (b'X-Amz-Cf-Id', b'CTlfpC4pl2s8pjl1tW0GR814ufhTivSu1IsracUo9-CH3lJaA-rA3g==')])
2025-06-27 22:25:45,109 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/time "HTTP/1.1 200 OK"
2025-06-27 22:25:45,110 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-27 22:25:45,111 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-27 22:25:45,112 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-27 22:25:45,114 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-27 22:25:45,115 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:25:45,117 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:25:45,118 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:42088 - "GET /health HTTP/1.1" 200
2025-06-27 22:26:15,144 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:26:15,146 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:26:15,153 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:26:15,155 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:26:15,157 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.started
2025-06-27 22:26:15,158 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.complete
2025-06-27 22:26:15,159 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.started host='api.binance.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-06-27 22:26:15,365 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe827487010>
2025-06-27 22:26:15,366 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe829d1d130> server_hostname='api.binance.com' timeout=10.0
2025-06-27 22:26:15,444 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe8274861d0>
2025-06-27 22:26:15,445 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-27 22:26:15,446 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-27 22:26:15,447 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-27 22:26:15,448 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-27 22:26:15,449 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-27 22:26:15,804 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'28'), (b'Connection', b'keep-alive'), (b'Date', b'Fri, 27 Jun 2025 22:26:15 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'9d3568b3-0eae-4d13-b91f-cc85cfa5669e'), (b'x-mbx-used-weight', b'1'), (b'x-mbx-used-weight-1m', b'1'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 613f43ed2ff509bc751d6b2913c0f584.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P3'), (b'X-Amz-Cf-Id', b'AVLEdDbOlnSEoA5PRcu5CMLOADQDxKAfeV287GvN_gq15TnHjoTOkA==')])
2025-06-27 22:26:15,805 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/time "HTTP/1.1 200 OK"
2025-06-27 22:26:15,806 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-27 22:26:15,807 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-27 22:26:15,807 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-27 22:26:15,808 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-27 22:26:15,809 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:26:15,810 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:26:15,811 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:37088 - "GET /health HTTP/1.1" 200
2025-06-27 22:26:19,500 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:26:19,501 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:26:19,525 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:26:19,527 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:26:45,835 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:26:45,837 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:26:45,842 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:26:45,845 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:26:45,847 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.started
2025-06-27 22:26:45,848 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.complete
2025-06-27 22:26:45,849 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.started host='api.binance.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-06-27 22:26:45,965 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe827490510>
2025-06-27 22:26:45,966 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe829d1d130> server_hostname='api.binance.com' timeout=10.0
2025-06-27 22:26:46,042 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe827492cd0>
2025-06-27 22:26:46,044 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-27 22:26:46,046 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-27 22:26:46,047 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-27 22:26:46,048 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-27 22:26:46,049 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-27 22:26:46,404 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'28'), (b'Connection', b'keep-alive'), (b'Date', b'Fri, 27 Jun 2025 22:26:46 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'066dcd0c-3a31-42c4-87b4-49325b6a47c5'), (b'x-mbx-used-weight', b'2'), (b'x-mbx-used-weight-1m', b'2'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 b9a003570fad332b3d219b13e344ed68.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P3'), (b'X-Amz-Cf-Id', b'HotqsY-x1L6u__4HgSDb5nH0hT-50Q4fKa2nwjFp1R7idHzJbrL_Rw==')])
2025-06-27 22:26:46,406 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/time "HTTP/1.1 200 OK"
2025-06-27 22:26:46,407 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-27 22:26:46,407 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-27 22:26:46,408 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-27 22:26:46,409 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-27 22:26:46,409 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:26:46,411 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:26:46,412 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:44192 - "GET /health HTTP/1.1" 200
2025-06-27 22:27:16,473 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:27:16,475 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:27:16,487 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:27:16,489 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:27:16,491 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.started
2025-06-27 22:27:16,492 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.complete
2025-06-27 22:27:16,493 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.started host='api.binance.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-06-27 22:27:16,672 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe827498d10>
2025-06-27 22:27:16,673 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe829d1d130> server_hostname='api.binance.com' timeout=10.0
2025-06-27 22:27:16,750 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe82749aa50>
2025-06-27 22:27:16,752 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-27 22:27:16,753 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-27 22:27:16,754 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-27 22:27:16,755 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-27 22:27:16,755 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-27 22:27:17,108 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'28'), (b'Connection', b'keep-alive'), (b'Date', b'Fri, 27 Jun 2025 22:27:17 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'0e8689da-ce6e-44fd-b798-8e9af0419a1e'), (b'x-mbx-used-weight', b'1'), (b'x-mbx-used-weight-1m', b'1'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 27730116265cf102edf5cefe565f5cfa.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P3'), (b'X-Amz-Cf-Id', b'kUvYybzDE0sN-z5sctcRcxAN7VzjOxTZXN21F5gH5HGdTMX3BJJJUA==')])
2025-06-27 22:27:17,109 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/time "HTTP/1.1 200 OK"
2025-06-27 22:27:17,110 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-27 22:27:17,111 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-27 22:27:17,112 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-27 22:27:17,113 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-27 22:27:17,114 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:27:17,115 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:17,117 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:42460 - "GET /health HTTP/1.1" 200
2025-06-27 22:27:47,147 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:27:47,150 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:27:47,159 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:27:47,161 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:27:47,163 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.started
2025-06-27 22:27:47,164 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.complete
2025-06-27 22:27:47,164 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.started host='api.binance.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-06-27 22:27:47,353 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe827469910>
2025-06-27 22:27:47,354 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe829d1d130> server_hostname='api.binance.com' timeout=10.0
2025-06-27 22:27:47,431 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fe82bd8a8d0>
2025-06-27 22:27:47,432 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-27 22:27:47,435 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-27 22:27:47,436 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-27 22:27:47,437 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-27 22:27:47,438 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-27 22:27:47,796 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'28'), (b'Connection', b'keep-alive'), (b'Date', b'Fri, 27 Jun 2025 22:27:47 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'c7ae1a29-beb9-48d9-928d-f9b14ae14cd1'), (b'x-mbx-used-weight', b'2'), (b'x-mbx-used-weight-1m', b'2'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 7f15f746938d717f574ee05ac3a754ce.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P3'), (b'X-Amz-Cf-Id', b'LuwBMZHrm0QKPc5dfREn8_upq4ae9Ki1AZW5KFg2k0HP0opiswLaqQ==')])
2025-06-27 22:27:47,797 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/time "HTTP/1.1 200 OK"
2025-06-27 22:27:47,798 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-27 22:27:47,800 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-27 22:27:47,801 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-27 22:27:47,802 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-27 22:27:47,804 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:27:47,806 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:47,807 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:49488 - "GET /health HTTP/1.1" 200
2025-06-27 22:27:55,721 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:27:55,722 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:27:55,745 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:27:55,747 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:28:09,964 - uvicorn.error - INFO - [MainThread] - server.py:258 - Shutting down
2025-06-27 22:28:10,066 - uvicorn.error - INFO - [MainThread] - on.py:67 - Waiting for application shutdown.
2025-06-27 22:28:10,069 - ultibot_backend - INFO - [MainThread] - main.py:100 - Apagando UltiBot Backend (lifespan)...
2025-06-27 22:28:10,072 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:205 - Shutting down dependency container...
2025-06-27 22:28:10,074 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.started
2025-06-27 22:28:10,075 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - close.complete
2025-06-27 22:28:10,078 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:40 - Redis client closed.
2025-06-27 22:28:10,080 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:212 - Dependency container shut down.
2025-06-27 22:28:10,081 - ultibot_backend - INFO - [MainThread] - main.py:103 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 22:28:10,083 - uvicorn.error - INFO - [MainThread] - on.py:76 - Application shutdown complete.
2025-06-27 22:28:10,084 - uvicorn.error - INFO - [MainThread] - server.py:92 - Finished server process [1]
2025-06-27 21:11:27,411 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,412 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:27,412 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:113 - Initializing dependency container...
2025-06-27 21:11:27,412 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:51 - Usando DATABASE_URL del entorno: sqlite+aiosqlite:///C:/Users/zamor/AppData/Local/Temp/tmprq6gqqjk/test_db.sqlite
2025-06-27 21:11:27,414 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:54 - Initializing database with URL: sqlite+aiosqlite:///C:/Users/zamor/AppData/Local/Temp/tmprq6gqqjk/test_db.sqlite
2025-06-27 21:11:27,415 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing <function connect.<locals>.connector at 0x0000019B2F103380>
2025-06-27 21:11:27,416 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation <function connect.<locals>.connector at 0x0000019B2F103380> completed
2025-06-27 21:11:27,416 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019B2F09E890>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000019B2F08F380>, deterministic=True)
2025-06-27 21:11:27,416 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019B2F09E890>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000019B2F08F380>, deterministic=True) completed
2025-06-27 21:11:27,417 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019B2F09E890>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-27 21:11:27,417 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000019B2F09E890>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-27 21:11:27,418 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,418 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,418 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195CC0>, 'PRAGMA read_uncommitted', [])
2025-06-27 21:11:27,419 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195CC0>, 'PRAGMA read_uncommitted', []) completed
2025-06-27 21:11:27,419 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195CC0>)
2025-06-27 21:11:27,419 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195CC0>) completed
2025-06-27 21:11:27,420 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195CC0>)
2025-06-27 21:11:27,420 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195CC0>) completed
2025-06-27 21:11:27,421 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,421 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,422 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,422 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,423 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195DC0>, 'PRAGMA main.table_info("api_credentials")', ())
2025-06-27 21:11:27,423 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195DC0>, 'PRAGMA main.table_info("api_credentials")', ()) completed
2025-06-27 21:11:27,423 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195DC0>)
2025-06-27 21:11:27,424 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195DC0>) completed
2025-06-27 21:11:27,424 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195DC0>)
2025-06-27 21:11:27,424 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195DC0>) completed
2025-06-27 21:11:27,425 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,425 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,426 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195EC0>, 'PRAGMA main.table_info("user_configurations")', ())
2025-06-27 21:11:27,426 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195EC0>, 'PRAGMA main.table_info("user_configurations")', ()) completed
2025-06-27 21:11:27,426 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195EC0>)
2025-06-27 21:11:27,427 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195EC0>) completed
2025-06-27 21:11:27,427 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195EC0>)
2025-06-27 21:11:27,427 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195EC0>) completed
2025-06-27 21:11:27,428 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,428 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,429 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195F40>, 'PRAGMA main.table_info("trades")', ())
2025-06-27 21:11:27,429 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195F40>, 'PRAGMA main.table_info("trades")', ()) completed
2025-06-27 21:11:27,429 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195F40>)
2025-06-27 21:11:27,430 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195F40>) completed
2025-06-27 21:11:27,430 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195F40>)
2025-06-27 21:11:27,430 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195F40>) completed
2025-06-27 21:11:27,431 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,431 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,432 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195FC0>, 'PRAGMA main.table_info("portfolio_snapshots")', ())
2025-06-27 21:11:27,432 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F195FC0>, 'PRAGMA main.table_info("portfolio_snapshots")', ()) completed
2025-06-27 21:11:27,432 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195FC0>)
2025-06-27 21:11:27,432 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F195FC0>) completed
2025-06-27 21:11:27,433 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195FC0>)
2025-06-27 21:11:27,433 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F195FC0>) completed
2025-06-27 21:11:27,434 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,434 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,434 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F196040>, 'PRAGMA main.table_info("opportunities")', ())
2025-06-27 21:11:27,434 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F196040>, 'PRAGMA main.table_info("opportunities")', ()) completed
2025-06-27 21:11:27,435 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F196040>)
2025-06-27 21:11:27,435 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F196040>) completed
2025-06-27 21:11:27,436 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F196040>)
2025-06-27 21:11:27,436 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F196040>) completed
2025-06-27 21:11:27,437 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,437 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,437 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F1960C0>, 'PRAGMA main.table_info("strategy_configurations")', ())
2025-06-27 21:11:27,438 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F1960C0>, 'PRAGMA main.table_info("strategy_configurations")', ()) completed
2025-06-27 21:11:27,439 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F1960C0>)
2025-06-27 21:11:27,439 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F1960C0>) completed
2025-06-27 21:11:27,439 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F1960C0>)
2025-06-27 21:11:27,439 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F1960C0>) completed
2025-06-27 21:11:27,441 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,441 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,441 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F196140>, 'PRAGMA main.table_info("market_data")', ())
2025-06-27 21:11:27,442 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F196140>, 'PRAGMA main.table_info("market_data")', ()) completed
2025-06-27 21:11:27,442 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F196140>)
2025-06-27 21:11:27,442 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F196140>) completed
2025-06-27 21:11:27,443 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F196140>)
2025-06-27 21:11:27,443 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F196140>) completed
2025-06-27 21:11:27,443 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,444 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,444 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F1961C0>, 'PRAGMA main.table_info("notifications")', ())
2025-06-27 21:11:27,444 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000019B2F1961C0>, 'PRAGMA main.table_info("notifications")', ()) completed
2025-06-27 21:11:27,444 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F1961C0>)
2025-06-27 21:11:27,445 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000019B2F1961C0>) completed
2025-06-27 21:11:27,445 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F1961C0>)
2025-06-27 21:11:27,445 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000019B2F1961C0>) completed
2025-06-27 21:11:27,445 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,446 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,446 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,446 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,448 - aiosqlite - DEBUG - [Thread-16] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000019B2F09E890>)
2025-06-27 21:11:27,448 - aiosqlite - DEBUG - [Thread-16] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000019B2F09E890>) completed
2025-06-27 21:11:27,448 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:69 - Database tables created and session factory initialized successfully.
2025-06-27 21:11:27,449 - httpx - DEBUG - [Thread-15 (run_blocking_portal)] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-27 21:11:27,451 - httpx - DEBUG - [Thread-15 (run_blocking_portal)] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-27 21:11:27,649 - adapters.redis_cache - INFO - [Thread-15 (run_blocking_portal)] - redis_cache.py:12 - RedisCache initialized with URL: redis://localhost:6379/0
2025-06-27 21:11:27,649 - adapters.redis_cache - INFO - [Thread-15 (run_blocking_portal)] - redis_cache.py:18 - Redis client created.
2025-06-27 21:11:27,651 - httpx - DEBUG - [Thread-15 (run_blocking_portal)] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-27 21:11:27,651 - httpx - DEBUG - [Thread-15 (run_blocking_portal)] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-27 21:11:27,846 - services.order_execution_service - INFO - [Thread-15 (run_blocking_portal)] - order_execution_service.py:343 - Paper Trading Service inicializado con capital virtual: 10000.0 USDT
2025-06-27 21:11:27,852 - services.credential_service - INFO - [Thread-15 (run_blocking_portal)] - credential_service.py:30 - CredentialService __init__ intentando obtener encryption_key de AppSettings: Presente
2025-06-27 21:11:27,853 - services.credential_service - INFO - [Thread-15 (run_blocking_portal)] - credential_service.py:36 - Pasando la siguiente clave (str) a Fernet: m-28N... (truncada por seguridad)
2025-06-27 21:11:27,853 - services.unified_order_execution_service - INFO - [Thread-15 (run_blocking_portal)] - unified_order_execution_service.py:28 - UnifiedOrderExecutionService initialized with both real and paper execution services
2025-06-27 21:11:27,943 - services.ai_orchestrator_service - INFO - [Thread-15 (run_blocking_portal)] - ai_orchestrator_service.py:144 - AIOrchestrator initialized with gemini-1.5-pro-latest and PydanticOutputParser.
2025-06-27 21:11:27,944 - services.performance_service - INFO - [Thread-15 (run_blocking_portal)] - performance_service.py:29 - PerformanceService initialized. PersistenceService instance: <adapters.persistence_service.SupabasePersistenceService object at 0x0000019B2EFBE190>
2025-06-27 21:11:27,944 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:193 - Dependency container initialized successfully.
2025-06-27 21:11:27,944 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:27,945 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:27,947 - asyncio - DEBUG - [MainThread] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:11:27,950 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:27,952 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:27,955 - httpx - INFO - [MainThread] - _client.py:1038 - HTTP Request: POST http://testserver/api/v1/market-order "HTTP/1.1 404 Not Found"
2025-06-27 21:11:27,963 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,963 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:196 - Shutting down dependency container...
2025-06-27 21:11:27,964 - adapters.redis_cache - INFO - [Thread-15 (run_blocking_portal)] - redis_cache.py:40 - Redis client closed.
2025-06-27 21:11:27,964 - dependencies - INFO - [Thread-15 (run_blocking_portal)] - dependencies.py:203 - Dependency container shut down.
2025-06-27 21:11:27,964 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:27,967 - asyncio - DEBUG - [Thread-17 (run_blocking_portal)] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:11:27,972 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,976 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:27,977 - dependencies - INFO - [Thread-17 (run_blocking_portal)] - dependencies.py:113 - Initializing dependency container...
2025-06-27 21:11:27,978 - httpx - DEBUG - [Thread-17 (run_blocking_portal)] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-27 21:11:27,979 - httpx - DEBUG - [Thread-17 (run_blocking_portal)] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-27 21:11:28,174 - adapters.redis_cache - INFO - [Thread-17 (run_blocking_portal)] - redis_cache.py:12 - RedisCache initialized with URL: redis://localhost:6379/0
2025-06-27 21:11:28,175 - adapters.redis_cache - INFO - [Thread-17 (run_blocking_portal)] - redis_cache.py:18 - Redis client created.
2025-06-27 21:11:28,176 - httpx - DEBUG - [Thread-17 (run_blocking_portal)] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-27 21:11:28,176 - httpx - DEBUG - [Thread-17 (run_blocking_portal)] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-27 21:11:28,363 - services.order_execution_service - INFO - [Thread-17 (run_blocking_portal)] - order_execution_service.py:343 - Paper Trading Service inicializado con capital virtual: 10000.0 USDT
2025-06-27 21:11:28,364 - services.credential_service - INFO - [Thread-17 (run_blocking_portal)] - credential_service.py:30 - CredentialService __init__ intentando obtener encryption_key de AppSettings: Presente
2025-06-27 21:11:28,364 - services.credential_service - INFO - [Thread-17 (run_blocking_portal)] - credential_service.py:36 - Pasando la siguiente clave (str) a Fernet: m-28N... (truncada por seguridad)
2025-06-27 21:11:28,365 - services.unified_order_execution_service - INFO - [Thread-17 (run_blocking_portal)] - unified_order_execution_service.py:28 - UnifiedOrderExecutionService initialized with both real and paper execution services
2025-06-27 21:11:28,368 - services.ai_orchestrator_service - INFO - [Thread-17 (run_blocking_portal)] - ai_orchestrator_service.py:144 - AIOrchestrator initialized with gemini-1.5-pro-latest and PydanticOutputParser.
2025-06-27 21:11:28,368 - services.performance_service - INFO - [Thread-17 (run_blocking_portal)] - performance_service.py:29 - PerformanceService initialized. PersistenceService instance: <adapters.persistence_service.SupabasePersistenceService object at 0x0000019B2E7EEED0>
2025-06-27 21:11:28,369 - dependencies - INFO - [Thread-17 (run_blocking_portal)] - dependencies.py:193 - Dependency container initialized successfully.
2025-06-27 21:11:28,369 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:28,370 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:28,371 - asyncio - DEBUG - [MainThread] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:11:28,373 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:28,374 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:28,376 - httpx - INFO - [MainThread] - _client.py:1038 - HTTP Request: POST http://testserver/api/v1/market-order "HTTP/1.1 404 Not Found"
2025-06-27 21:11:28,381 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,381 - dependencies - INFO - [Thread-17 (run_blocking_portal)] - dependencies.py:196 - Shutting down dependency container...
2025-06-27 21:11:28,381 - adapters.redis_cache - INFO - [Thread-17 (run_blocking_portal)] - redis_cache.py:40 - Redis client closed.
2025-06-27 21:11:28,381 - dependencies - INFO - [Thread-17 (run_blocking_portal)] - dependencies.py:203 - Dependency container shut down.
2025-06-27 21:11:28,383 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:28,387 - asyncio - DEBUG - [Thread-18 (run_blocking_portal)] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:11:28,390 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,391 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:28,391 - dependencies - INFO - [Thread-18 (run_blocking_portal)] - dependencies.py:113 - Initializing dependency container...
2025-06-27 21:11:28,393 - httpx - DEBUG - [Thread-18 (run_blocking_portal)] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-27 21:11:28,393 - httpx - DEBUG - [Thread-18 (run_blocking_portal)] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-27 21:11:28,588 - adapters.redis_cache - INFO - [Thread-18 (run_blocking_portal)] - redis_cache.py:12 - RedisCache initialized with URL: redis://localhost:6379/0
2025-06-27 21:11:28,589 - adapters.redis_cache - INFO - [Thread-18 (run_blocking_portal)] - redis_cache.py:18 - Redis client created.
2025-06-27 21:11:28,590 - httpx - DEBUG - [Thread-18 (run_blocking_portal)] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-27 21:11:28,590 - httpx - DEBUG - [Thread-18 (run_blocking_portal)] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-27 21:11:28,784 - services.order_execution_service - INFO - [Thread-18 (run_blocking_portal)] - order_execution_service.py:343 - Paper Trading Service inicializado con capital virtual: 10000.0 USDT
2025-06-27 21:11:28,785 - services.credential_service - INFO - [Thread-18 (run_blocking_portal)] - credential_service.py:30 - CredentialService __init__ intentando obtener encryption_key de AppSettings: Presente
2025-06-27 21:11:28,785 - services.credential_service - INFO - [Thread-18 (run_blocking_portal)] - credential_service.py:36 - Pasando la siguiente clave (str) a Fernet: m-28N... (truncada por seguridad)
2025-06-27 21:11:28,785 - services.unified_order_execution_service - INFO - [Thread-18 (run_blocking_portal)] - unified_order_execution_service.py:28 - UnifiedOrderExecutionService initialized with both real and paper execution services
2025-06-27 21:11:28,790 - services.ai_orchestrator_service - INFO - [Thread-18 (run_blocking_portal)] - ai_orchestrator_service.py:144 - AIOrchestrator initialized with gemini-1.5-pro-latest and PydanticOutputParser.
2025-06-27 21:11:28,791 - services.performance_service - INFO - [Thread-18 (run_blocking_portal)] - performance_service.py:29 - PerformanceService initialized. PersistenceService instance: <adapters.persistence_service.SupabasePersistenceService object at 0x0000019B2EF68150>
2025-06-27 21:11:28,791 - dependencies - INFO - [Thread-18 (run_blocking_portal)] - dependencies.py:193 - Dependency container initialized successfully.
2025-06-27 21:11:28,791 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:28,792 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:28,793 - asyncio - DEBUG - [MainThread] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:11:28,797 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:28,797 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:28,798 - httpx - INFO - [MainThread] - _client.py:1038 - HTTP Request: POST http://testserver/api/v1/market-order "HTTP/1.1 404 Not Found"
2025-06-27 21:11:28,803 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,804 - dependencies - INFO - [Thread-18 (run_blocking_portal)] - dependencies.py:196 - Shutting down dependency container...
2025-06-27 21:11:28,804 - adapters.redis_cache - INFO - [Thread-18 (run_blocking_portal)] - redis_cache.py:40 - Redis client closed.
2025-06-27 21:11:28,804 - dependencies - INFO - [Thread-18 (run_blocking_portal)] - dependencies.py:203 - Dependency container shut down.
2025-06-27 21:11:28,804 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:28,807 - tests.conftest - INFO - [MainThread] - conftest.py:135 - Motor de base de datos dispuesto.
2025-06-27 21:11:28,807 - tests.conftest - INFO - [MainThread] - conftest.py:143 - Directorio temporal C:\Users\zamor\AppData\Local\Temp\tmprq6gqqjk eliminado exitosamente (intento 1/5).
2025-06-27 21:14:01,525 - ultibot_backend - INFO - [Thread-16 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:01,525 - ultibot_backend - INFO - [Thread-16 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:01,526 - dependencies - INFO - [Thread-16 (run_blocking_portal)] - dependencies.py:113 - Initializing dependency container...
2025-06-27 21:14:01,526 - ultibot_backend - CRITICAL - [Thread-16 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:01,770 - asyncio - DEBUG - [Thread-17 (run_blocking_portal)] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:14:01,773 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:01,773 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:01,774 - dependencies - INFO - [Thread-17 (run_blocking_portal)] - dependencies.py:113 - Initializing dependency container...
2025-06-27 21:14:01,774 - ultibot_backend - CRITICAL - [Thread-17 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:02,058 - asyncio - DEBUG - [Thread-18 (run_blocking_portal)] - selector_events.py:54 - Using selector: SelectSelector
2025-06-27 21:14:02,061 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:02,061 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:02,061 - dependencies - INFO - [Thread-18 (run_blocking_portal)] - dependencies.py:113 - Initializing dependency container...
2025-06-27 21:14:02,062 - ultibot_backend - CRITICAL - [Thread-18 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:02,328 - tests.conftest - INFO - [MainThread] - conftest.py:135 - Motor de base de datos dispuesto.
2025-06-27 21:14:02,329 - tests.conftest - INFO - [MainThread] - conftest.py:143 - Directorio temporal C:\Users\zamor\AppData\Local\Temp\tmpjhd391qt eliminado exitosamente (intento 1/5).
