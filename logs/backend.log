2025-06-25 15:31:05,043 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020645266F20>)
2025-06-25 15:31:05,043 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020645266F20>) completed
2025-06-25 15:31:05,043 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000020645266F20>)
2025-06-25 15:31:05,044 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000020645266F20>) completed
2025-06-25 15:31:05,044 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:63 - Database tables created and session factory initialized successfully.
2025-06-25 15:31:05,045 - httpx - DEBUG - [MainThread] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-25 15:31:05,045 - httpx - DEBUG - [MainThread] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-25 15:31:05,238 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:12 - RedisCache initialized with URL: redis://localhost:6379/0
2025-06-25 15:31:05,239 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:18 - Redis client created.
2025-06-25 15:31:05,240 - httpx - DEBUG - [MainThread] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-25 15:31:05,241 - httpx - DEBUG - [MainThread] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-25 15:31:05,436 - ultibot_backend.services.order_execution_service - INFO - [MainThread] - order_execution_service.py:343 - Paper Trading Service inicializado con capital virtual: 10000.0 USDT
2025-06-25 15:31:05,440 - ultibot_backend.services.credential_service - INFO - [MainThread] - credential_service.py:30 - CredentialService __init__ intentando obtener encryption_key de AppSettings: Presente
2025-06-25 15:31:05,441 - ultibot_backend.services.credential_service - INFO - [MainThread] - credential_service.py:36 - Pasando la siguiente clave (str) a Fernet: m-28N... (truncada por seguridad)
2025-06-25 15:31:05,441 - ultibot_backend.services.unified_order_execution_service - INFO - [MainThread] - unified_order_execution_service.py:28 - UnifiedOrderExecutionService initialized with both real and paper execution services
2025-06-25 15:31:05,455 - ultibot_backend.services.ai_orchestrator_service - INFO - [MainThread] - ai_orchestrator_service.py:144 - AIOrchestrator initialized with gemini-1.5-pro-latest and PydanticOutputParser.
2025-06-25 15:31:05,455 - ultibot_backend.services.performance_service - INFO - [MainThread] - performance_service.py:29 - PerformanceService initialized. PersistenceService instance: <ultibot_backend.adapters.persistence_service.SupabasePersistenceService object at 0x0000020644FFD950>
2025-06-25 15:31:05,455 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:187 - Dependency container initialized successfully.
2025-06-25 15:31:05,456 - ultibot_backend - INFO - [MainThread] - main.py:91 - Contenedor de dependencias inicializado en lifespan.
2025-06-25 15:31:05,456 - ultibot_backend - INFO - [MainThread] - main.py:97 - Aplicación iniciada correctamente (lifespan).
2025-06-25 15:31:05,456 - uvicorn.error - INFO - [MainThread] - on.py:62 - Application startup complete.
2025-06-25 15:37:59,909 - uvicorn.error - INFO - [MainThread] - server.py:258 - Shutting down
2025-06-25 15:38:00,019 - uvicorn.error - INFO - [MainThread] - on.py:67 - Waiting for application shutdown.
2025-06-25 15:38:00,019 - ultibot_backend - INFO - [MainThread] - main.py:100 - Apagando UltiBot Backend (lifespan)...
2025-06-25 15:38:00,020 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:190 - Shutting down dependency container...
2025-06-25 15:38:00,025 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:40 - Redis client closed.
2025-06-25 15:38:00,026 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:197 - Dependency container shut down.
2025-06-25 15:38:00,026 - ultibot_backend - INFO - [MainThread] - main.py:103 - Recursos liberados y aplicación apagada (lifespan).
2025-06-25 15:38:00,026 - uvicorn.error - INFO - [MainThread] - on.py:76 - Application shutdown complete.
2025-06-25 15:38:00,027 - uvicorn.error - INFO - [MainThread] - server.py:92 - Finished server process [23332]
2025-06-25 16:53:02,812 - ultibot_backend - INFO - [MainThread] - main.py:115 - Creando nueva instancia de FastAPI...
2025-06-25 16:53:02,812 - ultibot_backend - INFO - [MainThread] - main.py:158 - Registrando routers de la API...
2025-06-25 16:53:02,833 - ultibot_backend - INFO - [MainThread] - main.py:169 - Todos los routers han sido registrados.
2025-06-25 16:53:02,833 - ultibot_backend - INFO - [MainThread] - main.py:222 - Instancia global de la aplicación creada.
2025-06-25 17:11:43,440 - ultibot_backend - INFO - [MainThread] - main.py:115 - Creando nueva instancia de FastAPI...
2025-06-25 17:11:43,440 - ultibot_backend - INFO - [MainThread] - main.py:158 - Registrando routers de la API...
2025-06-25 17:11:43,460 - ultibot_backend - INFO - [MainThread] - main.py:169 - Todos los routers han sido registrados.
2025-06-25 17:11:43,467 - ultibot_backend - INFO - [MainThread] - main.py:222 - Instancia global de la aplicación creada.
2025-06-25 17:11:43,467 - uvicorn.error - INFO - [MainThread] - server.py:82 - Started server process [36980]
2025-06-25 17:11:43,469 - uvicorn.error - INFO - [MainThread] - on.py:48 - Waiting for application startup.
2025-06-25 17:11:43,469 - ultibot_backend - INFO - [MainThread] - main.py:86 - Iniciando UltiBot Backend (lifespan)...
2025-06-25 17:11:43,470 - ultibot_backend - INFO - [MainThread] - main.py:91 - DependencyContainer adjuntado a app.state: True
2025-06-25 17:11:43,470 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:110 - Initializing dependency container...
2025-06-25 17:11:43,471 - ultibot_backend.dependencies - WARNING - [MainThread] - dependencies.py:47 - Usando base de datos SQLite local: "sqlite+aiosqlite:///ultibot_local.db" # Modificado para usar SQLite local. Esta opción es para desarrollo.
2025-06-25 17:11:43,471 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:52 - Initializing database with URL: "sqlite+aiosqlite:///ultibot_local.db" # Modificado para usar SQLite local
2025-06-25 17:11:43,472 - ultibot_backend.dependencies - ERROR - [MainThread] - dependencies.py:68 - Failed to initialize database: Could not parse SQLAlchemy URL from given URL string
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 53, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string
2025-06-25 17:11:43,489 - ultibot_backend - CRITICAL - [MainThread] - main.py:98 - Error fatal durante el arranque de la aplicación (lifespan): Could not parse SQLAlchemy URL from given URL string
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\main.py", line 94, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 112, in initialize_services
    await initialize_database()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 53, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string
2025-06-25 17:11:43,491 - uvicorn.error - ERROR - [MainThread] - on.py:121 - Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 732, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\main.py", line 94, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 112, in initialize_services
    await initialize_database()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 53, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string

2025-06-25 17:11:43,491 - uvicorn.error - ERROR - [MainThread] - on.py:59 - Application startup failed. Exiting.
2025-06-25 17:13:25,887 - ultibot_backend - INFO - [MainThread] - main.py:115 - Creando nueva instancia de FastAPI...
2025-06-25 17:13:25,887 - ultibot_backend - INFO - [MainThread] - main.py:158 - Registrando routers de la API...
2025-06-25 17:13:25,907 - ultibot_backend - INFO - [MainThread] - main.py:169 - Todos los routers han sido registrados.
2025-06-25 17:13:25,908 - ultibot_backend - INFO - [MainThread] - main.py:222 - Instancia global de la aplicación creada.
2025-06-25 17:13:25,909 - uvicorn.error - INFO - [MainThread] - server.py:82 - Started server process [19232]
2025-06-25 17:13:25,909 - uvicorn.error - INFO - [MainThread] - on.py:48 - Waiting for application startup.
2025-06-25 17:13:25,909 - ultibot_backend - INFO - [MainThread] - main.py:86 - Iniciando UltiBot Backend (lifespan)...
2025-06-25 17:13:25,909 - ultibot_backend - INFO - [MainThread] - main.py:91 - DependencyContainer adjuntado a app.state: True
2025-06-25 17:13:25,910 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:110 - Initializing dependency container...
2025-06-25 17:13:25,910 - ultibot_backend.dependencies - WARNING - [MainThread] - dependencies.py:47 - Using local SQLite database: "sqlite+aiosqlite:///ultibot_local.db" # Modificado para usar SQLite local. This is for development.
2025-06-25 17:13:25,910 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:52 - Initializing database with URL: "sqlite+aiosqlite:///ultibot_local.db" # Modificado para usar SQLite local
2025-06-25 17:13:25,910 - ultibot_backend.dependencies - ERROR - [MainThread] - dependencies.py:68 - Failed to initialize database: Could not parse SQLAlchemy URL from given URL string
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 53, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string
2025-06-25 17:13:25,910 - ultibot_backend - CRITICAL - [MainThread] - main.py:98 - Error fatal durante el arranque de la aplicación (lifespan): Could not parse SQLAlchemy URL from given URL string
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\main.py", line 94, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 112, in initialize_services
    await initialize_database()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 53, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string
2025-06-25 17:13:25,916 - uvicorn.error - ERROR - [MainThread] - on.py:121 - Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 732, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\main.py", line 94, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 112, in initialize_services
    await initialize_database()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 53, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string

2025-06-25 17:13:25,916 - uvicorn.error - ERROR - [MainThread] - on.py:59 - Application startup failed. Exiting.
2025-06-25 17:14:32,755 - ultibot_backend - INFO - [MainThread] - main.py:115 - Creando nueva instancia de FastAPI...
2025-06-25 17:14:32,755 - ultibot_backend - INFO - [MainThread] - main.py:158 - Registrando routers de la API...
2025-06-25 17:14:32,776 - ultibot_backend - INFO - [MainThread] - main.py:169 - Todos los routers han sido registrados.
2025-06-25 17:14:32,777 - ultibot_backend - INFO - [MainThread] - main.py:222 - Instancia global de la aplicación creada.
2025-06-25 17:14:32,777 - uvicorn.error - INFO - [MainThread] - server.py:82 - Started server process [20644]
2025-06-25 17:14:32,777 - uvicorn.error - INFO - [MainThread] - on.py:48 - Waiting for application startup.
2025-06-25 17:14:32,777 - ultibot_backend - INFO - [MainThread] - main.py:86 - Iniciando UltiBot Backend (lifespan)...
2025-06-25 17:14:32,777 - ultibot_backend - INFO - [MainThread] - main.py:91 - DependencyContainer adjuntado a app.state: True
2025-06-25 17:14:32,777 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:112 - Initializing dependency container...
2025-06-25 17:14:32,777 - ultibot_backend.dependencies - WARNING - [MainThread] - dependencies.py:47 - Using local SQLite database: "sqlite+aiosqlite:///ultibot_local.db" # Modificado para usar SQLite local. This is for development.
2025-06-25 17:14:32,777 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:54 - Initializing database with URL: "sqlite+aiosqlite:///ultibot_local.db"
2025-06-25 17:14:32,777 - ultibot_backend.dependencies - ERROR - [MainThread] - dependencies.py:70 - Failed to initialize database: Could not parse SQLAlchemy URL from given URL string
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 55, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string
2025-06-25 17:14:32,781 - ultibot_backend - CRITICAL - [MainThread] - main.py:98 - Error fatal durante el arranque de la aplicación (lifespan): Could not parse SQLAlchemy URL from given URL string
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\main.py", line 94, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 114, in initialize_services
    await initialize_database()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 55, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string
2025-06-25 17:14:32,784 - uvicorn.error - ERROR - [MainThread] - on.py:121 - Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 732, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\main.py", line 94, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 114, in initialize_services
    await initialize_database()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_backend\dependencies.py", line 55, in initialize_database
    _db_engine = create_async_engine(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\create.py", line 549, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string

2025-06-25 17:14:32,784 - uvicorn.error - ERROR - [MainThread] - on.py:59 - Application startup failed. Exiting.
2025-06-25 17:15:47,348 - ultibot_backend - INFO - [MainThread] - main.py:115 - Creando nueva instancia de FastAPI...
2025-06-25 17:15:47,349 - ultibot_backend - INFO - [MainThread] - main.py:158 - Registrando routers de la API...
2025-06-25 17:15:47,367 - ultibot_backend - INFO - [MainThread] - main.py:169 - Todos los routers han sido registrados.
2025-06-25 17:15:47,368 - ultibot_backend - INFO - [MainThread] - main.py:222 - Instancia global de la aplicación creada.
2025-06-25 17:15:47,368 - uvicorn.error - INFO - [MainThread] - server.py:82 - Started server process [10988]
2025-06-25 17:15:47,368 - uvicorn.error - INFO - [MainThread] - on.py:48 - Waiting for application startup.
2025-06-25 17:15:47,368 - ultibot_backend - INFO - [MainThread] - main.py:86 - Iniciando UltiBot Backend (lifespan)...
2025-06-25 17:15:47,368 - ultibot_backend - INFO - [MainThread] - main.py:91 - DependencyContainer adjuntado a app.state: True
2025-06-25 17:15:47,368 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:106 - Initializing dependency container...
2025-06-25 17:15:47,368 - ultibot_backend.dependencies - WARNING - [MainThread] - dependencies.py:45 - Using local SQLite database: sqlite+aiosqlite:///ultibot_local.db. This is for development.
2025-06-25 17:15:47,368 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:48 - Initializing database with URL: sqlite+aiosqlite:///ultibot_local.db
2025-06-25 17:15:47,381 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing <function connect.<locals>.connector at 0x000002655C9B67A0>
2025-06-25 17:15:47,381 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation <function connect.<locals>.connector at 0x000002655C9B67A0> completed
2025-06-25 17:15:47,385 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655C966A70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002655C9B5A80>, deterministic=True)
2025-06-25 17:15:47,385 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655C966A70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002655C9B5A80>, deterministic=True) completed
2025-06-25 17:15:47,385 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655C966A70>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-25 17:15:47,387 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655C966A70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-25 17:15:47,387 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,387 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,388 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E640>, 'PRAGMA read_uncommitted', [])
2025-06-25 17:15:47,388 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E640>, 'PRAGMA read_uncommitted', []) completed
2025-06-25 17:15:47,388 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E640>)
2025-06-25 17:15:47,388 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E640>) completed
2025-06-25 17:15:47,389 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E640>)
2025-06-25 17:15:47,389 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E640>) completed
2025-06-25 17:15:47,389 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,389 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,390 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,390 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,390 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E4C0>, 'PRAGMA main.table_info("market_data")', ())
2025-06-25 17:15:47,390 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E4C0>, 'PRAGMA main.table_info("market_data")', ()) completed
2025-06-25 17:15:47,391 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E4C0>)
2025-06-25 17:15:47,391 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E4C0>) completed
2025-06-25 17:15:47,392 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E4C0>)
2025-06-25 17:15:47,392 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E4C0>) completed
2025-06-25 17:15:47,393 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,393 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,393 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97DB40>, 'PRAGMA temp.table_info("market_data")', ())
2025-06-25 17:15:47,393 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97DB40>, 'PRAGMA temp.table_info("market_data")', ()) completed
2025-06-25 17:15:47,394 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97DB40>)
2025-06-25 17:15:47,394 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97DB40>) completed
2025-06-25 17:15:47,394 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97DB40>)
2025-06-25 17:15:47,394 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97DB40>) completed
2025-06-25 17:15:47,395 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,395 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,396 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E740>, 'PRAGMA main.table_info("api_credentials")', ())
2025-06-25 17:15:47,396 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E740>, 'PRAGMA main.table_info("api_credentials")', ()) completed
2025-06-25 17:15:47,396 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E740>)
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E740>) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E740>)
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E740>) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E5C0>, 'PRAGMA main.table_info("user_configurations")', ())
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E5C0>, 'PRAGMA main.table_info("user_configurations")', ()) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E5C0>)
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E5C0>) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E5C0>)
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E5C0>) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E7C0>, 'PRAGMA main.table_info("trades")', ())
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E7C0>, 'PRAGMA main.table_info("trades")', ()) completed
2025-06-25 17:15:47,397 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E7C0>)
2025-06-25 17:15:47,401 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E7C0>) completed
2025-06-25 17:15:47,401 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E7C0>)
2025-06-25 17:15:47,401 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E7C0>) completed
2025-06-25 17:15:47,401 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,402 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,402 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E840>, 'PRAGMA main.table_info("portfolio_snapshots")', ())
2025-06-25 17:15:47,402 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E840>, 'PRAGMA main.table_info("portfolio_snapshots")', ()) completed
2025-06-25 17:15:47,402 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E840>)
2025-06-25 17:15:47,403 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E840>) completed
2025-06-25 17:15:47,403 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E840>)
2025-06-25 17:15:47,403 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E840>) completed
2025-06-25 17:15:47,403 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,404 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,404 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E8C0>, 'PRAGMA main.table_info("opportunities")', ())
2025-06-25 17:15:47,404 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E8C0>, 'PRAGMA main.table_info("opportunities")', ()) completed
2025-06-25 17:15:47,404 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E8C0>)
2025-06-25 17:15:47,405 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E8C0>) completed
2025-06-25 17:15:47,405 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E8C0>)
2025-06-25 17:15:47,405 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E8C0>) completed
2025-06-25 17:15:47,405 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,405 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,407 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E940>, 'PRAGMA main.table_info("strategy_configurations")', ())
2025-06-25 17:15:47,407 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E940>, 'PRAGMA main.table_info("strategy_configurations")', ()) completed
2025-06-25 17:15:47,408 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E940>)
2025-06-25 17:15:47,408 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655C97E940>) completed
2025-06-25 17:15:47,408 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E940>)
2025-06-25 17:15:47,409 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E940>) completed
2025-06-25 17:15:47,409 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,409 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,409 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E940>, '\nCREATE TABLE market_data (\n\tid INTEGER NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tprice NUMERIC(18, 8) NOT NULL, \n\tvolume NUMERIC(18, 8) NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tsource VARCHAR NOT NULL, \n\thigh_24h NUMERIC(18, 8), \n\tlow_24h NUMERIC(18, 8), \n\tchange_24h NUMERIC(18, 8), \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-25 17:15:47,412 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E940>, '\nCREATE TABLE market_data (\n\tid INTEGER NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tprice NUMERIC(18, 8) NOT NULL, \n\tvolume NUMERIC(18, 8) NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tsource VARCHAR NOT NULL, \n\thigh_24h NUMERIC(18, 8), \n\tlow_24h NUMERIC(18, 8), \n\tchange_24h NUMERIC(18, 8), \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-25 17:15:47,414 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E940>)
2025-06-25 17:15:47,414 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E940>) completed
2025-06-25 17:15:47,415 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,415 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,415 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E940>, 'CREATE INDEX ix_market_data_symbol ON market_data (symbol)', ())
2025-06-25 17:15:47,417 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655C97E940>, 'CREATE INDEX ix_market_data_symbol ON market_data (symbol)', ()) completed
2025-06-25 17:15:47,417 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E940>)
2025-06-25 17:15:47,419 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655C97E940>) completed
2025-06-25 17:15:47,419 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,419 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,419 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:15:47,419 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:15:47,420 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:62 - Database tables created and session factory initialized successfully.
2025-06-25 17:15:47,421 - httpx - DEBUG - [MainThread] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-25 17:15:47,422 - httpx - DEBUG - [MainThread] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-25 17:15:47,616 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:12 - RedisCache initialized with URL: redis://localhost:6379/0
2025-06-25 17:15:47,617 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:18 - Redis client created.
2025-06-25 17:15:47,618 - httpx - DEBUG - [MainThread] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-25 17:15:47,619 - httpx - DEBUG - [MainThread] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-25 17:15:47,811 - ultibot_backend.services.order_execution_service - INFO - [MainThread] - order_execution_service.py:343 - Paper Trading Service inicializado con capital virtual: 10000.0 USDT
2025-06-25 17:15:47,818 - ultibot_backend.services.credential_service - INFO - [MainThread] - credential_service.py:30 - CredentialService __init__ intentando obtener encryption_key de AppSettings: Presente
2025-06-25 17:15:47,818 - ultibot_backend.services.credential_service - INFO - [MainThread] - credential_service.py:36 - Pasando la siguiente clave (str) a Fernet: m-28N... (truncada por seguridad)
2025-06-25 17:15:47,818 - ultibot_backend.services.unified_order_execution_service - INFO - [MainThread] - unified_order_execution_service.py:28 - UnifiedOrderExecutionService initialized with both real and paper execution services
2025-06-25 17:15:47,834 - ultibot_backend.services.ai_orchestrator_service - INFO - [MainThread] - ai_orchestrator_service.py:144 - AIOrchestrator initialized with gemini-1.5-pro-latest and PydanticOutputParser.
2025-06-25 17:15:47,835 - ultibot_backend.services.performance_service - INFO - [MainThread] - performance_service.py:29 - PerformanceService initialized. PersistenceService instance: <ultibot_backend.adapters.persistence_service.SupabasePersistenceService object at 0x000002655A871610>
2025-06-25 17:15:47,835 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:186 - Dependency container initialized successfully.
2025-06-25 17:15:47,835 - ultibot_backend - INFO - [MainThread] - main.py:95 - Contenedor de dependencias inicializado en lifespan.
2025-06-25 17:15:47,836 - ultibot_backend - INFO - [MainThread] - main.py:101 - Aplicación iniciada correctamente (lifespan).
2025-06-25 17:15:47,836 - uvicorn.error - INFO - [MainThread] - on.py:62 - Application startup complete.
2025-06-25 17:17:56,277 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 17:17:56,284 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:17:56,285 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:17:56,285 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CA32AC0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-25 17:17:56,285 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CA32AC0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-25 17:17:56,285 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CA32AC0>)
2025-06-25 17:17:56,286 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CA32AC0>) completed
2025-06-25 17:17:56,286 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CA32AC0>)
2025-06-25 17:17:56,286 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CA32AC0>) completed
2025-06-25 17:17:56,287 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:17:56,287 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:17:56,288 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:17:56,288 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:17:56,288 - ultibot_backend.services.config_service - INFO - [MainThread] - config_service.py:71 - Configuración de usuario cargada exitosamente para el user_id: 00000000-0000-0000-0000-000000000001
2025-06-25 17:17:56,289 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 17:17:56,290 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/config HTTP/1.1" 200
2025-06-25 17:17:56,322 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/trades
2025-06-25 17:17:56,323 - ultibot_backend.adapters.persistence_service - DEBUG - [MainThread] - persistence_service.py:564 - get_trades_with_filters - user_id: 00000000-0000-0000-0000-000000000001, trading_mode: paper, status: None, symbol: None, start_date: None, end_date: None, limit: 100, offset: 0
2025-06-25 17:17:56,325 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:17:56,325 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:17:56,326 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CA32740>, 'SELECT trades.id, trades.user_id, trades.mode, trades.symbol, trades.side, trades.position_status, trades.created_at, trades.updated_at, trades.closed_at, trades.data \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 100, 0))
2025-06-25 17:17:56,326 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CA32740>, 'SELECT trades.id, trades.user_id, trades.mode, trades.symbol, trades.side, trades.position_status, trades.created_at, trades.updated_at, trades.closed_at, trades.data \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 100, 0)) completed
2025-06-25 17:17:56,327 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CA32740>)
2025-06-25 17:17:56,328 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CA32740>) completed
2025-06-25 17:17:56,328 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CA32740>)
2025-06-25 17:17:56,328 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CA32740>) completed
2025-06-25 17:17:56,329 - ultibot_backend.adapters.persistence_service - DEBUG - [MainThread] - persistence_service.py:603 - get_trades_with_filters - Trades recuperados: 0
2025-06-25 17:17:56,329 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:17:56,330 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:17:56,330 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:17:56,330 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:17:56,330 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-25 17:17:56,332 - ultibot_backend.api.v1.endpoints.strategies - INFO - [MainThread] - strategies.py:78 - Listing strategies for user 00000000-0000-0000-0000-000000000001
2025-06-25 17:17:56,334 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing <function connect.<locals>.connector at 0x000002655CBE6CA0>
2025-06-25 17:17:56,334 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:17:56,336 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.started host='api.binance.com' port=443 local_address=None timeout=10.0 socket_options=None
2025-06-25 17:17:56,336 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation <function connect.<locals>.connector at 0x000002655CBE6CA0> completed
2025-06-25 17:17:56,336 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/trades - Status: 200
2025-06-25 17:17:56,337 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/trades?trading_mode=paper&limit=100&offset=0&status=open&user_id=00000000-0000-0000-0000-000000000001 HTTP/1.1" 200
2025-06-25 17:17:56,337 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655CC085E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002655C9B5A80>, deterministic=True)
2025-06-25 17:17:56,338 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655CC085E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000002655C9B5A80>, deterministic=True) completed
2025-06-25 17:17:56,338 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655CC085E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-25 17:17:56,338 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000002655CC085E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-25 17:17:56,340 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655CC085E0>)
2025-06-25 17:17:56,340 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655CC085E0>) completed
2025-06-25 17:17:56,340 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CBDA7C0>, 'SELECT strategy_configurations.id, strategy_configurations.user_id, strategy_configurations.data, strategy_configurations.config_name, strategy_configurations.base_strategy_type, strategy_configurations.is_active_paper_mode, strategy_configurations.is_active_real_mode, strategy_configurations.created_at, strategy_configurations.updated_at \nFROM strategy_configurations \nWHERE strategy_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-25 17:17:56,342 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CBDA7C0>, 'SELECT strategy_configurations.id, strategy_configurations.user_id, strategy_configurations.data, strategy_configurations.config_name, strategy_configurations.base_strategy_type, strategy_configurations.is_active_paper_mode, strategy_configurations.is_active_real_mode, strategy_configurations.created_at, strategy_configurations.updated_at \nFROM strategy_configurations \nWHERE strategy_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-25 17:17:56,342 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CBDA7C0>)
2025-06-25 17:17:56,343 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CBDA7C0>) completed
2025-06-25 17:17:56,343 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CBDA7C0>)
2025-06-25 17:17:56,344 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CBDA7C0>) completed
2025-06-25 17:17:56,345 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>)
2025-06-25 17:17:56,345 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>) completed
2025-06-25 17:17:56,345 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>)
2025-06-25 17:17:56,346 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>) completed
2025-06-25 17:17:56,346 - ultibot_backend.api.v1.endpoints.strategies - INFO - [MainThread] - strategies.py:90 - Retrieved 0 strategies
2025-06-25 17:17:56,347 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 200
2025-06-25 17:17:56,347 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54876 - "GET /api/v1/strategies HTTP/1.1" 200
2025-06-25 17:17:56,527 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002655C83D110>
2025-06-25 17:17:56,527 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002655C8D19A0> server_hostname='api.binance.com' timeout=10.0
2025-06-25 17:17:56,610 - httpcore.connection - DEBUG - [MainThread] - _trace.py:87 - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002655CA20350>
2025-06-25 17:17:56,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:17:56,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:17:56,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:17:56,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:17:56,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:17:56,972 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'302'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:17:56 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'8834753d-55b4-4415-b36c-e227c5c1a787'), (b'x-mbx-used-weight', b'2'), (b'x-mbx-used-weight-1m', b'2'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'pTz2dh36VMI7gRuThINujpj7GYLzdahPxBxvt9yw4VvevIepCGEK0Q==')])
2025-06-25 17:17:56,974 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:17:56,975 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:17:56,975 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:17:56,976 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:17:56,976 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:17:56,977 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:17:56,978 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:17:56,979 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54877 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:17:57,986 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:17:57,988 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:17:57,988 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:17:57,989 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:17:57,989 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:17:57,989 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:17:58,352 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:17:58 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'd4c77797-a9d6-476a-aa78-489c87c4ef39'), (b'x-mbx-used-weight', b'4'), (b'x-mbx-used-weight-1m', b'4'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'9adQrL4e1Mrc0f93iY0vOdyd9Th7V9SykRrrY7jNw1NqGZDyFdKALw==')])
2025-06-25 17:17:58,352 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:17:58,352 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:17:58,352 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:17:58,352 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:17:58,352 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:17:58,352 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:17:58,352 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:17:58,352 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:17:59,377 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:17:59,379 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:17:59,379 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:17:59,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:17:59,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:17:59,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:17:59,743 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'301'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:17:59 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'94b4f18b-2dee-40ba-87db-c4b7aa7bc7b2'), (b'x-mbx-used-weight', b'6'), (b'x-mbx-used-weight-1m', b'6'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'sDHTJ7_dJpNmuHh38HiY80AypprhjHO3XJ2ENKxXGDZKr3QCgngHQg==')])
2025-06-25 17:17:59,743 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:17:59,743 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:17:59,743 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:17:59,745 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:17:59,745 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:17:59,745 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:17:59,745 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:17:59,745 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:00,768 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:00,772 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:00,772 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:00,772 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:00,772 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:00,774 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:01,122 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:01 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'ac290191-1bd9-46a9-a3c2-63d7d44751ae'), (b'x-mbx-used-weight', b'2'), (b'x-mbx-used-weight-1m', b'2'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'XYzuhzcdHFJD_clwZJ1DtEVsxBn45DQ29nq46dyqtMDhvNhGQ0HBQg==')])
2025-06-25 17:18:01,122 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:01,132 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:01,132 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:01,132 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:01,132 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:01,132 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:01,134 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:01,134 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:02,163 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:02,163 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:02,163 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:02,170 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:02,170 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:02,172 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:02,526 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:02 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'f61dacd8-fc30-415d-84bc-ff0a1db501f2'), (b'x-mbx-used-weight', b'4'), (b'x-mbx-used-weight-1m', b'4'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'niehQuBGTzXKE6pOp2bzQA7Z3nsZyRHcjV-X77rPBY3KrxtXyzOsEA==')])
2025-06-25 17:18:02,527 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:02,527 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:02,528 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:02,528 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:02,528 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:02,529 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:02,530 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:02,530 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:03,054 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 17:18:03,055 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 17:18:03,056 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/config HTTP/1.1" 200
2025-06-25 17:18:03,087 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/trades
2025-06-25 17:18:03,088 - ultibot_backend.adapters.persistence_service - DEBUG - [MainThread] - persistence_service.py:564 - get_trades_with_filters - user_id: 00000000-0000-0000-0000-000000000001, trading_mode: paper, status: None, symbol: None, start_date: None, end_date: None, limit: 100, offset: 0
2025-06-25 17:18:03,089 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:18:03,090 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:18:03,090 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CBE22C0>, 'SELECT trades.id, trades.user_id, trades.mode, trades.symbol, trades.side, trades.position_status, trades.created_at, trades.updated_at, trades.closed_at, trades.data \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 100, 0))
2025-06-25 17:18:03,091 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CBE22C0>, 'SELECT trades.id, trades.user_id, trades.mode, trades.symbol, trades.side, trades.position_status, trades.created_at, trades.updated_at, trades.closed_at, trades.data \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 100, 0)) completed
2025-06-25 17:18:03,092 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CBE22C0>)
2025-06-25 17:18:03,092 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CBE22C0>) completed
2025-06-25 17:18:03,093 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CBE22C0>)
2025-06-25 17:18:03,094 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CBE22C0>) completed
2025-06-25 17:18:03,094 - ultibot_backend.adapters.persistence_service - DEBUG - [MainThread] - persistence_service.py:603 - get_trades_with_filters - Trades recuperados: 0
2025-06-25 17:18:03,095 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:18:03,095 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:18:03,096 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:03,096 - aiosqlite - DEBUG - [Thread-1] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>)
2025-06-25 17:18:03,097 - aiosqlite - DEBUG - [Thread-1] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655C966A70>) completed
2025-06-25 17:18:03,097 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:03,097 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:03,098 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:03,098 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:03,100 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:03,100 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-25 17:18:03,101 - ultibot_backend.api.v1.endpoints.strategies - INFO - [MainThread] - strategies.py:78 - Listing strategies for user 00000000-0000-0000-0000-000000000001
2025-06-25 17:18:03,101 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655CC085E0>)
2025-06-25 17:18:03,102 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/trades - Status: 200
2025-06-25 17:18:03,102 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000002655CC085E0>) completed
2025-06-25 17:18:03,102 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/trades?trading_mode=paper&limit=100&offset=0&status=open&user_id=00000000-0000-0000-0000-000000000001 HTTP/1.1" 200
2025-06-25 17:18:03,102 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CBE2440>, 'SELECT strategy_configurations.id, strategy_configurations.user_id, strategy_configurations.data, strategy_configurations.config_name, strategy_configurations.base_strategy_type, strategy_configurations.is_active_paper_mode, strategy_configurations.is_active_real_mode, strategy_configurations.created_at, strategy_configurations.updated_at \nFROM strategy_configurations \nWHERE strategy_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-25 17:18:03,104 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000002655CBE2440>, 'SELECT strategy_configurations.id, strategy_configurations.user_id, strategy_configurations.data, strategy_configurations.config_name, strategy_configurations.base_strategy_type, strategy_configurations.is_active_paper_mode, strategy_configurations.is_active_real_mode, strategy_configurations.created_at, strategy_configurations.updated_at \nFROM strategy_configurations \nWHERE strategy_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-25 17:18:03,104 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CBE2440>)
2025-06-25 17:18:03,105 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002655CBE2440>) completed
2025-06-25 17:18:03,105 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CBE2440>)
2025-06-25 17:18:03,105 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002655CBE2440>) completed
2025-06-25 17:18:03,106 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>)
2025-06-25 17:18:03,106 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>) completed
2025-06-25 17:18:03,107 - aiosqlite - DEBUG - [Thread-2] - core.py:104 - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>)
2025-06-25 17:18:03,107 - aiosqlite - DEBUG - [Thread-2] - core.py:106 - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000002655CC085E0>) completed
2025-06-25 17:18:03,108 - ultibot_backend.api.v1.endpoints.strategies - INFO - [MainThread] - strategies.py:90 - Retrieved 0 strategies
2025-06-25 17:18:03,109 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 200
2025-06-25 17:18:03,110 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54884 - "GET /api/v1/strategies HTTP/1.1" 200
2025-06-25 17:18:03,452 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:03 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'502deb99-0de8-4e4b-a1a4-4df998a113dd'), (b'x-mbx-used-weight', b'6'), (b'x-mbx-used-weight-1m', b'6'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'FApWETsEl0ULwl5i4MuHTFfUkPebKk4STUPDMoNvbseeUgEBN95muQ==')])
2025-06-25 17:18:03,452 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:03,452 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:03,452 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:03,452 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:03,452 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:03,452 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:03,452 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:03,452 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54885 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:03,548 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:03,549 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:03,550 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:03,550 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:03,550 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:03,550 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:03,912 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:03 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'502deb99-0de8-4e4b-a1a4-4df998a113dd'), (b'x-mbx-used-weight', b'8'), (b'x-mbx-used-weight-1m', b'8'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'fGg7qXHCwlIzJTQRRVpZNS9KntjP0VrcD7htxsFWbbjyy-m4G9E-Lg==')])
2025-06-25 17:18:03,912 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:03,912 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:03,912 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:03,912 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:03,912 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:03,912 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:03,912 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:03,912 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:04,462 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:04,462 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:04,462 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:04,462 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:04,466 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:04,466 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:04,812 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:04 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'65974eae-9d9e-4e82-9a83-2c113587aa89'), (b'x-mbx-used-weight', b'10'), (b'x-mbx-used-weight-1m', b'10'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'dF--h7lOZt8NntyFQaAi9QK0D5XZUDFq-Ksxo-wUowFvvluyKuS14A==')])
2025-06-25 17:18:04,812 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:04,812 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:04,812 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:04,812 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:04,822 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:04,822 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:04,822 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:04,822 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:04,927 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:04,927 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:04,930 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:04,930 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:04,930 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:04,930 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:05,282 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'301'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:05 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'12cb8869-f894-4c5e-a4e0-ec720f8ce1c4'), (b'x-mbx-used-weight', b'12'), (b'x-mbx-used-weight-1m', b'12'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'vwa-Gm8EleB7oSy_RSCNQCmf5uY1BhgcwTACmeUac4Y7fcK0CQsJ9g==')])
2025-06-25 17:18:05,282 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:05,282 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:05,282 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:05,282 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:05,282 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:05,282 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:05,282 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:05,282 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:05,832 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:05,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:05,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:05,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:05,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:05,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:06,212 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:06 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'f60621d7-6068-40ac-8a11-dceb8bd3d9f2'), (b'x-mbx-used-weight', b'14'), (b'x-mbx-used-weight-1m', b'14'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'RvGU62Zm-JplNpQ6HvKlKUWUfEdVIDGPLbxw81fJHp9HBR7ivLj-CQ==')])
2025-06-25 17:18:06,212 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:06,212 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:06,212 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:06,212 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:06,212 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:06,212 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:06,212 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:06,212 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:06,315 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:06,317 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:06,317 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:06,317 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:06,318 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:06,318 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:06,675 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:06 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'9b3672ac-c8f2-4221-9f2d-b5ec28da16ec'), (b'x-mbx-used-weight', b'16'), (b'x-mbx-used-weight-1m', b'16'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'NCdSVUHxT5_PaDULVBY52X7FNfErv9n7Fu8ovFsHjmuwKI71V21sSQ==')])
2025-06-25 17:18:06,677 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:06,677 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:06,677 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:06,677 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:06,677 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:06,677 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:06,677 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:06,677 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54875 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:07,327 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:07,327 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:07,332 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:07,332 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:07,332 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:07,332 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:07,690 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'304'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:07 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'43adbaeb-2c4a-4d87-b81d-5e466f0e93b4'), (b'x-mbx-used-weight', b'18'), (b'x-mbx-used-weight-1m', b'18'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'D1J3BjG4PhNTpjW5ekBa0E3mzGph0B9k-osfoIUeKY69WiHpPNj2sA==')])
2025-06-25 17:18:07,692 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:07,693 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:07,693 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:07,694 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:07,694 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:07,694 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:07,695 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:07,695 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:08,697 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:08,699 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:08,700 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:08,700 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:08,700 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:08,700 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:09,057 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'301'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:09 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'ac290191-1bd9-46a9-a3c2-63d7d44751ae'), (b'x-mbx-used-weight', b'20'), (b'x-mbx-used-weight-1m', b'20'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'y6LDBYpoaE3fTYQW3yjNNzk1ZfB9qm2BPXAXs2MybBDT1nKA7SfHaQ==')])
2025-06-25 17:18:09,059 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:09,059 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:09,060 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:09,060 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:09,062 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:09,062 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:09,062 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:09,062 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:10,079 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:10,079 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:10,082 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:10,082 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:10,082 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:10,082 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:10,432 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'301'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:10 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'a12b62f3-bc4c-4a0c-80cc-5dea6b3d1cf3'), (b'x-mbx-used-weight', b'22'), (b'x-mbx-used-weight-1m', b'22'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'RYTgwXdBuzV-MsA55wkQdHfyQqEt6iGtxb9odQjqdbDwdmRfmeuPfg==')])
2025-06-25 17:18:10,442 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:10,442 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:10,444 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:10,444 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:10,444 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:10,444 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:10,444 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:10,444 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:11,462 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:11,462 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:11,462 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:11,462 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:11,467 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:11,467 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:11,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:11 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'12cb8869-f894-4c5e-a4e0-ec720f8ce1c4'), (b'x-mbx-used-weight', b'24'), (b'x-mbx-used-weight-1m', b'24'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'ha6aePKRMn4SPl6_LZMrVutxUBH0RkJSYHgZXkXA1_7Yf_YeDujX5Q==')])
2025-06-25 17:18:11,832 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:11,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:11,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:11,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:11,832 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:11,832 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:11,832 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:11,832 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:12,862 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:12,862 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:12,862 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:12,862 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:12,867 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:12,867 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:13,224 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'299'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:13 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'77ec60d1-961f-4243-9a5e-8b519ad60929'), (b'x-mbx-used-weight', b'26'), (b'x-mbx-used-weight-1m', b'26'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'6o7t4UkvZioqEnbtPrjKpXd4PK2rTJiuxQrcE2L431IpnDw0KbcUtA==')])
2025-06-25 17:18:13,225 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:13,226 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:13,227 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:13,228 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:13,228 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:13,228 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:13,230 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:13,230 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:14,248 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:14,249 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:14,249 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:14,250 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:14,250 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:14,250 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:14,610 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:14 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'078a0fd4-2624-406d-8dd9-8795f7d4721b'), (b'x-mbx-used-weight', b'28'), (b'x-mbx-used-weight-1m', b'28'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'F4czLR1mhMxNBAyx1ZoV1DVdzGn71Jo1OYRCOSIhhpacM2cWhlxTkg==')])
2025-06-25 17:18:14,612 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:14,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:14,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:14,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:14,612 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:14,612 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:14,612 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:14,612 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:15,628 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:15,628 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:15,628 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:15,632 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:15,632 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:15,632 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:16,013 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'303'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:15 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'77ec60d1-961f-4243-9a5e-8b519ad60929'), (b'x-mbx-used-weight', b'30'), (b'x-mbx-used-weight-1m', b'30'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'gM9L_Pf_26OQR1QwO8hYL9lhHO80xo65hJfFH-QNuL4W-zwtZqhlCg==')])
2025-06-25 17:18:16,013 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:16,013 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:16,013 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:16,013 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:16,013 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:16,013 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:16,013 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:16,013 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:17,028 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:17,032 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:17,034 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:17,034 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:17,034 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:17,034 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:17,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'302'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:17 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'167b6fc9-7bc1-49ca-86d0-98406902431c'), (b'x-mbx-used-weight', b'32'), (b'x-mbx-used-weight-1m', b'32'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'5XmzykId0jN3B0LqCn04aTC-xo_Z6ML0uuFlcbqbPBg4lx_Shi4h0A==')])
2025-06-25 17:18:17,382 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:17,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:17,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:17,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:17,382 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:17,392 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:17,393 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:17,393 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:18,394 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:18,394 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:18,394 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:18,394 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:18,394 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:18,394 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:18,762 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'306'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:18 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'1efb8d0f-092c-42eb-914c-4ece97c849cd'), (b'x-mbx-used-weight', b'34'), (b'x-mbx-used-weight-1m', b'34'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'hlPo3v1UQAJSM3ZzBn0XBKVOL9-Zi0SniU_yCQfv-7XL1NoZph4TZQ==')])
2025-06-25 17:18:18,762 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:18,762 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:18,762 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:18,762 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:18,762 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:18,762 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:18,762 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:18,762 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:19,780 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:19,782 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:19,782 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:19,782 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:19,782 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:19,782 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:20,132 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'304'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:20 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'e713ab8e-538e-480d-9401-65c39edc9294'), (b'x-mbx-used-weight', b'36'), (b'x-mbx-used-weight-1m', b'36'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'_JX0ZvVMdz_U6R-KJsp6TqpLEKmx7LNxixjt_3QAFE0gJQshcFQnig==')])
2025-06-25 17:18:20,142 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:20,142 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:20,143 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:20,144 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:20,144 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:20,144 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:20,144 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:20,144 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:21,144 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:21,146 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:21,146 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:21,146 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:21,146 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:21,149 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:21,512 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'304'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:21 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'167b6fc9-7bc1-49ca-86d0-98406902431c'), (b'x-mbx-used-weight', b'38'), (b'x-mbx-used-weight-1m', b'38'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'5XKCiZXIYbW1df2JcolpkV_EXuDLwW84VVp-58k4D3-ABO8xUyNBCA==')])
2025-06-25 17:18:21,512 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:21,512 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:21,512 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:21,522 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:21,522 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:21,524 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:21,525 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:21,525 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
2025-06-25 17:18:22,546 - ultibot_backend - INFO - [MainThread] - main.py:127 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 17:18:22,546 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-25 17:18:22,546 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_headers.complete
2025-06-25 17:18:22,546 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-25 17:18:22,546 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - send_request_body.complete
2025-06-25 17:18:22,549 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 17:18:22,906 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'302'), (b'Connection', b'keep-alive'), (b'Date', b'Wed, 25 Jun 2025 21:18:22 GMT'), (b'Access-Control-Allow-Methods', b'GET, HEAD, OPTIONS'), (b'Server', b'nginx'), (b'x-mbx-uuid', b'98403464-fd08-4516-8b36-9502cc143cae'), (b'x-mbx-used-weight', b'40'), (b'x-mbx-used-weight-1m', b'40'), (b'content-encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubdomains'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Xss-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'Content-Security-Policy', b"default-src 'self'"), (b'X-Content-Security-Policy', b"default-src 'self'"), (b'X-WebKit-CSP', b"default-src 'self'"), (b'Cache-Control', b'no-cache, no-store, must-revalidate'), (b'Pragma', b'no-cache'), (b'Expires', b'0'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 090f307c9c89f89a94f72ca34a59c174.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'EZE50-P1'), (b'X-Amz-Cf-Id', b'ZjBhbBVyl5ns5ksHsIWAVyxp3PzFn7PtzwQRKrPyQKl_dbIa7u_u2w==')])
2025-06-25 17:18:22,907 - httpx - INFO - [MainThread] - _client.py:1786 - HTTP Request: GET https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT "HTTP/1.1 200 OK"
2025-06-25 17:18:22,907 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-25 17:18:22,908 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - receive_response_body.complete
2025-06-25 17:18:22,908 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.started
2025-06-25 17:18:22,908 - httpcore.http11 - DEBUG - [MainThread] - _trace.py:87 - response_closed.complete
2025-06-25 17:18:22,909 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 17:18:22,910 - ultibot_backend - INFO - [MainThread] - main.py:129 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 17:18:22,910 - uvicorn.access - INFO - [MainThread] - httptools_impl.py:481 - 127.0.0.1:54883 - "GET /api/v1/market/tickers?symbols=BTC%2FUSDT HTTP/1.1" 200
