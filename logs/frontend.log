2025-06-25 11:24:39,469 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:24:39,469 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:24:41,737 - ultibot_ui.workers - INFO - StrategiesWorker finished.
2025-06-25 11:24:51,960 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 11:24:54,218 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:24:54,218 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:24:54,218 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:24:54,468 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:24:54,468 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:24:57,561 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: dashboard
2025-06-25 15:25:02,483 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:25:02,485 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:25:02,490 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:25:02,491 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:25:03,137 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:25:03,138 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:25:04,142 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 11:25:09,476 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:25:09,476 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:09,705 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:25:19,520 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: portfolio
2025-06-25 11:25:24,226 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:25:24,227 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:25:24,227 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:24,306 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: strategies
2025-06-25 11:25:24,306 - ultibot_ui.windows.main_window - INFO - Iniciando la obtención de estrategias en segundo plano...
2025-06-25 11:25:24,306 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:24,492 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:25:24,492 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:31,455 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: history
2025-06-25 15:25:33,166 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:25:33,168 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:25:33,173 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:25:33,175 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:25:33,773 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:25:33,774 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:25:36,388 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: settings
2025-06-25 11:25:39,484 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:25:39,484 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:54,215 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:25:54,216 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:25:54,216 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:54,480 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:25:54,481 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002D998B30CD0>, coroutine_factory: set
2025-06-25 11:25:55,554 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 23 active threads...
2025-06-25 11:25:55,555 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:25:55,555 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:25:55,555 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:25:55,555 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:25:55,555 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:25:55,556 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:25:55,556 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:25:55,556 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:25:55,556 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:25:55,556 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:25:55,556 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:25:55,557 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 11:25:55,557 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,558 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,558 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:25:55,558 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:25:55,559 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:25:55,559 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,559 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,560 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PriceFeedWorkerThread_BTC/USDT...
2025-06-25 11:25:55,561 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,561 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,561 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,562 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,562 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,563 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,563 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,564 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread StrategiesWorkerThread...
2025-06-25 11:25:55,564 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,564 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,565 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,565 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,566 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,567 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,567 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,568 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread StrategiesWorkerThread...
2025-06-25 11:25:55,568 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,568 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,570 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:25:55,570 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:25:55,570 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:25:55,587 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 11:25:55,588 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 11:25:55,588 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:25:55,589 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:25:55,589 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:25:55,589 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:25:55,589 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:25:55,589 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:25:55,589 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:25:55,589 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:25:55,590 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:25:55,591 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:25:55,591 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:25:55,591 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 11:25:55,591 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:25:55,592 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:25:55,592 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:25:55,592 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:25:55,592 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 11:25:55,593 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 11:25:55,601 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 11:25:55,602 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 11:25:55,602 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 11:25:55,602 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 11:25:55,604 - __main__ - INFO - Aplicación cerrada.
2025-06-25 15:26:03,802 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:26:03,804 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:26:03,810 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:26:03,812 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:26:04,461 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:26:04,462 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:26:34,487 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:26:34,490 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:26:34,495 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:26:34,497 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:26:35,198 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:26:35,199 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:27:05,228 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:27:05,230 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:27:05,237 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:27:05,240 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:27:05,791 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:27:05,793 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:27:35,819 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:27:35,820 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:27:35,826 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:27:35,828 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:27:36,483 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:27:36,484 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:28:01,915 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:28:01,915 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:28:01,921 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:28:01,922 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:28:01,922 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:28:01,922 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:28:01,922 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:28:02,130 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:28:02,155 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:28:02,155 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:28:02,451 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:28:02,453 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:28:02,453 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:02,477 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:28:02,480 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:02,480 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:28:02,480 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:28:02,480 - ultibot_ui.views.strategies_view - INFO - Starting StrategiesWorker...
2025-06-25 11:28:02,480 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread Qt mainThread.
2025-06-25 11:28:02,488 - ultibot_ui.workers - DEBUG - StrategiesWorker: Coroutine scheduled on the main event loop.
2025-06-25 11:28:02,511 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:28:02,516 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:28:02,522 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se encontró el bucle de eventos de asyncio principal. La funcionalidad de feed de precios puede no funcionar correctamente.
2025-06-25 11:28:02,522 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:28:02,656 - qasync._QEventLoop - ERROR - Exception in callback <TaskStepMethWrapper object at 0x0000012474EC9F60>()
handle: <Handle <TaskStepMethWrapper object at 0x0000012474EC9F60>()>
Traceback (most recent call last):
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
RuntimeError: Cannot enter into task <Task pending name='Task-2' coro=<StrategiesWorker._fetch_strategies() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py:110> cb=[_chain_future.<locals>._call_set_state() at C:\Program Files\Python311\Lib\asyncio\futures.py:394]> while another task <Task pending name='Task-1' coro=<main.<locals>._main_async_wrapper() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:153>> is being executed.
2025-06-25 15:28:06,510 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:28:06,512 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:28:06,517 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:28:06,520 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:28:07,125 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:28:07,127 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:28:17,451 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:28:23,383 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se puede iniciar el feed de precios porque el bucle de eventos principal no está disponible.
2025-06-25 11:28:23,383 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:28:23,400 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:28:23,429 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:28:23,452 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 11:28:23,452 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 11:28:23,452 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 11:28:23,452 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:28:23,452 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 11:28:23,468 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:28:23,514 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000012474EF1A10>
2025-06-25 11:28:23,516 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:28:23,517 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:28:23,517 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:28:23,518 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:28:23,518 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:28:23,518 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 15:28:23,520 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 11:28:23,523 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000012474EE87C0>, 127, 0, <_overlapped.Overlapped object at 0x0000012474E1A970>)]
2025-06-25 11:28:23,524 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000012474EE87C0>
2025-06-25 11:28:23,525 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:28:23 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 11:28:23,526 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:28:23,526 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:28:23,527 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:28:23,528 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:28:23,528 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:28:23,529 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:28:23,529 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:28:23,529 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 11:28:23,530 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 11:28:23,530 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 11:28:23,530 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 11:28:23,530 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 11:28:23,530 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:28:23,531 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,531 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-25 11:28:23,531 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,532 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:28:23,532 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,532 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:28:23,532 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 11:28:23,532 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 11:28:23,533 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:28:23,533 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:28:23,534 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,535 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,535 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,535 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,536 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:28:23,536 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 11:28:23,536 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 11:28:23,536 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,536 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 11:28:23,536 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,536 - ultibot_ui.windows.main_window - INFO - Iniciando la obtención de estrategias en segundo plano...
2025-06-25 11:28:23,536 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:23,536 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 11:28:23,539 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:28:23,539 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 11:28:23,539 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:28:23,539 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:28:23,541 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:28:23,543 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:28:23,543 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:28:23,544 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:28:23,544 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:28:23,544 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 15:28:23,553 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 15:28:23,555 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 11:28:23,558 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000012474EE87C0>, 126, 0, <_overlapped.Overlapped object at 0x0000012474E1A970>)]
2025-06-25 11:28:23,559 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000012474EE87C0>
2025-06-25 11:28:23,559 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:28:23 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 11:28:23,559 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:28:23,559 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:28:23,560 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:28:23,560 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:28:23,560 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:28:23,560 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:28:23,560 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:28:23,562 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T15:28:23.555375'}
2025-06-25 11:28:23,562 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 11:28:23,639 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:28:23,639 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:28:23,639 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:25,893 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: settings
2025-06-25 11:28:26,854 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: history
2025-06-25 11:28:27,672 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: strategies
2025-06-25 11:28:27,672 - ultibot_ui.windows.main_window - INFO - Iniciando la obtención de estrategias en segundo plano...
2025-06-25 11:28:27,672 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:28,261 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: portfolio
2025-06-25 11:28:28,528 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 11:28:28,558 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000012474EE87C0>, 0, 0, <_overlapped.Overlapped object at 0x0000012474E1A970>)]
2025-06-25 11:28:28,559 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000012474EE87C0>
2025-06-25 11:28:29,216 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:28:31,181 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 11:28:32,156 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: dashboard
2025-06-25 11:28:32,481 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:28:32,481 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:28:32,481 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000012474EF0E50>, coroutine_factory: set
2025-06-25 15:28:37,159 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:28:37,162 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:28:37,169 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:28:37,171 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:28:37,864 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:28:37,865 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:28:38,504 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 14 active threads...
2025-06-25 11:28:38,504 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:28:38,504 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:28:38,505 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:28:38,505 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:28:38,505 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:28:38,505 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:28:38,506 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:28:38,506 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:28:38,506 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:28:38,506 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:28:38,506 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:28:38,506 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 11:28:38,506 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,506 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,506 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:28:38,506 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:28:38,506 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:28:38,506 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread StrategiesWorkerThread...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread StrategiesWorkerThread...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:28:38,510 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:28:38,536 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 11:28:38,536 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 11:28:38,537 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:28:38,537 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:28:38,538 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:28:38,538 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:28:38,538 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:28:38,538 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:28:38,539 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:28:38,539 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:28:38,540 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:28:38,540 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:28:38,540 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:28:38,541 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 11:28:38,541 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:28:38,541 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:28:38,543 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:28:38,543 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:28:38,543 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 11:28:38,543 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 11:28:38,552 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 11:28:38,553 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 11:28:38,554 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 11:28:38,554 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 11:28:38,554 - __main__ - INFO - Aplicación cerrada.
2025-06-25 11:28:38,625 - qasync._QEventLoop - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<StrategiesWorker._fetch_strategies() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py:110> cb=[_chain_future.<locals>._call_set_state() at C:\Program Files\Python311\Lib\asyncio\futures.py:394]>
2025-06-25 15:29:07,898 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:29:07,900 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:29:07,906 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:29:07,908 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:29:08,461 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:29:08,463 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:29:38,489 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:29:38,491 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:29:38,498 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:29:38,502 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:29:39,133 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:29:39,134 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:29:46,539 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:29:46,541 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:29:46,542 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:29:46,544 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:29:46,544 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:29:46,544 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:29:46,544 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:29:46,735 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:29:46,757 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:29:46,758 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:29:47,011 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:29:47,016 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:29:47,016 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:29:47,036 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:29:47,036 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:29:47,042 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:29:47,042 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:29:47,045 - ultibot_ui.views.strategies_view - INFO - Starting StrategiesWorker...
2025-06-25 11:29:47,045 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 11:29:47,045 - ultibot_ui.workers - ERROR - Error scheduling StrategiesWorker task: There is no current event loop in thread 'Dummy-2'.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 127, in run
    main_loop = asyncio.get_event_loop()
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 677, in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
RuntimeError: There is no current event loop in thread 'Dummy-2'.
2025-06-25 11:29:47,074 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:29:47,082 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:29:47,087 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se encontró el bucle de eventos de asyncio principal. La funcionalidad de feed de precios puede no funcionar correctamente.
2025-06-25 11:29:47,092 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:29:47,211 - ultibot_ui.views.strategies_view - ERROR - An error occurred in StrategiesWorker: There is no current event loop in thread 'Dummy-2'.
2025-06-25 11:30:02,010 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:30:07,493 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se puede iniciar el feed de precios porque el bucle de eventos principal no está disponible.
2025-06-25 11:30:07,493 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:30:07,512 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:30:07,540 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:30:07,562 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 11:30:07,562 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 11:30:07,562 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 11:30:07,562 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:30:07,563 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 11:30:07,577 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:30:07,631 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F237E80050>
2025-06-25 11:30:07,632 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:30:07,633 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:30:07,633 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:30:07,633 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:30:07,633 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:30:07,634 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 15:30:07,637 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 11:30:07,640 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F218980720>, 127, 0, <_overlapped.Overlapped object at 0x000001F2188AAA30>)]
2025-06-25 11:30:07,641 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F218980720>
2025-06-25 11:30:07,642 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:30:06 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 11:30:07,642 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:30:07,642 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:30:07,643 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:30:07,643 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:30:07,644 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:30:07,644 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:30:07,645 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:30:07,645 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 11:30:07,645 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 11:30:07,645 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 11:30:07,646 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 11:30:07,646 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 11:30:07,646 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:30:07,646 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,646 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-25 11:30:07,647 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,647 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:30:07,647 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,647 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:30:07,647 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 11:30:07,648 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 11:30:07,648 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:30:07,648 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:30:07,649 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,649 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,650 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,650 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,650 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:30:07,651 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 11:30:07,651 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 11:30:07,651 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,651 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 11:30:07,651 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,651 - ultibot_ui.windows.main_window - INFO - Iniciando la obtención de estrategias en segundo plano...
2025-06-25 11:30:07,651 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 11:30:07,651 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 11:30:07,654 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:30:07,654 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 11:30:07,654 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:30:07,654 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:30:07,658 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:30:07,660 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:30:07,660 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:30:07,660 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:30:07,660 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:30:07,661 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 15:30:07,671 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 15:30:07,673 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 11:30:07,675 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F218980720>, 126, 0, <_overlapped.Overlapped object at 0x000001F2188AAA30>)]
2025-06-25 11:30:07,675 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F218980720>
2025-06-25 11:30:07,676 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:30:06 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 11:30:07,676 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:30:07,676 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:30:07,676 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:30:07,677 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:30:07,678 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:30:07,678 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:30:07,678 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:30:07,678 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T15:30:07.672925'}
2025-06-25 11:30:07,678 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 11:30:07,752 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:30:07,752 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:30:07,752 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F218991390>, coroutine_factory: set
2025-06-25 15:30:09,162 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:30:09,166 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:30:09,173 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:30:09,176 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:30:09,735 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:30:09,736 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:30:12,281 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 11 active threads...
2025-06-25 11:30:12,291 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:30:12,291 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:30:12,291 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:30:12,291 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:30:12,292 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:30:12,292 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:30:12,292 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:30:12,293 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:30:12,293 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:30:12,294 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:30:12,294 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:30:12,295 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 11:30:12,295 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,296 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,297 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:30:12,297 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:30:12,297 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:30:12,297 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,298 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,298 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:30:12,299 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,299 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,299 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,300 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,300 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,302 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,302 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread StrategiesWorkerThread...
2025-06-25 11:30:12,302 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:30:12,302 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:30:12,318 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 11:30:12,318 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 11:30:12,318 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:30:12,319 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:30:12,319 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:30:12,319 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:30:12,319 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:30:12,319 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:30:12,320 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:30:12,320 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:30:12,320 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:30:12,321 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:30:12,321 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:30:12,321 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 11:30:12,321 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:30:12,321 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:30:12,321 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:30:12,321 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:30:12,321 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 11:30:12,321 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 11:30:12,333 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 11:30:12,333 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 11:30:12,333 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 11:30:12,338 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 11:30:12,338 - __main__ - INFO - Aplicación cerrada.
2025-06-25 15:30:39,765 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:30:39,768 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:30:39,775 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:30:39,777 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:30:40,426 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:30:40,428 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:31:10,455 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:31:10,457 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:31:10,463 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:31:10,465 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:31:11,088 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:31:11,089 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:31:41,117 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:31:41,121 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:31:41,129 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:31:41,131 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:31:41,789 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:31:41,791 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:32:11,816 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:32:11,817 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:32:11,822 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:32:11,825 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:32:12,471 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:32:12,473 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:32:42,502 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:32:42,504 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:32:42,510 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:32:42,511 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:32:43,104 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:32:43,105 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:33:13,132 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:33:13,135 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:33:13,142 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:33:13,144 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:33:13,803 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:33:13,804 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:33:43,828 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:33:43,830 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:33:43,837 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:33:43,838 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:33:44,504 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:33:44,505 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:34:05,216 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:34:05,217 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:34:05,218 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:34:05,219 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:34:05,219 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:34:05,219 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:34:05,219 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:34:05,412 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:34:05,434 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:34:05,435 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:34:05,731 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:34:05,734 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:34:05,734 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:05,761 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:34:05,761 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:05,763 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:34:05,763 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:34:05,797 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:34:05,805 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:34:05,815 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:34:05,815 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:34:05,817 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:34:05,837 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:34:05,935 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 11:34:05,935 - ultibot_ui.windows.main_window - INFO - Fetching initial user configuration asynchronously (from MainWindow)...
2025-06-25 11:34:05,936 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:05,936 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 11:34:05,936 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 11:34:05,936 - ultibot_ui.views.trading_terminal_view - INFO - Price feed worker started for BTC/USDT.
2025-06-25 11:34:05,936 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: initialize_async_components INVOCADO
2025-06-25 11:34:05,936 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:05,936 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization finished.
2025-06-25 11:34:05,965 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 11:34:05,965 - ultibot_ui.workers - DEBUG - TradingTerminalWorker: run method started in thread PriceFeedWorkerThread_BTC/USDT.
2025-06-25 11:34:05,966 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 11:34:05,966 - ultibot_ui.workers - ERROR - Error scheduling StrategiesWorker task: There is no current event loop in thread 'Dummy-2'.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 127, in run
    main_loop = asyncio.get_event_loop()
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 677, in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
RuntimeError: There is no current event loop in thread 'Dummy-2'.
2025-06-25 11:34:05,966 - ultibot_ui.workers - DEBUG - TradingTerminalWorker: Coroutine scheduled on the main event loop.
2025-06-25 11:34:05,967 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 11:34:05,968 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 11:34:05,968 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:05,969 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 11:34:06,035 - ultibot_ui.views.strategies_view - ERROR - An error occurred in StrategiesWorker: There is no current event loop in thread 'Dummy-2'.
2025-06-25 11:34:06,052 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:34:06,067 - ultibot_ui.workers - INFO - Starting real-time price feed for BTC/USDT...
2025-06-25 11:34:06,067 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:06,067 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:06,068 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:06,070 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:34:06,071 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[Task.task_wakeup()]>, <function IocpProactor.connect.<locals>.finish_connect at 0x0000019F4209D440>, 0, 0, <_overlapped.Overlapped object at 0x0000019F41FBB7B0>)]
2025-06-25 11:34:06,072 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000019F614C4A90>
2025-06-25 11:34:06,073 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.connect.<locals>.finish_connect at 0x0000019F4209D440>
2025-06-25 11:34:06,074 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:06,075 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:06,075 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:06,076 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:06,076 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 11:34:06,076 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000019F4554D210>
2025-06-25 11:34:06,077 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:06,077 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:06,078 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 15:34:06,077 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 11:34:06,078 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:06,079 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:06,081 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:06,086 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 11:34:06,092 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455453A0>, 127, 0, <_overlapped.Overlapped object at 0x0000019F41FBB030>)]
2025-06-25 11:34:06,093 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455453A0>
2025-06-25 11:34:06,094 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:05 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 11:34:06,094 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:34:06,094 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:34:06,095 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:06,096 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:06,097 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:06,097 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:06,097 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:06,098 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 11:34:06,098 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 11:34:06,098 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 11:34:06,098 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 11:34:06,099 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 11:34:06,099 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:34:06,099 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,100 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:34:06,100 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,100 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:34:06,101 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 11:34:06,101 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 11:34:06,101 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:34:06,101 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:34:06,102 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,103 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,103 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,103 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,104 - ultibot_ui.views.orders_view - INFO - OrdersView: User ID set to 00000000-0000-0000-0000-000000000001. Setting up worker.
2025-06-25 11:34:06,104 - ultibot_ui.views.orders_view - INFO - Hilo de OrdersWorker iniciado.
2025-06-25 11:34:06,105 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:34:06,105 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 11:34:06,105 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 11:34:06,105 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,106 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 11:34:06,106 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:06,107 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 11:34:06,109 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:06,109 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 11:34:06,109 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:06,109 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:34:06,111 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:06,112 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:06,112 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:06,112 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:06,113 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:06,113 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 15:34:06,123 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 15:34:06,125 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 11:34:06,127 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB030>)]
2025-06-25 11:34:06,128 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:06,129 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:05 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 11:34:06,129 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:34:06,129 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:34:06,130 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:06,131 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:06,131 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:06,131 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:06,131 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:06,132 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T15:34:06.125272'}
2025-06-25 11:34:06,132 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 11:34:06,209 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:34:06,210 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:34:06,210 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 15:34:06,653 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:06,655 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:06,657 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45545620>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB7B0>)]
2025-06-25 11:34:06,658 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45545620>
2025-06-25 11:34:06,658 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:05 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:06,658 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:06,658 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:06,658 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:06,658 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:06,658 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:06,658 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:06,661 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:06,661 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106827.01, 'priceChangePercent': 1.219, 'quoteVolume': 1731648922.3842723}]
2025-06-25 11:34:06,661 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:07,678 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:07,678 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:07,680 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:07,680 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:07,681 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:07,681 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:07,682 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:07,682 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:07,683 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:08,068 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:08,069 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:08,072 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:08,073 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:08,073 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:07 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:34:08,074 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:08,074 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:08,074 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:08,075 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:08,075 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:08,076 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:08,076 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:08,076 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106822.1, 'priceChangePercent': 1.211, 'quoteVolume': 1731838496.511867}]
2025-06-25 11:34:08,076 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:09,078 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:09,079 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:09,079 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:09,080 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:09,081 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:09,082 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:09,082 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:09,082 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:09,082 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:09,445 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:09,447 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:09,451 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:09,451 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:09,453 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:08 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:09,453 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:09,453 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:09,454 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:09,454 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:09,454 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:09,455 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:09,455 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:09,455 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106820.7, 'priceChangePercent': 1.209, 'quoteVolume': 1731857272.5313234}]
2025-06-25 11:34:09,455 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:10,479 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:10,479 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:10,480 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:10,481 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:10,482 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:10,482 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:10,482 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:10,482 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:10,483 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:10,843 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:10,844 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:10,847 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:10,848 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:10,848 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:10 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:10,849 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:10,849 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:10,849 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:10,849 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:10,849 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:10,850 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:10,850 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:10,850 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106802.13, 'priceChangePercent': 1.192, 'quoteVolume': 1733724476.766078}]
2025-06-25 11:34:10,850 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:11,094 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:11,658 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45545620>, 0, 0, <_overlapped.Overlapped object at 0x0000019F41FBB7B0>)]
2025-06-25 11:34:11,658 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45545620>
2025-06-25 11:34:11,844 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:11,845 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:11,846 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:11,846 - httpcore.connection - DEBUG - close.started
2025-06-25 11:34:11,848 - httpcore.connection - DEBUG - close.complete
2025-06-25 11:34:11,848 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:11,848 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:11,849 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:11,849 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:11,849 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:11,849 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:12,216 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:12,217 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:12,219 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:12,220 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:12,220 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:11 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:12,220 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:12,220 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:12,221 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:12,221 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:12,221 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:12,221 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:12,221 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:12,221 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106818.0, 'priceChangePercent': 1.207, 'quoteVolume': 1733865817.1562967}]
2025-06-25 11:34:12,221 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:13,216 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:13,216 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:13,216 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:13,216 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:13,216 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:13,219 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:13,219 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:13,220 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:13,220 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:13,607 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:13,608 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:13,610 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:13,610 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:13,611 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:12 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:13,611 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:13,611 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:13,612 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:13,612 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:13,612 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:13,612 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:13,612 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:13,612 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106814.9, 'priceChangePercent': 1.204, 'quoteVolume': 1733994973.0083795}]
2025-06-25 11:34:13,612 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 15:34:14,530 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:34:14,532 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:34:14,538 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:34:14,540 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 11:34:14,611 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:14,611 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:14,611 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:14,612 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:14,613 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:14,613 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:14,614 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:14,614 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:14,615 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:14,911 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:34:14,912 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:34:15,246 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:15,249 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:15,252 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:15,252 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:15,253 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:14 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:15,253 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:15,253 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:15,253 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:15,254 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:15,254 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:15,254 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:15,255 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:15,255 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106764.52, 'priceChangePercent': 1.152, 'quoteVolume': 1734378454.4939709}]
2025-06-25 11:34:15,255 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:16,171 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: dashboard
2025-06-25 11:34:16,262 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:16,264 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:16,264 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:16,264 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:16,264 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:16,264 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:16,267 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:16,267 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:16,268 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:16,635 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:16,636 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:16,638 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:16,638 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:16,639 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:15 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:16,639 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:16,639 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:16,639 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:16,639 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:16,639 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:16,639 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:16,639 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:16,641 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106752.37, 'priceChangePercent': 1.14, 'quoteVolume': 1734594124.3053727}]
2025-06-25 11:34:16,641 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:16,711 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 11:34:17,571 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:34:17,646 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:17,646 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:17,646 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:17,646 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:17,646 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:17,646 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:17,646 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:17,650 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:17,651 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:18,024 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:18,025 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:18,028 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:18,029 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:18,030 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:18,031 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:18,031 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:18,031 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:18,032 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:18,032 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:18,032 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:18,033 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:18,033 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106752.37, 'priceChangePercent': 1.14, 'quoteVolume': 1734716390.7831268}]
2025-06-25 11:34:18,034 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:19,045 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:19,046 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:19,046 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:19,046 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:19,046 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:19,049 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:19,049 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:19,049 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:19,050 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:34:19,093 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: portfolio
2025-06-25 15:34:19,416 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:19,418 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:19,421 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:19,422 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:19,423 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:18 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:19,423 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:19,423 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:19,424 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:19,424 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:19,424 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:19,424 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:19,424 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:19,424 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106752.37, 'priceChangePercent': 1.14, 'quoteVolume': 1734788817.5631557}]
2025-06-25 11:34:19,424 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:19,771 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: strategies
2025-06-25 11:34:20,430 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:20,431 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:20,431 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:20,431 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:20,433 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:20,433 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:20,433 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:20,434 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:20,434 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:34:20,622 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: history
2025-06-25 15:34:20,806 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:20,807 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:20,808 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:20,810 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:20,811 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:19 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:20,811 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:20,811 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:20,812 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:20,812 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:20,812 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:20,812 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:20,812 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:20,812 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106752.37, 'priceChangePercent': 1.13, 'quoteVolume': 1734883151.3763146}]
2025-06-25 11:34:20,812 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:21,104 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:34:21,104 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000019F41E77910>, coroutine_factory: set
2025-06-25 11:34:21,384 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: settings
2025-06-25 11:34:21,809 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:21,809 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:21,809 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:21,811 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:21,812 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:21,812 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:21,813 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:21,813 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:21,813 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:22,182 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:22,183 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:22,186 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB330>)]
2025-06-25 11:34:22,186 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45544F40>
2025-06-25 11:34:22,187 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:21 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:22,187 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:22,187 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:22,187 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:22,188 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:22,188 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:22,188 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:22,188 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:22,189 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106760.99, 'priceChangePercent': 1.138, 'quoteVolume': 1735034390.712095}]
2025-06-25 11:34:22,189 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:23,184 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:23,184 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:23,184 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:23,186 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:23,186 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:23,186 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:23,186 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:23,187 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:23,187 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:23,548 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:23,550 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:23,552 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455B0C20>, 126, 0, <_overlapped.Overlapped object at 0x0000019F455A0F30>)]
2025-06-25 11:34:23,552 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455B0C20>
2025-06-25 11:34:23,553 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:22 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:23,553 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:23,553 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:23,554 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:23,554 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:23,554 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:23,555 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:23,555 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:23,555 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106762.78, 'priceChangePercent': 1.139, 'quoteVolume': 1735320321.9705093}]
2025-06-25 11:34:23,555 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:23,751 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: dashboard
2025-06-25 11:34:24,545 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:24,545 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:24,545 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:24,545 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:24,547 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:24,547 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:24,548 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:24,548 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:24,548 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:24,913 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:24,915 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:24,919 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB0F0>)]
2025-06-25 11:34:24,919 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>
2025-06-25 11:34:24,920 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:24 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:24,921 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:24,921 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:24,922 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:24,922 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:24,923 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:24,923 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:24,923 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:24,924 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106773.36, 'priceChangePercent': 1.149, 'quoteVolume': 1735510921.0170562}]
2025-06-25 11:34:24,924 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:25,923 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:25,923 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:25,923 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:25,923 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:25,923 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:25,925 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:25,925 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:25,925 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:25,926 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:26,293 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:26,294 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:26,298 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB0F0>)]
2025-06-25 11:34:26,298 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>
2025-06-25 11:34:26,299 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:25 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:26,299 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:26,299 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:26,300 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:26,300 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:26,300 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:26,301 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:26,301 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:26,301 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106765.76, 'priceChangePercent': 1.142, 'quoteVolume': 1735504480.0546203}]
2025-06-25 11:34:26,301 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:27,294 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:27,294 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:27,295 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:27,296 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:27,296 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:27,296 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:27,297 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:27,297 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:27,298 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:27,666 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:27,668 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:27,671 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB0F0>)]
2025-06-25 11:34:27,672 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>
2025-06-25 11:34:27,673 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:26 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:27,673 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:27,673 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:27,673 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:27,674 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:27,674 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:27,674 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:27,674 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:27,675 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106765.61, 'priceChangePercent': 1.142, 'quoteVolume': 1735504751.7817955}]
2025-06-25 11:34:27,675 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:28,671 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:28,671 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:28,671 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:28,671 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:28,671 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:28,674 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:28,674 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:28,674 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:28,675 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:29,040 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 11:34:29,042 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 15:34:29,043 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:29,048 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB0F0>)]
2025-06-25 11:34:29,049 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>
2025-06-25 11:34:29,050 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:28 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:29,050 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:29,050 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:29,050 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:29,051 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:29,052 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:29,052 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:29,052 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:29,053 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106765.76, 'priceChangePercent': 1.142, 'quoteVolume': 1735641813.8941176}]
2025-06-25 11:34:29,053 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:29,446 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:34:30,045 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:30,045 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:30,045 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:30,046 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:30,046 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:30,047 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:30,048 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:30,048 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:30,048 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:30,421 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:30,422 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:30,425 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>, 230, 0, <_overlapped.Overlapped object at 0x0000019F41FBB0F0>)]
2025-06-25 11:34:30,425 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F455479C0>
2025-06-25 11:34:30,426 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:29 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:30,426 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:30,426 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:30,426 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:30,427 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:30,427 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:30,427 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:30,427 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:30,427 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106770.8, 'priceChangePercent': 1.147, 'quoteVolume': 1735786482.8444643}]
2025-06-25 11:34:30,428 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:31,421 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:31,421 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:31,421 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:31,421 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:31,426 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:31,426 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:31,426 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:31,426 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:31,427 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:31,804 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:31,806 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:31,808 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45547100>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB7B0>)]
2025-06-25 11:34:31,808 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45547100>
2025-06-25 11:34:31,809 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:30 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:34:31,809 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:31,809 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:31,809 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:31,810 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:31,810 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:31,810 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:31,811 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:31,811 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106770.8, 'priceChangePercent': 1.147, 'quoteVolume': 1735791367.3153138}]
2025-06-25 11:34:31,811 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:32,809 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:32,809 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:32,811 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:32,811 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:32,812 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:32,812 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:32,812 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:32,812 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:32,813 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:34:33,306 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:33,309 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:34:33,313 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45547100>, 126, 0, <_overlapped.Overlapped object at 0x0000019F41FBB7B0>)]
2025-06-25 11:34:33,314 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x0000019F45547100>
2025-06-25 11:34:33,314 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:34:32 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:34:33,314 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:33,314 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:34:33,315 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:34:33,315 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:34:33,315 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:34:33,316 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:34:33,316 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:34:33,316 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 106761.65, 'priceChangePercent': 1.138, 'quoteVolume': 1735983670.6055882}]
2025-06-25 11:34:33,316 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:34:34,312 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:34:34,313 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:34:34,313 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:34:34,315 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:34:34,315 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:34:34,316 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:34:34,316 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:34:34,317 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:34:34,317 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:34:34,481 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 15 active threads...
2025-06-25 11:34:34,481 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:34:34,481 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:34:34,481 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:34:34,481 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:34:34,481 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:34:34,481 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:34:34,481 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:34:34,481 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:34:34,481 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:34:34,481 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:34:34,481 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:34:34,481 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 11:34:34,481 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,481 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,481 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:34:34,481 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:34:34,481 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:34:34,481 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,491 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,491 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread InitialConfigWorkerThread...
2025-06-25 11:34:34,491 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PriceFeedWorkerThread_BTC/USDT...
2025-06-25 11:34:34,491 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,493 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:34:34,493 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,493 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,495 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,495 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,496 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,497 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,497 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,498 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:34:34,498 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:34:34,498 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:34:34,513 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 11:34:34,514 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 11:34:34,515 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:34:34,515 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:34:34,515 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:34:34,515 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:34:34,515 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:34:34,516 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:34:34,516 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:34:34,516 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:34:34,516 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:34:34,517 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:34:34,517 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:34:34,517 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 11:34:34,517 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:34:34,517 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:34:34,518 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:34:34,518 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:34:34,519 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 11:34:34,519 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 11:34:34,531 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 11:34:34,534 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 11:34:34,534 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 11:34:34,535 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 11:34:34,535 - __main__ - INFO - Aplicación cerrada.
2025-06-25 15:34:34,684 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:34:34,685 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 15:34:44,945 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:34:44,947 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:34:44,953 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:34:44,955 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:34:45,514 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:34:45,515 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:35:15,546 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:35:15,548 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:35:15,557 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:35:15,559 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:35:16,227 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:35:16,228 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:35:46,254 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:35:46,256 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:35:46,262 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:35:46,263 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:35:46,871 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:35:46,873 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:36:16,902 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:36:16,904 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:36:16,909 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:36:16,911 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:36:17,603 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:36:17,605 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:36:47,630 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:36:47,633 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:36:47,640 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:36:47,643 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:36:48,244 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:36:48,245 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:37:18,269 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:37:18,270 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:37:18,275 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:37:18,276 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:37:18,930 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:37:18,931 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:37:48,957 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:37:48,959 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:37:48,964 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:37:48,966 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:37:49,597 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:37:49,598 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:38:19,628 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:38:19,631 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:38:19,638 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:38:19,640 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:38:20,279 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:38:20,280 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:38:50,309 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:38:50,311 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:38:50,319 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:38:50,320 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:38:50,936 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:38:50,937 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:39:20,964 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:39:20,966 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:39:20,973 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:39:20,975 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:39:21,596 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:39:21,597 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:39:51,625 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:39:51,626 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:39:51,633 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:39:51,634 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:39:52,232 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:39:52,234 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:40:22,259 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:40:22,261 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:40:22,269 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:40:22,270 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:40:22,847 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:40:22,848 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:40:52,875 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:40:52,878 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:40:52,885 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:40:52,887 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:40:53,554 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:40:53,555 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:41:23,580 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:41:23,582 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:41:23,588 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:41:23,590 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:41:24,192 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:41:24,193 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:41:54,212 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:41:54,214 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:41:54,220 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:41:54,223 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:41:54,858 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:41:54,859 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:42:24,893 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:42:24,896 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:42:24,903 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:42:24,905 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:42:25,471 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:42:25,474 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:42:55,501 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:42:55,503 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:42:55,511 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:42:55,513 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:42:56,210 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:42:56,211 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:43:26,238 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:43:26,240 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:43:26,247 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:43:26,250 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:43:26,869 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:43:26,870 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:43:56,899 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:43:56,901 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:43:56,910 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:43:56,912 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:43:57,620 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:43:57,621 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:44:27,649 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:44:27,651 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:44:27,658 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:44:27,660 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:44:28,248 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:44:28,249 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:44:58,278 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:44:58,280 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:44:58,286 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:44:58,288 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:44:58,886 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:44:58,887 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:45:28,917 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:45:28,921 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:45:28,930 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:45:28,933 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:45:29,538 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:45:29,539 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:45:59,565 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:45:59,567 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:45:59,574 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:45:59,576 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:46:00,222 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:46:00,224 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:46:30,254 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:46:30,256 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:46:30,264 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:46:30,266 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:46:31,017 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:46:31,018 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:47:01,046 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:47:01,048 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:47:01,055 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:47:01,057 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:47:01,660 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:47:01,661 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:47:31,688 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:47:31,692 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:47:31,702 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:47:31,704 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:47:32,378 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:47:32,379 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:48:02,408 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:48:02,410 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:48:02,417 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:48:02,419 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:48:02,986 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:48:02,987 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:48:33,016 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:48:33,018 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:48:33,025 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:48:33,027 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:48:33,707 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:48:33,707 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:49:03,733 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:49:03,736 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:49:03,744 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:49:03,747 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:49:04,321 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:49:04,322 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:49:34,351 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:49:34,353 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:49:34,359 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:49:34,361 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:49:35,026 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:49:35,027 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:50:05,050 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:50:05,052 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:50:05,057 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:50:05,059 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:50:05,662 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:50:05,663 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:50:35,691 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:50:35,693 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:50:35,700 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:50:35,702 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:50:36,396 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:50:36,397 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:51:06,426 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:51:06,427 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:51:06,436 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:51:06,438 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:51:07,011 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:51:07,012 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:51:37,039 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:51:37,041 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:51:37,047 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:51:37,049 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:51:37,678 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:51:37,679 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:52:07,708 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:52:07,710 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:52:07,718 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:52:07,720 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:52:08,379 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:52:08,380 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:52:38,411 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:52:38,413 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:52:38,420 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:52:38,423 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:52:39,023 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:52:39,024 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:53:09,051 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:53:09,054 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:53:09,061 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:53:09,062 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:53:09,693 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:53:09,694 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:53:29,892 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:53:29,893 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:53:29,893 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:53:29,893 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:53:29,893 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:53:29,893 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:53:29,893 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:53:30,089 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:53:30,103 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:53:30,105 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:53:30,391 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:53:30,393 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:53:30,393 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,417 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:53:30,418 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,421 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:53:30,421 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:53:30,462 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:53:30,470 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:53:30,472 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:53:30,472 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:53:30,481 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:53:30,500 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:53:30,591 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 11:53:30,591 - ultibot_ui.windows.main_window - INFO - Fetching initial user configuration asynchronously (from MainWindow)...
2025-06-25 11:53:30,591 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,591 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 11:53:30,591 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 11:53:30,591 - ultibot_ui.views.trading_terminal_view - INFO - Price feed worker started for BTC/USDT.
2025-06-25 11:53:30,591 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: initialize_async_components INVOCADO
2025-06-25 11:53:30,591 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 11:53:30,591 - ultibot_ui.workers - DEBUG - TradingTerminalWorker: run method started in thread PriceFeedWorkerThread_BTC/USDT.
2025-06-25 11:53:30,591 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,591 - ultibot_ui.workers - ERROR - Error scheduling StrategiesWorker task: There is no current event loop in thread 'Dummy-2'.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 127, in run
    main_loop = asyncio.get_event_loop()
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 677, in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
RuntimeError: There is no current event loop in thread 'Dummy-2'.
2025-06-25 11:53:30,591 - ultibot_ui.workers - DEBUG - TradingTerminalWorker: Coroutine scheduled on the main event loop.
2025-06-25 11:53:30,591 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization finished.
2025-06-25 11:53:30,622 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 11:53:30,622 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 11:53:30,623 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 11:53:30,624 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:30,625 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 11:53:30,691 - ultibot_ui.views.strategies_view - ERROR - An error occurred in StrategiesWorker: There is no current event loop in thread 'Dummy-2'.
2025-06-25 11:53:30,711 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:53:30,723 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[Task.task_wakeup()]>, <function IocpProactor.connect.<locals>.finish_connect at 0x000001F9357F2C00>, 0, 0, <_overlapped.Overlapped object at 0x000001F9357070F0>)]
2025-06-25 11:53:30,724 - ultibot_ui.workers - INFO - Starting real-time price feed for BTC/USDT...
2025-06-25 11:53:30,724 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:30,724 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:30,725 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:30,727 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.connect.<locals>.finish_connect at 0x000001F9357F2C00>
2025-06-25 11:53:30,728 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:53:30,730 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F93580E290>
2025-06-25 11:53:30,730 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F954BDFB10>
2025-06-25 11:53:30,731 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:30,732 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:30,732 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:30,732 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:30,733 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:30,733 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 11:53:30,733 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:30,734 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:30,734 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 15:53:30,733 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 11:53:30,734 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:30,737 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:30,742 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 11:53:30,745 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 127, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:30,746 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:30,747 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:30 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 11:53:30,748 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:53:30,748 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:53:30,749 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:30,749 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:30,749 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:30,750 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:30,750 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:30,750 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 11:53:30,751 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 11:53:30,751 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 11:53:30,751 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 11:53:30,752 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 11:53:30,753 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:53:30,753 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,754 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:53:30,755 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,755 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:53:30,755 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 11:53:30,756 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 11:53:30,756 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:53:30,756 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:53:30,757 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,757 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,758 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,759 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,759 - ultibot_ui.views.orders_view - INFO - OrdersView: User ID set to 00000000-0000-0000-0000-000000000001. Setting up worker.
2025-06-25 11:53:30,760 - ultibot_ui.views.orders_view - INFO - Hilo de OrdersWorker iniciado.
2025-06-25 11:53:30,760 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:53:30,760 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 11:53:30,760 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 11:53:30,761 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,761 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 11:53:30,761 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:30,762 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 11:53:30,764 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:30,765 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 11:53:30,765 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:30,765 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:53:30,772 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:30,775 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:30,775 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:30,775 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:30,775 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:30,776 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 15:53:30,785 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 15:53:30,788 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 11:53:30,790 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:30,791 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:30,792 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:30 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 11:53:30,792 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:53:30,792 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:53:30,793 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:30,793 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:30,793 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:30,794 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:30,794 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:30,795 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T15:53:30.788102'}
2025-06-25 11:53:30,795 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 11:53:30,866 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:53:30,867 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:53:30,867 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 15:53:31,311 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:31,313 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:31,314 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F0AE0>, 126, 0, <_overlapped.Overlapped object at 0x000001F9357079F0>)]
2025-06-25 11:53:31,315 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F0AE0>
2025-06-25 11:53:31,316 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:30 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:31,317 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:31,317 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:31,317 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:31,318 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:31,318 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:31,318 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:31,318 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:31,320 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107119.02, 'priceChangePercent': 1.71, 'quoteVolume': 1803765458.8863559}]
2025-06-25 11:53:31,320 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:32,318 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:32,318 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:32,318 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:32,318 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:32,318 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:32,321 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:32,321 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:32,321 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:32,322 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:32,691 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:32,692 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:32,694 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:32,695 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:32,695 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:31 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:32,695 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:32,695 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:32,695 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:32,695 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:32,695 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:32,695 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:32,695 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:32,695 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107119.01, 'priceChangePercent': 1.71, 'quoteVolume': 1803767034.8952215}]
2025-06-25 11:53:32,695 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:33,701 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:33,702 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:33,702 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:33,702 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:33,702 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:33,706 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:33,706 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:33,706 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:33,707 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:34,074 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:34,075 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:34,077 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:34,078 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:34,078 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:33 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:34,079 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:34,079 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:34,079 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:34,079 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:34,079 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:34,079 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:34,081 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:34,081 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107119.01, 'priceChangePercent': 1.71, 'quoteVolume': 1803871443.7485626}]
2025-06-25 11:53:34,081 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:35,083 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:35,083 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:35,085 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:35,085 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:35,087 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:35,087 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:35,088 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:35,088 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:35,088 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:35,456 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:35,457 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:35,459 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:35,460 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:35,460 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:34 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:53:35,461 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:35,461 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:35,461 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:35,461 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:35,461 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:35,461 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:35,461 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:35,461 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107119.02, 'priceChangePercent': 1.71, 'quoteVolume': 1803926854.873451}]
2025-06-25 11:53:35,461 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:35,750 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:36,315 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9388599E0>, 0, 0, <_overlapped.Overlapped object at 0x000001F935706C70>)]
2025-06-25 11:53:36,315 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9388599E0>
2025-06-25 11:53:36,451 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:36,451 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:36,451 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:36,451 - httpcore.connection - DEBUG - close.started
2025-06-25 11:53:36,454 - httpcore.connection - DEBUG - close.complete
2025-06-25 11:53:36,455 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:36,456 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:36,456 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:36,456 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:36,456 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:36,458 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:36,821 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:36,822 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:36,824 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:36,825 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:36,825 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:35 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:53:36,826 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:36,826 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:36,827 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:36,827 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:36,828 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:36,828 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:36,828 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:36,829 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107119.6, 'priceChangePercent': 1.71, 'quoteVolume': 1804198524.8203318}]
2025-06-25 11:53:36,829 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:37,828 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:37,828 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:37,828 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:37,828 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:37,831 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:37,831 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:37,831 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:37,831 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:37,832 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:38,199 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:38,201 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:38,204 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:38,205 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:38,206 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:37 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:38,206 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:38,206 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:38,207 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:38,207 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:38,207 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:38,208 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:38,208 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:38,208 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107120.0, 'priceChangePercent': 1.711, 'quoteVolume': 1804266116.2223668}]
2025-06-25 11:53:38,209 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:39,211 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:39,211 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:39,212 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:39,212 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:39,212 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:39,214 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:39,215 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:39,215 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:39,216 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:53:39,502 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: dashboard
2025-06-25 15:53:39,588 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:39,590 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:39,591 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:39,591 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:39,593 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:38 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:39,593 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:39,593 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:39,593 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:39,594 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:39,594 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:39,594 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:39,595 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:39,595 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107137.74, 'priceChangePercent': 1.727, 'quoteVolume': 1804419410.382331}]
2025-06-25 11:53:39,595 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 15:53:39,721 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:53:39,723 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:53:39,729 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:53:39,731 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:53:40,098 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:53:40,099 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:53:40,591 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:40,591 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:40,591 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:40,591 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:40,594 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:40,594 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:40,594 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:40,594 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:40,595 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:40,965 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:40,966 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:40,968 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:40,968 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:40,969 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:39 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:53:40,970 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:40,970 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:40,970 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:40,971 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:40,971 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:40,971 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:40,972 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:40,972 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107137.74, 'priceChangePercent': 1.727, 'quoteVolume': 1804472948.6254046}]
2025-06-25 11:53:40,972 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:41,966 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:41,966 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:41,968 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:41,968 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:41,968 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:41,970 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:41,971 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:41,971 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:41,972 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:53:42,084 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 15:53:42,342 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:42,344 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:42,346 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935707870>)]
2025-06-25 11:53:42,346 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:42,347 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:41 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:53:42,348 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:42,348 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:42,348 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:42,349 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:42,349 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:42,349 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:42,349 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:42,350 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107121.89, 'priceChangePercent': 1.712, 'quoteVolume': 1804609724.5933049}]
2025-06-25 11:53:42,350 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:42,563 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:53:43,075 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: portfolio
2025-06-25 11:53:43,341 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:43,341 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:43,341 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:43,342 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:43,343 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:43,343 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:43,344 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:43,344 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:43,345 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:43,706 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:43,707 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:43,708 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F9388B9170>)]
2025-06-25 11:53:43,708 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:43,709 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:42 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:53:43,709 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:43,709 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:43,710 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:43,711 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:43,711 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:43,711 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:43,711 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:43,712 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107137.73, 'priceChangePercent': 1.727, 'quoteVolume': 1804825415.7068305}]
2025-06-25 11:53:43,712 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:43,867 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: strategies
2025-06-25 11:53:44,311 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: history
2025-06-25 11:53:44,717 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:44,718 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:44,718 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:44,719 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:44,719 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:44,721 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:44,721 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:44,721 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:44,722 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:53:45,024 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: settings
2025-06-25 15:53:45,089 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:45,090 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:45,092 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935706C70>)]
2025-06-25 11:53:45,093 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:45,093 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:44 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:45,094 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:45,094 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:45,094 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:45,095 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:45,095 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:45,095 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:45,096 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:45,096 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107147.03, 'priceChangePercent': 1.74, 'quoteVolume': 1804935110.6675503}]
2025-06-25 11:53:45,096 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:45,747 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:53:45,747 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F9357FCA10>, coroutine_factory: set
2025-06-25 11:53:46,091 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:46,091 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:46,092 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:46,093 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:46,094 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:46,094 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:46,095 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:46,095 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:46,096 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:46,460 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:46,462 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:46,463 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935706C70>)]
2025-06-25 11:53:46,463 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:46,464 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:45 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:53:46,464 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:46,464 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:46,465 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:46,465 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:46,466 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:46,466 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:46,466 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:46,466 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107147.03, 'priceChangePercent': 1.748, 'quoteVolume': 1804986016.8412952}]
2025-06-25 11:53:46,467 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:47,466 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:47,466 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:47,467 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:47,468 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:47,468 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:47,469 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:47,469 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:47,469 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:47,471 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:47,835 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:47,837 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:47,838 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935706C70>)]
2025-06-25 11:53:47,839 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:47,839 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:46 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:53:47,839 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:47,839 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:47,841 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:47,841 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:47,841 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:47,841 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:47,842 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:47,842 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107147.83, 'priceChangePercent': 1.767, 'quoteVolume': 1805116492.3510802}]
2025-06-25 11:53:47,842 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:48,855 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:48,856 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:48,856 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:48,857 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:48,858 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:48,858 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:48,858 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:48,858 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:48,858 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:49,215 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:49,216 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:49,220 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935706C70>)]
2025-06-25 11:53:49,220 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:49,221 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:48 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:53:49,221 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:49,221 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:49,221 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:49,221 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:49,223 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:49,223 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:49,224 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:49,224 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107154.59, 'priceChangePercent': 1.773, 'quoteVolume': 1805261367.0714152}]
2025-06-25 11:53:49,224 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:50,218 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:53:50,219 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:53:50,219 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:53:50,221 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:53:50,222 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:53:50,223 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:53:50,223 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:53:50,223 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:53:50,223 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:53:50,587 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:53:50,588 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:53:50,591 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>, 126, 0, <_overlapped.Overlapped object at 0x000001F935706C70>)]
2025-06-25 11:53:50,592 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F9357F2C00>
2025-06-25 11:53:50,592 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:53:49 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:53:50,593 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:50,593 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:53:50,593 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:53:50,594 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:53:50,594 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:53:50,594 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:53:50,595 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:53:50,595 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107154.6, 'priceChangePercent': 1.773, 'quoteVolume': 1805296377.3032722}]
2025-06-25 11:53:50,595 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:53:51,088 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 15 active threads...
2025-06-25 11:53:51,088 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:53:51,088 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:53:51,089 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:53:51,089 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:53:51,089 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:53:51,089 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:53:51,089 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:53:51,089 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:53:51,091 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:53:51,091 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:53:51,091 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:53:51,091 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 11:53:51,092 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,093 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,093 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:53:51,093 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:53:51,094 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:53:51,094 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,095 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,095 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread InitialConfigWorkerThread...
2025-06-25 11:53:51,096 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PriceFeedWorkerThread_BTC/USDT...
2025-06-25 11:53:51,096 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,097 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:53:51,098 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,098 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,099 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,099 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,100 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,100 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,101 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,101 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:53:51,102 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:53:51,103 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:53:51,119 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 11:53:51,120 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 11:53:51,121 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:53:51,121 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:53:51,121 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:53:51,121 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:53:51,122 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:53:51,122 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:53:51,122 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:53:51,122 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:53:51,123 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:53:51,124 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:53:51,124 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:53:51,124 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 11:53:51,124 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:53:51,124 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:53:51,124 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:53:51,125 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:53:51,125 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 11:53:51,126 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 11:53:51,134 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 11:53:51,135 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 11:53:51,135 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 11:53:51,136 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 11:53:51,136 - __main__ - INFO - Aplicación cerrada.
2025-06-25 15:54:10,124 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:54:10,127 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:54:10,135 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:54:10,138 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:54:10,792 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:54:10,793 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 15:54:40,820 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:54:40,824 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:54:40,832 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:54:40,835 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:54:41,430 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:54:41,431 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:54:48,984 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:54:48,984 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:54:48,984 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:54:48,991 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:54:48,991 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:54:48,991 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:54:48,991 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:54:49,185 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:54:49,207 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:54:49,207 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:54:49,484 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:54:49,488 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:54:49,489 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:54:49,511 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:54:49,511 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:54:49,516 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:54:49,517 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:54:49,548 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:54:49,553 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:54:49,565 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:54:49,565 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:54:49,565 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:54:49,587 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:54:49,676 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 11:54:49,677 - ultibot_ui.windows.main_window - INFO - Fetching initial user configuration asynchronously (from MainWindow)...
2025-06-25 11:54:49,677 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:54:49,677 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 11:54:49,677 - ultibot_ui.views.strategies_view - ERROR - StrategiesView: No se encontró el bucle de eventos principal de qasync como propiedad de la aplicación.
2025-06-25 11:55:02,271 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 11:55:02,271 - ultibot_ui.views.trading_terminal_view - INFO - Price feed worker started for BTC/USDT.
2025-06-25 11:55:02,273 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: initialize_async_components INVOCADO
2025-06-25 11:55:02,273 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,273 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization finished.
2025-06-25 11:55:02,290 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 11:55:02,290 - ultibot_ui.workers - DEBUG - TradingTerminalWorker: run method started in thread PriceFeedWorkerThread_BTC/USDT.
2025-06-25 11:55:02,291 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 11:55:02,291 - ultibot_ui.workers - DEBUG - TradingTerminalWorker: Coroutine scheduled on the main event loop.
2025-06-25 11:55:02,291 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 11:55:02,292 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:02,292 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 11:55:02,307 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:55:02,347 - ultibot_ui.workers - INFO - Starting real-time price feed for BTC/USDT...
2025-06-25 11:55:02,347 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:02,347 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:02,347 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:02,347 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:55:02,352 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000211AAE68490>
2025-06-25 11:55:02,353 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:02,354 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:02,354 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:02,355 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:02,355 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 11:55:02,356 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002118E685C50>
2025-06-25 11:55:02,356 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:02,357 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 15:55:02,355 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 11:55:02,357 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:02,358 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:02,358 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:02,358 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:02,362 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 11:55:02,367 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>, 127, 0, <_overlapped.Overlapped object at 0x000002118B9B70F0>)]
2025-06-25 11:55:02,368 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>
2025-06-25 11:55:02,369 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:01 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 11:55:02,370 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:55:02,370 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 11:55:02,371 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:02,372 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:02,372 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:02,372 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:02,372 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:02,373 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 11:55:02,374 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 11:55:02,374 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 11:55:02,374 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 11:55:02,374 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 11:55:02,374 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:55:02,375 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,375 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:55:02,376 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,376 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:55:02,376 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 11:55:02,377 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 11:55:02,377 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:55:02,377 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 11:55:02,378 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,379 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,379 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,380 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,380 - ultibot_ui.views.orders_view - INFO - OrdersView: User ID set to 00000000-0000-0000-0000-000000000001. Setting up worker.
2025-06-25 11:55:02,380 - ultibot_ui.views.orders_view - INFO - Hilo de OrdersWorker iniciado.
2025-06-25 11:55:02,381 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 11:55:02,381 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 11:55:02,381 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 11:55:02,381 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,382 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 11:55:02,382 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:02,383 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 11:55:02,385 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:02,385 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 11:55:02,385 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:02,386 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:55:02,389 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:02,390 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:02,390 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:02,391 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:02,391 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:02,391 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 15:55:02,400 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 15:55:02,402 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 11:55:02,405 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B70F0>)]
2025-06-25 11:55:02,406 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>
2025-06-25 11:55:02,407 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:01 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 11:55:02,407 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:55:02,407 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:55:02,408 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:02,408 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:02,409 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:02,409 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:02,409 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:02,410 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T15:55:02.402510'}
2025-06-25 11:55:02,410 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 11:55:02,485 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:55:02,485 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:55:02,486 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 15:55:02,941 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:02,942 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:02,945 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:02,945 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:02,946 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:01 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:02,946 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:02,946 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:02,947 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:02,947 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:02,948 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:02,948 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:02,949 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:02,949 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107121.01, 'priceChangePercent': 1.75, 'quoteVolume': 1808059259.3139913}]
2025-06-25 11:55:02,949 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:03,947 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:03,948 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:03,948 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:03,949 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:03,950 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:03,951 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:03,951 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:03,951 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:03,951 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:04,321 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:04,322 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:04,325 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B70F0>)]
2025-06-25 11:55:04,326 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>
2025-06-25 11:55:04,326 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:02 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:04,326 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:04,326 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:04,326 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:04,326 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:04,326 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:04,328 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:04,328 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:04,328 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107121.01, 'priceChangePercent': 1.751, 'quoteVolume': 1808056918.9780138}]
2025-06-25 11:55:04,328 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:05,331 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:05,331 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:05,331 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:05,331 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:05,335 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:05,335 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:05,335 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:05,335 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:05,336 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:05,696 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:05,697 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:05,699 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B70F0>)]
2025-06-25 11:55:05,700 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>
2025-06-25 11:55:05,701 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:04 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:05,701 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:05,701 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:05,701 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:05,702 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:05,702 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:05,703 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:05,703 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:05,703 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107114.87, 'priceChangePercent': 1.746, 'quoteVolume': 1808068152.581161}]
2025-06-25 11:55:05,703 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:06,701 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:06,701 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:06,701 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:06,702 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:06,704 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:06,704 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:06,704 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:06,704 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:06,705 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:07,070 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:07,072 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:07,074 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B70F0>)]
2025-06-25 11:55:07,075 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E681B20>
2025-06-25 11:55:07,075 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:05 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:07,076 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:07,076 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:07,076 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:07,077 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:07,077 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:07,077 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:07,078 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:07,078 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107094.31, 'priceChangePercent': 1.726, 'quoteVolume': 1808116640.7142408}]
2025-06-25 11:55:07,078 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:07,375 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:07,945 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 0, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:07,946 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:08,085 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:08,086 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:08,086 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:08,087 - httpcore.connection - DEBUG - close.started
2025-06-25 11:55:08,087 - httpcore.connection - DEBUG - close.complete
2025-06-25 11:55:08,088 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:08,088 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:08,089 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:08,089 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:08,089 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:08,089 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:08,457 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:08,459 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:08,461 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E682FC0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:08,462 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E682FC0>
2025-06-25 11:55:08,463 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:07 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:08,463 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:08,463 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:08,463 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:08,464 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:08,464 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:08,464 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:08,465 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:08,465 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107094.32, 'priceChangePercent': 1.726, 'quoteVolume': 1808117121.6051917}]
2025-06-25 11:55:08,465 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:09,486 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:09,486 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:09,487 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:09,487 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:09,489 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:09,489 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:09,489 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:09,489 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:09,490 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:09,860 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:09,861 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:09,863 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:09,864 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:09,864 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:08 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:09,865 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:09,865 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:09,865 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:09,865 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:09,865 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:09,865 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:09,865 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:09,865 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107094.31, 'priceChangePercent': 1.726, 'quoteVolume': 1808116808.5696027}]
2025-06-25 11:55:09,865 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:10,871 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:10,871 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:10,871 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:10,871 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:10,871 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:10,871 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:10,871 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:10,871 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:10,874 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:11,246 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:11,246 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:11,248 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:11,249 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:11,249 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:09 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:11,250 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:11,250 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:11,250 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:11,251 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:11,251 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:11,252 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:11,252 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:11,253 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107092.2, 'priceChangePercent': 1.724, 'quoteVolume': 1808121108.236143}]
2025-06-25 11:55:11,253 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 15:55:11,459 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:55:11,461 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:55:11,466 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:55:11,469 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:55:11,829 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:55:11,830 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:55:12,252 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:12,253 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:12,253 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:12,253 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:12,256 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:12,256 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:12,256 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:12,256 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:12,257 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:12,617 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:12,618 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:12,620 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:12,621 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:12,622 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:11 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:12,622 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:12,622 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:12,623 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:12,623 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:12,623 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:12,623 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:12,623 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:12,623 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107092.19, 'priceChangePercent': 1.724, 'quoteVolume': 1808122444.9281058}]
2025-06-25 11:55:12,623 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:13,636 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:13,637 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:13,637 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:13,637 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:13,637 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:13,640 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:13,640 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:13,640 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:13,641 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:14,575 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:14,576 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:14,578 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:14,579 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:14,580 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:12 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:14,580 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:14,580 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:14,580 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:14,581 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:14,581 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:14,581 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:14,582 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:14,582 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107088.27, 'priceChangePercent': 1.72, 'quoteVolume': 1808131603.0457563}]
2025-06-25 11:55:14,582 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:14,827 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:55:15,576 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:15,579 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:15,580 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:15,581 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:15,582 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:15,582 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:15,582 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:15,582 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:15,583 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:15,947 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:15,948 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:15,951 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:15,951 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:15,953 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:14 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:15,953 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:15,953 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:15,954 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:15,955 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:15,955 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:15,956 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:15,956 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:15,956 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107080.2, 'priceChangePercent': 1.713, 'quoteVolume': 1808248971.9023774}]
2025-06-25 11:55:15,956 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:16,968 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:16,968 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:16,970 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:16,971 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:16,972 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:16,972 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:16,972 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:16,972 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:16,973 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:55:17,003 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: strategies
2025-06-25 15:55:17,339 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:17,340 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:17,342 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:17,342 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:17,343 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:15 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:17,343 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:17,343 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:17,344 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:17,344 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:17,344 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:17,345 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:17,345 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:17,346 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107080.0, 'priceChangePercent': 1.712, 'quoteVolume': 1808251077.9112992}]
2025-06-25 11:55:17,346 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:17,384 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:55:17,385 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:18,368 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:18,369 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:18,369 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:18,370 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:18,371 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:18,371 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:18,372 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:18,373 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:18,372 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:18,735 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:18,738 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:18,741 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:18,741 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6834C0>
2025-06-25 11:55:18,742 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:18,742 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:18,742 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:18,743 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:18,743 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:18,743 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:18,744 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:18,744 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:18,744 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107080.0, 'priceChangePercent': 1.712, 'quoteVolume': 1808250628.5404406}]
2025-06-25 11:55:18,744 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:19,519 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:55:19,519 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:55:19,520 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:19,736 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:19,737 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:19,737 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:19,737 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:19,737 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:19,739 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:19,740 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:19,740 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:19,740 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:20,107 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:20,108 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:20,110 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:20,110 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>
2025-06-25 11:55:20,111 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:18 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:20,111 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:20,111 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:20,111 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:20,111 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:20,111 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:20,111 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:20,111 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:20,111 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107080.0, 'priceChangePercent': 1.712, 'quoteVolume': 1808257603.2666383}]
2025-06-25 11:55:20,111 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:21,021 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: portfolio
2025-06-25 11:55:21,118 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:21,119 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:21,119 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:21,121 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:21,121 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:21,122 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:21,122 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:21,122 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:21,123 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:21,492 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:21,493 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:21,495 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:21,496 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>
2025-06-25 11:55:21,496 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:20 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:21,497 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:21,497 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:21,497 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:21,498 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:21,498 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:21,498 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:21,499 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:21,499 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107080.01, 'priceChangePercent': 1.712, 'quoteVolume': 1808258518.7683446}]
2025-06-25 11:55:21,499 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:22,500 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:22,500 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:22,500 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:22,501 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:22,502 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:22,503 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:22,503 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:22,503 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:22,504 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:22,874 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:22,875 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:22,877 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:22,877 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>
2025-06-25 11:55:22,878 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:22 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:22,879 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:22,879 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:22,879 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:22,880 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:22,880 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:22,880 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:22,881 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:22,881 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107074.31, 'priceChangePercent': 1.697, 'quoteVolume': 1808251008.5309265}]
2025-06-25 11:55:22,881 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:23,885 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:23,886 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:23,886 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:23,888 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:23,888 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:23,888 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:23,888 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:23,888 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:23,890 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:24,256 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:24,258 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:24,260 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:24,261 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>
2025-06-25 11:55:24,262 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:23 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:24,262 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:24,262 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:24,262 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:24,262 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:24,262 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:24,262 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:24,264 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:24,264 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107060.1, 'priceChangePercent': 1.683, 'quoteVolume': 1808295585.8233275}]
2025-06-25 11:55:24,264 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:25,263 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:25,263 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:25,263 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:25,263 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:25,263 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:25,269 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:25,269 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:25,269 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:25,270 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:25,642 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:25,644 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:25,647 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:25,647 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>
2025-06-25 11:55:25,648 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:25 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:25,649 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:25,649 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:25,650 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:25,650 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:25,651 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:25,652 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:25,652 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:25,653 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107056.2, 'priceChangePercent': 1.68, 'quoteVolume': 1808300441.0383437}]
2025-06-25 11:55:25,653 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:26,151 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: settings
2025-06-25 11:55:26,654 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:26,654 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:26,655 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:26,655 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:26,656 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:26,657 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:26,657 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:26,657 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:26,658 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:27,032 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:27,033 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:27,035 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:27,036 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB48860>
2025-06-25 11:55:27,037 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:26 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:27,037 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:27,037 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:27,038 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:27,038 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:27,039 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:27,039 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:27,039 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:27,039 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107056.01, 'priceChangePercent': 1.68, 'quoteVolume': 1808299035.3339045}]
2025-06-25 11:55:27,040 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:28,030 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:28,031 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:28,031 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:28,033 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:28,033 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:28,033 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:28,034 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:28,034 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:28,034 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:28,402 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:28,404 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:28,406 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB499E0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:28,407 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118EB499E0>
2025-06-25 11:55:28,408 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:28 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:28,408 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:28,408 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:28,409 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:28,409 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:28,410 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:28,410 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:28,410 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:28,411 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107038.2, 'priceChangePercent': 1.663, 'quoteVolume': 1808395371.007031}]
2025-06-25 11:55:28,411 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:29,403 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:29,404 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:29,404 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:29,405 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:29,407 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:29,407 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:29,407 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:29,407 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:29,408 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:29,782 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:29,784 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:29,786 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683C40>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:29,787 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683C40>
2025-06-25 11:55:29,787 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:29 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:29,788 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:29,788 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:29,788 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:29,789 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:29,789 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:29,789 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:29,789 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:29,790 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.59, 'priceChangePercent': 1.65, 'quoteVolume': 1808409525.4925003}]
2025-06-25 11:55:29,791 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:29,847 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:29,848 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:30,782 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:30,783 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:30,783 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:30,784 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:30,785 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:30,786 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:30,786 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:30,788 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:30,787 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:55:30,967 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: history
2025-06-25 15:55:31,151 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:31,155 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:31,157 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683C40>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:31,158 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683C40>
2025-06-25 11:55:31,159 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:30 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:31,159 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:31,159 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:31,159 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:31,160 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:31,160 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:31,160 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:31,161 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:31,161 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107020.65, 'priceChangePercent': 1.661, 'quoteVolume': 1808371163.1677392}]
2025-06-25 11:55:31,161 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:32,153 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:32,153 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:32,153 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:32,153 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:32,155 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:32,155 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:32,156 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:32,156 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:32,157 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:55:32,381 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:55:32,381 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:32,517 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 11:55:32,518 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:32,518 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 11:55:32,519 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:32,519 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:55:32,522 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 11:55:32,524 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002118EB31B50>
2025-06-25 11:55:32,525 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 15:55:32,524 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 11:55:32,525 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:32,526 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:32,526 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:32,526 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:32,526 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 15:55:32,529 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 11:55:32,530 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683C40>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7030>)]
2025-06-25 11:55:32,530 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683C40>
2025-06-25 11:55:32,531 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:32 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:32,531 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683B00>, 105, 0, <_overlapped.Overlapped object at 0x000002118B9B74B0>)]
2025-06-25 11:55:32,531 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:32,531 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:32,532 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:32,532 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683B00>
2025-06-25 11:55:32,533 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:32,533 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:32,533 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:32,534 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:32,534 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107020.65, 'priceChangePercent': 1.661, 'quoteVolume': 1808372775.3079712}]
2025-06-25 11:55:32,534 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 15:55:32,536 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 15:55:32,538 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 11:55:32,541 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683BA0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B7870>)]
2025-06-25 11:55:32,541 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683BA0>
2025-06-25 11:55:32,542 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:32 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 11:55:32,542 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:55:32,542 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 11:55:32,543 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:32,544 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:32,544 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:32,544 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:32,545 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:32,545 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T15:55:32.538498'}
2025-06-25 11:55:32,545 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 11:55:33,531 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:33,531 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:33,531 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:33,531 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:33,536 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:33,537 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:33,537 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:33,537 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:33,538 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:33,904 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:33,906 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:33,907 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:33,908 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:33,908 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:33 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:33,909 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:33,909 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:33,909 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:33,910 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:33,910 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:33,911 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:33,911 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:33,911 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107020.65, 'priceChangePercent': 1.661, 'quoteVolume': 1808375441.8918211}]
2025-06-25 11:55:33,911 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:34,919 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:34,920 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:34,920 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:34,921 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:34,921 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:34,923 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:34,923 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:34,923 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:34,924 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:35,299 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:35,300 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:35,301 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:35,302 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:35,303 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:34 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:35,303 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:35,303 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:35,303 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:35,303 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:35,303 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:35,303 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:35,303 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:35,303 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107020.65, 'priceChangePercent': 1.661, 'quoteVolume': 1808375883.02675}]
2025-06-25 11:55:35,303 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:35,731 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: history
2025-06-25 11:55:36,141 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: strategies
2025-06-25 11:55:36,319 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:36,320 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:36,321 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:36,321 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:36,323 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:36,323 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:36,323 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:36,323 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:36,324 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:36,684 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:36,685 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:36,688 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:36,689 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:36,689 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:36 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:36,690 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:36,690 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:36,690 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:36,691 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:36,691 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:36,691 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:36,691 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:36,691 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107020.66, 'priceChangePercent': 1.661, 'quoteVolume': 1808436881.445235}]
2025-06-25 11:55:36,691 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:37,541 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683BA0>, 0, 0, <_overlapped.Overlapped object at 0x000002118B9B7870>)]
2025-06-25 11:55:37,542 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E683BA0>
2025-06-25 11:55:37,704 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:37,704 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:37,704 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:37,705 - httpcore.connection - DEBUG - close.started
2025-06-25 11:55:37,706 - httpcore.connection - DEBUG - close.complete
2025-06-25 11:55:37,707 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:37,707 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:37,707 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:37,708 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:37,709 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:37,709 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:38,076 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:38,077 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:38,078 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:38,079 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:38,079 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:37 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:38,080 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:38,080 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:38,081 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:38,081 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:38,081 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:38,082 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:38,082 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:38,082 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.59, 'priceChangePercent': 1.665, 'quoteVolume': 1808443248.9557464}]
2025-06-25 11:55:38,083 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:38,605 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: portfolio
2025-06-25 11:55:39,074 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:39,075 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:39,075 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:39,077 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:39,078 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:39,078 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:39,079 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:39,079 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:39,080 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:39,447 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:39,448 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:39,449 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:39,450 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:39,451 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:39 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:39,451 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:39,451 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:39,452 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:39,452 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:39,452 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:39,453 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:39,454 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:39,454 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.58, 'priceChangePercent': 1.665, 'quoteVolume': 1808443228.1770678}]
2025-06-25 11:55:39,454 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:39,984 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: opportunities
2025-06-25 11:55:40,451 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:40,451 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:40,451 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:40,453 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:40,454 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:40,454 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:40,454 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:40,454 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:40,456 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:40,817 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:40,818 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:40,820 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:40,821 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:40,822 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:40 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:40,822 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:40,822 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:40,822 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:40,822 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:40,822 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:40,822 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:40,822 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:40,822 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.59, 'priceChangePercent': 1.665, 'quoteVolume': 1808446658.06848}]
2025-06-25 11:55:40,822 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:41,611 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: terminal
2025-06-25 11:55:41,819 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:41,820 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:41,820 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:41,821 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:41,821 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:41,822 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:41,823 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:41,823 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:41,824 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:41,858 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:55:41,861 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:55:41,868 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:55:41,871 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:55:42,193 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:42,194 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:42,195 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:42,195 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:42,196 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:41 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:42,196 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:42,196 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:42,197 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:42,197 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:42,197 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:42,198 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:42,198 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:42,198 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.59, 'priceChangePercent': 1.665, 'quoteVolume': 1808446678.6473489}]
2025-06-25 11:55:42,198 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 15:55:42,621 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:55:42,623 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:55:43,191 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:43,191 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:43,191 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:43,191 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:43,194 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:43,194 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:43,194 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:43,194 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:43,195 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:43,560 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:43,561 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:43,562 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:43,562 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:43,563 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:43 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:43,563 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:43,563 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:43,564 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:43,564 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:43,564 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:43,565 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:43,565 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:43,565 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.58, 'priceChangePercent': 1.665, 'quoteVolume': 1808460419.15438}]
2025-06-25 11:55:43,565 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:44,569 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:44,569 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:44,569 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:44,570 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:44,571 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:44,572 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:44,572 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:44,572 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:44,574 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:44,941 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:44,942 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:44,944 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:44,944 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:44,945 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:44 GMT'), (b'server', b'uvicorn'), (b'content-length', b'104'), (b'content-type', b'application/json')])
2025-06-25 11:55:44,945 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:44,945 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:44,946 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:44,946 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:44,947 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:44,947 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:44,947 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:44,947 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.59, 'priceChangePercent': 1.665, 'quoteVolume': 1808463747.759034}]
2025-06-25 11:55:44,948 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:45,952 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:45,953 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:45,953 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:45,953 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:45,955 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:45,955 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:45,955 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:45,955 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:45,956 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:55:46,072 - ultibot_ui.windows.main_window - INFO - Cambiando a la vista: dashboard
2025-06-25 15:55:46,339 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:46,340 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:46,341 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:46,342 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:46,343 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:45 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:46,344 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:46,344 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:46,344 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:46,344 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:46,345 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:46,345 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:46,345 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:46,346 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107024.58, 'priceChangePercent': 1.665, 'quoteVolume': 1808465027.0708046}]
2025-06-25 11:55:46,346 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:47,341 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:47,341 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:47,341 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:47,341 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:47,344 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:47,344 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:47,344 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:47,344 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:47,346 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 11:55:47,372 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 11:55:47,372 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 15:55:47,722 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:47,724 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:47,725 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:47,726 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:47,727 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:47 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:47,727 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:47,727 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:47,729 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:47,729 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:47,730 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:47,730 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:47,730 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:47,731 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107003.17, 'priceChangePercent': 1.644, 'quoteVolume': 1809009836.6429338}]
2025-06-25 11:55:47,731 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:48,737 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:48,739 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:48,739 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:48,742 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:48,743 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:48,743 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:48,743 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:48,743 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:48,743 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:49,107 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:49,108 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:49,111 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:49,111 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:49,111 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:48 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:49,111 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:49,111 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:49,111 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:49,111 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:49,111 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:49,111 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:49,111 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:49,111 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107003.18, 'priceChangePercent': 1.644, 'quoteVolume': 1809010886.6795876}]
2025-06-25 11:55:49,111 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:49,519 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:55:49,519 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:55:49,520 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002118BAA8DD0>, coroutine_factory: set
2025-06-25 11:55:50,120 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:50,121 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:50,121 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:50,122 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:50,124 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:50,124 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:50,124 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:50,124 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:50,124 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:50,493 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:50,494 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:50,497 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:50,497 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:50,498 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:50 GMT'), (b'server', b'uvicorn'), (b'content-length', b'105'), (b'content-type', b'application/json')])
2025-06-25 11:55:50,498 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:50,498 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:50,500 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:50,500 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:50,500 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:50,500 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:50,501 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:50,501 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107003.17, 'priceChangePercent': 1.644, 'quoteVolume': 1809011851.5917993}]
2025-06-25 11:55:50,501 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:51,502 - ultibot_ui.services.api_client - INFO - Obteniendo datos de mercado para símbolos: ['BTC/USDT']
2025-06-25 11:55:51,503 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 11:55:51,503 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/market/tickers
2025-06-25 11:55:51,504 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 11:55:51,505 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 11:55:51,505 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 11:55:51,506 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 11:55:51,506 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 15:55:51,505 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-25 15:55:51,871 - ultibot_backend.services.market_data_service - INFO - [MainThread] - market_data_service.py:159 - Datos REST de BTC/USDT (consultado como BTCUSDT) obtenidos.
2025-06-25 15:55:51,872 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-25 11:55:51,874 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>, 126, 0, <_overlapped.Overlapped object at 0x000002118B9B6AF0>)]
2025-06-25 11:55:51,875 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000002118E6816C0>
2025-06-25 11:55:51,876 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 15:55:51 GMT'), (b'server', b'uvicorn'), (b'content-length', b'103'), (b'content-type', b'application/json')])
2025-06-25 11:55:51,876 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:51,876 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers?symbols=BTC%2FUSDT "HTTP/1.1 200 OK"
2025-06-25 11:55:51,876 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 11:55:51,876 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 11:55:51,876 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 11:55:51,876 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 11:55:51,876 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/market/tickers "HTTP/HTTP/1.1 200 OK"
2025-06-25 11:55:51,876 - ultibot_ui.services.api_client - DEBUG - Response content (processed): [{'symbol': 'BTC/USDT', 'lastPrice': 107003.17, 'priceChangePercent': 1.641, 'quoteVolume': 1808981150.19108}]
2025-06-25 11:55:51,876 - ultibot_ui.workers - WARNING - No ticker data found for BTC/USDT.
2025-06-25 11:55:52,214 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 21 active threads...
2025-06-25 11:55:52,214 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:55:52,214 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:55:52,214 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:55:52,214 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:55:52,214 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:55:52,214 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:55:52,214 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:55:52,214 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:55:52,214 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:55:52,214 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:55:52,219 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:55:52,219 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 11:55:52,220 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,221 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,221 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:55:52,222 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:55:52,222 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:55:52,222 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,223 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,224 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread InitialConfigWorkerThread...
2025-06-25 11:55:52,225 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PriceFeedWorkerThread_BTC/USDT...
2025-06-25 11:55:52,226 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,226 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,231 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:55:52,231 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,232 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,232 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,233 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:55:52,233 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 11:55:52,234 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 11:55:52,235 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:55:52,245 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 11:55:52,251 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 11:55:52,252 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 11:55:52,252 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 11:55:52,252 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 11:55:52,253 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 11:55:52,253 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 11:55:52,253 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 11:55:52,253 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 11:55:52,254 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 11:55:52,255 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 11:55:52,256 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 11:55:52,256 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 11:55:52,256 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 11:55:52,257 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 11:55:52,257 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 11:55:52,259 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 11:55:52,259 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 11:55:52,259 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 11:55:52,259 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 11:55:52,276 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 11:55:52,278 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 11:55:52,278 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 11:55:52,279 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 11:55:52,279 - __main__ - INFO - Aplicación cerrada.
2025-06-25 15:56:12,648 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:56:12,650 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:56:12,657 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:56:12,658 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:56:13,201 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:56:13,202 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:56:26,681 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:56:26,681 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:56:26,681 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:56:26,681 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:56:26,681 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:56:26,691 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:56:26,691 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:56:26,892 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:56:26,914 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:56:26,914 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:56:27,201 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:56:27,204 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:56:27,204 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:56:27,229 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:56:27,229 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:56:27,232 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:56:27,232 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:56:27,279 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:56:27,283 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:56:27,293 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:56:27,293 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:56:27,293 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:56:27,316 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:56:27,420 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 11:56:27,421 - ultibot_ui.windows.main_window - INFO - Fetching initial user configuration asynchronously (from MainWindow)...
2025-06-25 11:56:27,421 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:56:27,422 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 11:56:27,422 - ultibot_ui.views.strategies_view - ERROR - StrategiesView: No se encontró el bucle de eventos principal de qasync como propiedad de la aplicación.
2025-06-25 11:56:42,202 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 15:56:43,235 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:56:43,237 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:56:43,243 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:56:43,245 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:56:43,917 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:56:43,919 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:56:57,203 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:56:57,238 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:56:57,239 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:56:57,240 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:57:12,209 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 15:57:13,946 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:57:13,948 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:57:13,954 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:57:13,957 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:57:14,520 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:57:14,521 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:57:27,202 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:57:27,239 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:57:27,241 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:57:27,241 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:57:42,206 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 15:57:44,549 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:57:44,551 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:57:44,557 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:57:44,559 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:57:45,227 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:57:45,228 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:57:57,205 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:57:57,239 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:57:57,240 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:57:57,241 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:58:12,205 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 15:58:15,259 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:58:15,262 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:58:15,269 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:58:15,271 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:58:15,819 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:58:15,820 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:58:27,205 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:58:27,240 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:58:27,241 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:58:27,241 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 11:58:42,206 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 15:58:45,846 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:58:45,848 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:58:45,853 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:58:45,857 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:58:46,477 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:58:46,477 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:58:57,201 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:58:57,240 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:58:57,241 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:58:57,242 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 15:59:16,502 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:59:16,504 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:59:16,509 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:59:16,512 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:59:17,146 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:59:17,147 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:59:27,223 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 11:59:27,243 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 11:59:27,245 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 11:59:27,245 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000002737C270BD0>, coroutine_factory: set
2025-06-25 15:59:47,176 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 15:59:47,180 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 15:59:47,191 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 15:59:47,195 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 15:59:47,808 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 15:59:47,809 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 11:59:56,483 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 11:59:56,483 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 11:59:56,483 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 11:59:56,483 - __main__ - INFO - Initializing or finding application window...
2025-06-25 11:59:56,483 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 11:59:56,488 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 11:59:56,488 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 11:59:56,687 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 11:59:56,711 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 11:59:56,712 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 11:59:56,991 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 11:59:57,001 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 11:59:57,001 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000023E0899D5D0>, coroutine_factory: set
2025-06-25 11:59:57,031 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 11:59:57,031 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000023E0899D5D0>, coroutine_factory: set
2025-06-25 11:59:57,034 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 11:59:57,034 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 11:59:57,066 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 11:59:57,075 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 11:59:57,079 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se encontró el bucle de eventos de asyncio principal. La funcionalidad de feed de precios puede no funcionar correctamente.
2025-06-25 11:59:57,082 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 11:59:57,082 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 11:59:57,087 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 11:59:57,107 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 11:59:57,201 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 11:59:57,201 - ultibot_ui.windows.main_window - INFO - Fetching initial user configuration asynchronously (from MainWindow)...
2025-06-25 11:59:57,201 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x0000023E0899D5D0>, coroutine_factory: set
2025-06-25 11:59:57,202 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 11:59:57,202 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 11:59:57,203 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 11:59:57,204 - ultibot_ui.workers - DEBUG - StrategiesWorker: Coroutine scheduled on the main event loop.
2025-06-25 11:59:57,233 - qasync._QEventLoop - ERROR - Exception in callback <TaskStepMethWrapper object at 0x0000023E08943700>()
handle: <Handle <TaskStepMethWrapper object at 0x0000023E08943700>()>
Traceback (most recent call last):
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
RuntimeError: Cannot enter into task <Task pending name='Task-2' coro=<StrategiesWorker._fetch_strategies() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py:111> cb=[_chain_future.<locals>._call_set_state() at C:\Program Files\Python311\Lib\asyncio\futures.py:394]> while another task <Task pending name='Task-1' coro=<main.<locals>._main_async_wrapper() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:154>> is being executed.
2025-06-25 12:00:11,990 - ultibot_ui.widgets.portfolio_widget - WARNING - PortfolioWidget: user_id no está disponible. No se puede actualizar el portafolio.
2025-06-25 16:00:17,834 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:00:17,836 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:00:17,842 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:00:17,844 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:00:18,516 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:00:18,519 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 16:00:48,549 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:00:48,551 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:00:48,559 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:00:48,561 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:00:49,184 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:00:49,185 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 16:01:19,209 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:01:19,212 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:01:19,219 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:01:19,221 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:01:19,891 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:01:19,892 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 16:01:49,921 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:01:49,923 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:01:49,929 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:01:49,931 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:01:50,786 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:01:50,787 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 12:01:55,581 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 12:01:55,583 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 12:01:55,584 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 12:01:55,584 - __main__ - INFO - Initializing or finding application window...
2025-06-25 12:01:55,585 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 12:01:55,585 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 12:01:55,585 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 12:01:55,776 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 12:01:55,797 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 12:01:55,797 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 12:01:56,074 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 12:01:56,077 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 12:01:56,079 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,113 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 12:01:56,113 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,116 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 12:01:56,116 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 12:01:56,148 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 12:01:56,156 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 12:01:56,161 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se encontró el bucle de eventos de asyncio principal. La funcionalidad de feed de precios puede no funcionar correctamente.
2025-06-25 12:01:56,166 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 12:01:56,166 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 12:01:56,170 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 12:01:56,189 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 12:01:56,288 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 12:01:56,291 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 12:01:56,291 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 12:01:56,291 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:01:56,291 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 12:01:56,351 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 12:01:56,366 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F2C90EA5D0>
2025-06-25 12:01:56,367 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 12:01:56,368 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 12:01:56,368 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 12:01:56,368 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 12:01:56,368 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 16:01:56,368 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 16:01:56,371 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 12:01:56,374 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2C90C0A40>, 127, 0, <_overlapped.Overlapped object at 0x000001F2C8FE2AF0>)]
2025-06-25 12:01:56,374 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2C90C0A40>
2025-06-25 12:01:56,375 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 16:01:56 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 12:01:56,376 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 12:01:56,376 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 12:01:56,376 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 12:01:56,377 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 12:01:56,378 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 12:01:56,378 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 12:01:56,378 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 12:01:56,379 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 12:01:56,379 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 12:01:56,380 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 12:01:56,380 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 12:01:56,380 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 12:01:56,380 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 12:01:56,381 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,381 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 12:01:56,381 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,381 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 12:01:56,382 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 12:01:56,382 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 12:01:56,383 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 12:01:56,383 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 12:01:56,384 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,384 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,385 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,385 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,385 - ultibot_ui.views.orders_view - INFO - OrdersView: User ID set to 00000000-0000-0000-0000-000000000001. Setting up worker.
2025-06-25 12:01:56,385 - ultibot_ui.views.orders_view - INFO - Hilo de OrdersWorker iniciado.
2025-06-25 12:01:56,385 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 12:01:56,386 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 12:01:56,386 - ultibot_ui.workers - DEBUG - OrdersWorker: run method started in thread <PySide6.QtCore.QThread(0x1f2c89bd5f0) at 0x000001F2C90EA580>.
2025-06-25 12:01:56,386 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 12:01:56,386 - ultibot_ui.workers - ERROR - Error scheduling OrdersWorker task: There is no current event loop in thread 'Dummy-2'.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 312, in run
    main_loop = asyncio.get_event_loop()
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 677, in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
RuntimeError: There is no current event loop in thread 'Dummy-2'.
2025-06-25 12:01:56,387 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,387 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 12:01:56,387 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:01:56,392 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 12:01:56,392 - ultibot_ui.views.orders_view - ERROR - Ocurrió un error en OrdersWorker: There is no current event loop in thread 'Dummy-2'.
2025-06-25 12:01:56,409 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 12:01:56,409 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 12:01:56,409 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 12:01:56,410 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 12:01:56,411 - ultibot_ui.workers - DEBUG - StrategiesWorker: Coroutine scheduled on the main event loop.
2025-06-25 12:01:56,421 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:01:56,421 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 12:01:56,421 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:01:56,421 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 12:01:56,431 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 12:01:56,433 - ultibot_ui.workers - INFO - Fetching real strategies from API...
2025-06-25 12:01:56,433 - ultibot_ui.services.api_client - INFO - Obteniendo estrategias de trading.
2025-06-25 12:01:56,433 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:01:56,434 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/strategies
2025-06-25 12:01:56,435 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 12:01:56,436 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 12:01:56,436 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 12:01:56,436 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 12:01:56,437 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 16:01:56,436 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 12:01:56,438 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[Task.task_wakeup()]>, <function IocpProactor.connect.<locals>.finish_connect at 0x000001F2CC1D9760>, 0, 0, <_overlapped.Overlapped object at 0x000001F2C8FE36F0>)]
2025-06-25 12:01:56,440 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.connect.<locals>.finish_connect at 0x000001F2CC1D9760>
2025-06-25 12:01:56,441 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F2E8470950>
2025-06-25 12:01:56,442 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 12:01:56,442 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 12:01:56,443 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 12:01:56,443 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 12:01:56,443 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 16:01:56,442 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-25 16:01:56,445 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 404
2025-06-25 12:01:56,449 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2CC1D9800>, 132, 0, <_overlapped.Overlapped object at 0x000001F2C8FE37B0>)]
2025-06-25 12:01:56,449 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2CC1D9800>
2025-06-25 12:01:56,452 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Wed, 25 Jun 2025 16:01:56 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-06-25 12:01:56,453 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/strategies "HTTP/1.1 404 Not Found"
2025-06-25 12:01:56,453 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/strategies "HTTP/1.1 404 Not Found"
2025-06-25 12:01:56,454 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 12:01:56,455 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 12:01:56,455 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 16:01:56,453 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 12:01:56,456 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 12:01:56,456 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/strategies "HTTP/HTTP/1.1 404 Not Found"
2025-06-25 12:01:56,457 - ultibot_ui.services.api_client - ERROR - Error HTTP 404 para GET http://127.0.0.1:8000/api/v1/strategies: {"detail":"Not Found"}
2025-06-25 16:01:56,456 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 12:01:56,458 - ultibot_ui.workers - ERROR - Error in StrategiesWorker: Error de API (404): Not Found
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\services\api_client.py", line 108, in _make_request
    response.raise_for_status()
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\httpx\_models.py", line 763, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'http://127.0.0.1:8000/api/v1/strategies'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 145, in _on_task_done
    strategies = future.result()
                 ^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 114, in _fetch_strategies
    strategies = await self.api_client.get_strategies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\services\api_client.py", line 154, in get_strategies
    return await self._make_request("GET", "/api/v1/strategies")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\__init__.py", line 400, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\services\api_client.py", line 122, in _make_request
    raise APIError(
ultibot_ui.services.api_client.APIError: Error de API (404): Not Found
2025-06-25 12:01:56,461 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2C90C0A40>, 126, 0, <_overlapped.Overlapped object at 0x000001F2C8FE2AF0>)]
2025-06-25 12:01:56,462 - ultibot_ui.views.strategies_view - ERROR - An error occurred in StrategiesWorker: Error de API (404): Not Found
2025-06-25 12:01:56,473 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2C90C0A40>
2025-06-25 12:01:56,475 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 16:01:56 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 12:01:56,475 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 12:01:56,475 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 12:01:56,476 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 12:01:56,477 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 12:01:56,477 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 12:01:56,477 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 12:01:56,479 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 12:01:56,479 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T16:01:56.456297'}
2025-06-25 12:01:56,479 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 12:01:56,481 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 12:01:56,481 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 12:01:56,482 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:02:01,379 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:02:01,450 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2CC1D9800>, 0, 0, <_overlapped.Overlapped object at 0x000001F2C8FE37B0>)]
2025-06-25 12:02:01,451 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2CC1D9800>
2025-06-25 12:02:01,460 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2C90C0A40>, 0, 0, <_overlapped.Overlapped object at 0x000001F2C8FE2AF0>)]
2025-06-25 12:02:01,460 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x000001F2C90C0A40>
2025-06-25 12:02:10,015 - ultibot_ui.workers - INFO - StrategiesWorker finished.
2025-06-25 12:02:10,591 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se puede iniciar el feed de precios porque el bucle de eventos principal no está disponible.
2025-06-25 12:02:10,594 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: initialize_async_components INVOCADO
2025-06-25 12:02:10,594 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:02:10,595 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization finished.
2025-06-25 12:02:11,377 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 12:02:11,378 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x000001F2C90D0B50>, coroutine_factory: set
2025-06-25 12:02:15,712 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 12 active threads...
2025-06-25 12:02:15,713 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 12:02:15,713 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 12:02:15,713 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 12:02:15,714 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 12:02:15,715 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 12:02:15,716 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 12:02:15,716 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 12:02:15,717 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 12:02:15,717 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 12:02:15,717 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 12:02:15,718 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 12:02:15,718 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 12:02:15,719 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,720 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,721 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 12:02:15,721 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 12:02:15,722 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 12:02:15,722 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,723 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,723 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 12:02:15,724 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,725 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,726 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,726 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,727 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,727 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,727 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,728 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:02:15,728 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 12:02:15,730 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 12:02:15,741 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 12:02:15,741 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 12:02:15,741 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 12:02:15,741 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 12:02:15,743 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 12:02:15,743 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 12:02:15,743 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 12:02:15,744 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 12:02:15,744 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 12:02:15,744 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 12:02:15,745 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 12:02:15,745 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 12:02:15,746 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 12:02:15,746 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 12:02:15,746 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 12:02:15,747 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 12:02:15,747 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 12:02:15,748 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 12:02:15,748 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 12:02:15,749 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 12:02:15,759 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 12:02:15,763 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 12:02:15,763 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 12:02:15,763 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 12:02:15,764 - __main__ - INFO - Aplicación cerrada.
2025-06-25 16:02:20,814 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:02:20,816 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:02:20,822 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:02:20,823 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:02:21,536 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:02:21,537 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 16:02:51,562 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:02:51,564 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:02:51,570 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:02:51,572 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:02:52,182 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:02:52,183 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 16:03:22,211 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:03:22,214 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:03:22,221 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:03:22,224 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:03:22,925 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:03:22,927 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 12:03:35,352 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-25 12:03:35,352 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-25 12:03:35,352 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-25 12:03:35,356 - __main__ - INFO - Initializing or finding application window...
2025-06-25 12:03:35,356 - __main__ - INFO - No existing MainWindow found. Creating a new one.
2025-06-25 12:03:35,356 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-25 12:03:35,356 - ultibot_ui.services.api_client - DEBUG - APIClient singleton: base URL establecida en http://127.0.0.1:8000
2025-06-25 12:03:35,551 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client inicializado con base URL: http://127.0.0.1:8000
2025-06-25 12:03:35,573 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-25 12:03:35,574 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-25 12:03:35,854 - ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-25 12:03:35,854 - ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-25 12:03:35,861 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:35,886 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 12:03:35,886 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:35,887 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-25 12:03:35,888 - ultibot_ui.views.opportunities_view - DEBUG - OpportunitiesView initialized.
2025-06-25 12:03:35,918 - ultibot_ui.windows.history_view - INFO - HistoryView inicializada.
2025-06-25 12:03:35,921 - ultibot_ui.views.orders_view - INFO - OrdersView initialized.
2025-06-25 12:03:35,929 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se encontró el bucle de eventos de asyncio principal. La funcionalidad de feed de precios puede no funcionar correctamente.
2025-06-25 12:03:35,932 - ultibot_ui.views.trading_terminal_view - INFO - Price chart initialized for TradingTerminalView.
2025-06-25 12:03:35,932 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView initialized.
2025-06-25 12:03:35,938 - ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-25 12:03:35,956 - ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-25 12:03:36,048 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 12:03:36,048 - ultibot_ui.windows.main_window - INFO - Fetching initial user configuration asynchronously (from MainWindow)...
2025-06-25 12:03:36,048 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:36,048 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 12:03:36,048 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 12:03:36,051 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 12:03:36,052 - ultibot_ui.workers - DEBUG - StrategiesWorker: Coroutine scheduled on the main event loop.
2025-06-25 12:03:36,094 - qasync._QEventLoop - ERROR - Exception in callback <TaskStepMethWrapper object at 0x00000224D6723A00>()
handle: <Handle <TaskStepMethWrapper object at 0x00000224D6723A00>()>
Traceback (most recent call last):
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
RuntimeError: Cannot enter into task <Task pending name='Task-2' coro=<StrategiesWorker._fetch_strategies() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py:111> cb=[_chain_future.<locals>._call_set_state() at C:\Program Files\Python311\Lib\asyncio\futures.py:394]> while another task <Task pending name='Task-1' coro=<main.<locals>._main_async_wrapper() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:154>> is being executed.
2025-06-25 12:03:41,382 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se puede iniciar el feed de precios porque el bucle de eventos principal no está disponible.
2025-06-25 12:03:41,382 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: initialize_async_components INVOCADO
2025-06-25 12:03:41,383 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,383 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization finished.
2025-06-25 12:03:41,400 - __main__ - INFO - Main window created and shown (loading configuration asynchronously).
2025-06-25 12:03:41,401 - __main__ - INFO - Fetching initial user configuration asynchronously...
2025-06-25 12:03:41,401 - ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-25 12:03:41,402 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:03:41,402 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-25 12:03:41,415 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 12:03:41,459 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000224F5B2EB90>
2025-06-25 12:03:41,460 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 12:03:41,461 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 12:03:41,461 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 12:03:41,461 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 12:03:41,462 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 16:03:41,463 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-25 16:03:41,465 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/config - Status: 200
2025-06-25 12:03:41,468 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D6770A40>, 127, 0, <_overlapped.Overlapped object at 0x00000224D668AC70>)]
2025-06-25 12:03:41,469 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D6770A40>
2025-06-25 12:03:41,470 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 16:03:41 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1206'), (b'content-type', b'application/json')])
2025-06-25 12:03:41,471 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 12:03:41,471 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-25 12:03:41,471 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 12:03:41,472 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 12:03:41,472 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 12:03:41,472 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 12:03:41,473 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-25 12:03:41,473 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'id': '76e453db-0309-4d8d-8ec0-427eea1c855c', 'userId': '00000000-0000-0000-0000-000000000001', 'telegramChatId': None, 'notificationPreferences': [], 'enableTelegramNotifications': False, 'defaultPaperTradingCapital': '10000.00000000', 'paperTradingActive': True, 'paperTradingAssets': None, 'watchlists': [], 'favoritePairs': ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'], 'riskProfile': 'moderate', 'riskProfileSettings': {'daily_capital_risk_percentage': 0.01, 'per_trade_capital_risk_percentage': 0.005, 'max_drawdown_percentage': 0.1}, 'realTradingSettings': {'real_trading_mode_active': False, 'real_trades_executed_count': 0, 'max_concurrent_operations': None, 'daily_loss_limit_absolute': None, 'daily_profit_target_absolute': None, 'asset_specific_stop_loss': None, 'auto_pause_trading_conditions': None, 'daily_capital_risked_usd': '0.0', 'last_daily_reset': '2025-06-25T12:11:17.518566Z'}, 'aiStrategyConfigurations': None, 'aiAnalysisConfidenceThresholds': {'paper_trading': 0.7, 'real_trading': 0.8}, 'mcpServerPreferences': [], 'selectedTheme': 'dark', 'dashboardLayoutProfiles': None, 'activeDashboardLayoutProfileId': None, 'dashboardLayoutConfig': None, 'cloudSyncPreferences': None, 'createdAt': '2025-06-25T12:11:17.524756Z', 'updatedAt': '2025-06-25T12:11:17.524760Z'}
2025-06-25 12:03:41,473 - __main__ - INFO - Configuration received and validated for user ID: 00000000-0000-0000-0000-000000000001. Updating UI.
2025-06-25 12:03:41,474 - ultibot_ui.windows.main_window - INFO - User configuration set for ID: 00000000-0000-0000-0000-000000000001
2025-06-25 12:03:41,474 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: User ID set to 00000000-0000-0000-0000-000000000001. Initializing async components.
2025-06-25 12:03:41,474 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: User ID set to 00000000-0000-0000-0000-000000000001. Starting updates.
2025-06-25 12:03:41,475 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 12:03:41,475 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,475 - ultibot_ui.widgets.market_data_widget - INFO - Cargando configuración inicial para MarketDataWidget...
2025-06-25 12:03:41,476 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,477 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 12:03:41,477 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-25 12:03:41,477 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: User ID set to 00000000-0000-0000-0000-000000000001. Triggering initial data fetch.
2025-06-25 12:03:41,477 - ultibot_ui.windows.history_view - INFO - HistoryView: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 12:03:41,478 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget: User ID set to 00000000-0000-0000-0000-000000000001. Loading data.
2025-06-25 12:03:41,479 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,479 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,479 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,480 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,480 - ultibot_ui.views.orders_view - INFO - OrdersView: User ID set to 00000000-0000-0000-0000-000000000001. Setting up worker.
2025-06-25 12:03:41,481 - ultibot_ui.views.orders_view - INFO - Hilo de OrdersWorker iniciado.
2025-06-25 12:03:41,481 - ultibot_ui.windows.settings_view - INFO - SettingsView: User ID set to 00000000-0000-0000-0000-000000000001. Loading initial data.
2025-06-25 12:03:41,481 - ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-25 12:03:41,482 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-25 12:03:41,482 - ultibot_ui.workers - DEBUG - OrdersWorker: run method started in thread <PySide6.QtCore.QThread(0x224f63ed690) at 0x00000224D679A580>.
2025-06-25 12:03:41,482 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,483 - ultibot_ui.workers - ERROR - Error scheduling OrdersWorker task: There is no current event loop in thread 'Dummy-3'.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 312, in run
    main_loop = asyncio.get_event_loop()
                ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 677, in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
RuntimeError: There is no current event loop in thread 'Dummy-3'.
2025-06-25 12:03:41,484 - ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario para estado de operativa real.
2025-06-25 12:03:41,484 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,485 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Scheduling portfolio snapshot fetch.
2025-06-25 12:03:41,486 - ultibot_ui.views.orders_view - ERROR - Ocurrió un error en OrdersWorker: There is no current event loop in thread 'Dummy-3'.
2025-06-25 12:03:41,500 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization started.
2025-06-25 12:03:41,500 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Initializing view data (loading strategies)...
2025-06-25 12:03:41,501 - ultibot_ui.views.strategies_view - INFO - StrategiesView: Worker thread already running, stopping it.
2025-06-25 12:03:41,501 - ultibot_ui.workers - INFO - StrategiesWorker: Async task cancellation requested via threadsafe call.
2025-06-25 12:03:41,503 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Initializing view data (starting price feed)...
2025-06-25 12:03:41,504 - ultibot_ui.workers - DEBUG - StrategiesWorker: run method started in thread StrategiesWorkerThread.
2025-06-25 12:03:41,504 - ultibot_ui.workers - DEBUG - StrategiesWorker: Coroutine scheduled on the main event loop.
2025-06-25 12:03:41,517 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:03:41,517 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-25 12:03:41,517 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:03:41,519 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 12:03:41,519 - ultibot_ui.workers - ERROR - Error in StrategiesWorker: 
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 145, in _on_task_done
    strategies = future.result()
                 ^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 447, in result
    raise CancelledError()
concurrent.futures._base.CancelledError
2025-06-25 12:03:41,520 - ultibot_ui.views.strategies_view - ERROR - An error occurred in StrategiesWorker: 
2025-06-25 12:03:41,539 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 12:03:41,541 - ultibot_ui.workers - INFO - Fetching real strategies from API...
2025-06-25 12:03:41,541 - ultibot_ui.services.api_client - INFO - Obteniendo estrategias de trading.
2025-06-25 12:03:41,541 - ultibot_ui.services.api_client - DEBUG - APIClient httpx client ya está inicializado.
2025-06-25 12:03:41,541 - ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/strategies
2025-06-25 12:03:41,543 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 12:03:41,543 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 12:03:41,544 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 12:03:41,544 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 12:03:41,545 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-25 16:03:41,545 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-25 12:03:41,551 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000224D93FDD10>
2025-06-25 12:03:41,552 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-25 12:03:41,552 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-25 12:03:41,553 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-25 12:03:41,553 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-25 12:03:41,553 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-25 16:03:41,554 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-25 16:03:41,556 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 404
2025-06-25 12:03:41,559 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D9421D00>, 132, 0, <_overlapped.Overlapped object at 0x00000224D668B7B0>)]
2025-06-25 16:03:41,560 - ultibot_backend.services.portfolio_service - INFO - [MainThread] - portfolio_service.py:87 - Paper trading portfolio initialized for 00000000-0000-0000-0000-000000000001 with capital: 10000.00000000
2025-06-25 12:03:41,560 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D9421D00>
2025-06-25 12:03:41,561 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'date', b'Wed, 25 Jun 2025 16:03:41 GMT'), (b'server', b'uvicorn'), (b'content-length', b'22'), (b'content-type', b'application/json')])
2025-06-25 12:03:41,562 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/strategies "HTTP/1.1 404 Not Found"
2025-06-25 12:03:41,562 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/strategies "HTTP/1.1 404 Not Found"
2025-06-25 16:03:41,562 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 200
2025-06-25 12:03:41,562 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 12:03:41,563 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 12:03:41,563 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 12:03:41,564 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 12:03:41,564 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D93B59E0>, 126, 0, <_overlapped.Overlapped object at 0x00000224D668AAF0>)]
2025-06-25 12:03:41,564 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/strategies "HTTP/HTTP/1.1 404 Not Found"
2025-06-25 12:03:41,565 - ultibot_ui.services.api_client - ERROR - Error HTTP 404 para GET http://127.0.0.1:8000/api/v1/strategies: {"detail":"Not Found"}
2025-06-25 12:03:41,565 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D93B59E0>
2025-06-25 12:03:41,566 - ultibot_ui.workers - ERROR - Error in StrategiesWorker: Error de API (404): Not Found
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 145, in _on_task_done
    strategies = future.result()
                 ^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 447, in result
    raise CancelledError()
concurrent.futures._base.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\services\api_client.py", line 108, in _make_request
    response.raise_for_status()
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\httpx\_models.py", line 763, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'http://127.0.0.1:8000/api/v1/strategies'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 145, in _on_task_done
    strategies = future.result()
                 ^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py", line 114, in _fetch_strategies
    strategies = await self.api_client.get_strategies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\services\api_client.py", line 154, in get_strategies
    return await self._make_request("GET", "/api/v1/strategies")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\__init__.py", line 400, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\services\api_client.py", line 122, in _make_request
    raise APIError(
ultibot_ui.services.api_client.APIError: Error de API (404): Not Found
2025-06-25 12:03:41,568 - ultibot_ui.views.strategies_view - ERROR - An error occurred in StrategiesWorker: Error de API (404): Not Found
2025-06-25 12:03:41,584 - ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-25 12:03:41,585 - ultibot_ui.views.opportunities_view - DEBUG - Creating ApiWorker.
2025-06-25 12:03:41,585 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:41,586 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Wed, 25 Jun 2025 16:03:41 GMT'), (b'server', b'uvicorn'), (b'content-length', b'389'), (b'content-type', b'application/json')])
2025-06-25 12:03:41,586 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 12:03:41,586 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-25 12:03:41,587 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-25 12:03:41,588 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-25 12:03:41,588 - httpcore.http11 - DEBUG - response_closed.started
2025-06-25 12:03:41,588 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-25 12:03:41,589 - ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 "HTTP/HTTP/1.1 200 OK"
2025-06-25 12:03:41,589 - ultibot_ui.services.api_client - DEBUG - Response content (processed): {'paper_trading': {'available_balance_usdt': '10000.00000000', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '10000.00000000', 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': '0.0', 'total_assets_value_usd': '0.0', 'total_portfolio_value_usd': '0.0', 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-25T16:03:41.561766'}
2025-06-25 12:03:41,589 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Portfolio snapshot data received.
2025-06-25 12:03:46,478 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:46,559 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D9421D00>, 0, 0, <_overlapped.Overlapped object at 0x00000224D668B7B0>)]
2025-06-25 12:03:46,559 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D9421D00>
2025-06-25 12:03:46,564 - qasync._windows._EventWorker - DEBUG - Got events from poll: [(<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>, <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D94222A0>, 0, 0, <_overlapped.Overlapped object at 0x00000224D668AAF0>)]
2025-06-25 12:03:46,565 - qasync._QEventLoop - DEBUG - Invoking event callback <function IocpProactor.recv_into.<locals>.finish_recv at 0x00000224D94222A0>
2025-06-25 12:03:52,531 - ultibot_ui.workers - INFO - StrategiesWorker finished.
2025-06-25 16:03:52,956 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:03:52,958 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:03:52,964 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:03:52,966 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:03:53,544 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:03:53,545 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-25 12:03:53,658 - ultibot_ui.workers - INFO - StrategiesWorker finished.
2025-06-25 12:03:54,221 - ultibot_ui.views.trading_terminal_view - ERROR - TradingTerminalView: No se puede iniciar el feed de precios porque el bucle de eventos principal no está disponible.
2025-06-25 12:03:54,221 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: initialize_async_components INVOCADO
2025-06-25 12:03:54,221 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:03:54,227 - ultibot_ui.windows.main_window - INFO - MainWindow: Post-show initialization finished.
2025-06-25 12:03:56,481 - ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-25 12:03:56,482 - ultibot_ui.workers - DEBUG - ApiWorker initialized with api_client: <ultibot_ui.services.api_client.UltiBotAPIClient object at 0x00000224D6780C90>, coroutine_factory: set
2025-06-25 12:04:01,634 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 14 active threads...
2025-06-25 12:04:01,634 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 12:04:01,634 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 12:04:01,634 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 12:04:01,634 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 12:04:01,634 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 12:04:01,634 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 12:04:01,634 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 12:04:01,641 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 12:04:01,641 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 12:04:01,641 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 12:04:01,641 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 12:04:01,641 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 2 active threads...
2025-06-25 12:04:01,641 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,641 - ultibot_ui.windows.settings_view - INFO - SettingsView: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,641 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 12:04:01,641 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 12:04:01,641 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 12:04:01,641 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,645 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread InitialConfigWorkerThread...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,646 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,651 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,651 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,651 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,651 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread unnamed...
2025-06-25 12:04:01,651 - ultibot_ui.windows.main_window - INFO - MainWindow: Quitting and waiting for thread PortfolioApiWorkerThread...
2025-06-25 12:04:01,655 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 12:04:01,668 - __main__ - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-25 12:04:01,671 - ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 0 active threads...
2025-06-25 12:04:01,671 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-25 12:04:01,671 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Iniciando limpieza.
2025-06-25 12:04:01,671 - ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-25 12:04:01,671 - ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-25 12:04:01,671 - ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-25 12:04:01,671 - ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-25 12:04:01,671 - ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-25 12:04:01,671 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-25 12:04:01,671 - ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-25 12:04:01,671 - ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-25 12:04:01,671 - ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-25 12:04:01,671 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleaning up. Stopping 0 active threads...
2025-06-25 12:04:01,671 - ultibot_ui.windows.settings_view - INFO - SettingsView: Cleanup complete.
2025-06-25 12:04:01,671 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup initiated. Threads are managed by MainWindow.
2025-06-25 12:04:01,671 - ultibot_ui.views.trading_terminal_view - INFO - TradingTerminalView: Cleanup finished.
2025-06-25 12:04:01,671 - ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-25 12:04:01,671 - __main__ - WARNING - UltiBotAPIClient instance not found for cleanup.
2025-06-25 12:04:01,677 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-25 12:04:01,688 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-25 12:04:01,688 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-25 12:04:01,691 - __main__ - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-25 12:04:01,691 - __main__ - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-25 12:04:01,691 - __main__ - INFO - Aplicación cerrada.
2025-06-25 12:04:01,765 - qasync._QEventLoop - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-2' coro=<StrategiesWorker._fetch_strategies() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\workers.py:111> cb=[_chain_future.<locals>._call_set_state() at C:\Program Files\Python311\Lib\asyncio\futures.py:394]>
2025-06-25 16:04:23,574 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-25 16:04:23,576 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-25 16:04:23,582 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-25 16:04:23,584 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-25 16:04:24,252 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-25 16:04:24,254 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
