2025-06-21 16:22:35,944 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-21 16:22:35,947 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-21 16:22:35,966 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-21 16:22:35,967 - ultibot_backend - INFO - [MainThread] - main.py:177 - Instancia global de la aplicación creada.
2025-06-21 16:22:36,921 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 16:22:36,923 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 16:22:36,942 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 16:22:36,948 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-21 16:22:36,949 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-21 16:22:36,950 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-21 16:22:36,954 - ultibot_ui.main - INFO - Initializing or finding application window...
2025-06-21 16:22:36,954 - ultibot_ui.main - INFO - No existing MainWindow found. Creating a new one.
2025-06-21 16:22:36,954 - ultibot_ui.main - INFO - Stylesheet loaded successfully.
2025-06-21 16:22:37,062 - ultibot_ui.main - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-21 16:22:37,063 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-21 16:22:37,079 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-21 16:22:37,079 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-21 16:22:37,079 - ultibot_ui.main - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-21 16:22:37,079 - ultibot_ui.main - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-21 16:22:37,079 - ultibot_ui.main - INFO - Aplicación cerrada.
2025-06-21 16:22:37,082 - qasync._QEventLoop - ERROR - Task exception was never retrieved
future: <Task finished name='Task-3' coro=<_main_async() done, defined at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:73> exception=TypeError("object MagicMock can't be used in 'await' expression")>
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 86, in _main_async
    await api_client.initialize_client() # Inicializar el cliente httpx aquí
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
2025-06-21 16:22:37,385 - qasync._QEventLoop - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-4' coro=<cleanup_resources() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:112>>
2025-06-21 16:22:37,956 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-21 16:23:17,148 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-21 16:23:17,148 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-21 16:23:17,166 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-21 16:23:17,166 - ultibot_backend - INFO - [MainThread] - main.py:177 - Instancia global de la aplicación creada.
2025-06-21 16:23:18,109 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 16:23:18,110 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 16:23:18,128 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 16:23:18,134 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-21 16:23:18,135 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-21 16:23:18,136 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-21 16:23:18,138 - ultibot_ui.main - INFO - Initializing or finding application window...
2025-06-21 16:23:18,138 - ultibot_ui.main - INFO - No existing MainWindow found. Creating a new one.
2025-06-21 16:23:18,139 - ultibot_ui.main - INFO - Stylesheet loaded successfully.
2025-06-21 16:23:18,139 - ultibot_ui.main - INFO - Fetching initial user configuration...
2025-06-21 16:23:18,139 - ultibot_ui.main - INFO - Configuration received for user ID: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
2025-06-21 16:23:18,140 - ultibot_ui.main - INFO - Main window created and shown.
2025-06-21 16:23:18,248 - ultibot_ui.main - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-21 16:23:18,249 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-21 16:23:18,265 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-21 16:23:18,266 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-21 16:23:18,267 - ultibot_ui.main - INFO - Iniciando cierre de la aplicación y limpieza de tareas pendientes.
2025-06-21 16:23:18,267 - ultibot_ui.main - WARNING - El bucle de eventos no estaba corriendo o no se encontró durante el cierre.
2025-06-21 16:23:18,267 - ultibot_ui.main - INFO - Aplicación cerrada.
2025-06-21 16:23:18,270 - qasync._QEventLoop - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-4' coro=<cleanup_resources() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:112>>
2025-06-21 16:23:18,794 - qasync._windows._IocpProactor - DEBUG - Closing
