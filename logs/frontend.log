2025-06-09 21:27:01,712 - __main__ - INFO - El bucle de eventos de la aplicaciï¿½n ha terminado. Ejecutando limpieza final.
2025-06-09 21:27:01,712 - __main__ - INFO - Cerrando cliente HTTP...
2025-06-09 21:27:01,739 - __main__ - CRITICAL - Excepciï¿½n no controlada en el arranque de la aplicaciï¿½n: unknown async library, or not in async context
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 137, in <module>
    qasync.run(main())
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\qasync\__init__.py", line 840, in run
    return asyncio.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\qasync\__init__.py", line 409, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 131, in main
    await controller.cleanup()
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 93, in cleanup
    await self.http_client.aclose()
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\httpx\_client.py", line 2031, in aclose
    await self._transport.aclose()
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\httpx\_transports\default.py", line 389, in aclose
    await self._pool.aclose()
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\httpcore\_async\connection_pool.py", line 353, in aclose
    await self._close_connections(closing_connections)
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\httpcore\_async\connection_pool.py", line 343, in _close_connections
    with AsyncShieldCancellation():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\httpcore\_synchronization.py", line 203, in __init__
    self._backend = current_async_library()
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\httpcore\_synchronization.py", line 30, in current_async_library
    environment = sniffio.current_async_library()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\AppData\Local\pypoetry\Cache\virtualenvs\ultibotinversiones-UOQi1NQu-py3.11\Lib\site-packages\sniffio\_impl.py", line 93, in current_async_library
    raise AsyncLibraryNotFoundError(
sniffio._impl.AsyncLibraryNotFoundError: unknown async library, or not in async context
2025-06-09 21:30:38,321 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 21:30:38,497 - __main__ - INFO - Iniciando inicializaciï¿½n asï¿½ncrona...
2025-06-09 21:30:40,516 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuraciï¿½n de usuario.
2025-06-09 21:30:41,318 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 21:30:41,318 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:30:41,318 - __main__ - INFO - Configuraciï¿½n recibida para el ID de usuario: 74f43bb3-eecc-4329-8a43-9fe9b73fb38b
2025-06-09 21:30:41,335 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 21:30:41,335 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 21:30:41,541 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualizaciï¿½n del portafolio iniciado.
2025-06-09 21:30:41,547 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 21:30:41,557 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 21:30:41,751 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 21:30:41,751 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 21:30:41,787 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 74f43bb3-eecc-4329-8a43-9fe9b73fb38b
2025-06-09 21:30:41,791 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:30:41,792 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:30:41,792 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 21:30:41,814 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 21:30:41,917 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 21:30:41,998 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 21:30:42,000 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 21:30:42,001 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuraciï¿½n de usuario general.
2025-06-09 21:30:42,001 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 21:30:42,001 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:30:49,231 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:30:49,234 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 74f43bb3-eecc-4329-8a43-9fe9b73fb38b, modo: paper
2025-06-09 21:30:49,234 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:30:50,271 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:30:50,271 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:30:50,571 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=74f43bb3-eecc-4329-8a43-9fe9b73fb38b&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:30:50,571 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:30:50,571 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:30:50.568421'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:30:56,241 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 15m usando ApiWorker
2025-06-09 21:30:56,557 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:30:56,559 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 74f43bb3-eecc-4329-8a43-9fe9b73fb38b, modo: paper
2025-06-09 21:30:56,559 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:30:57,231 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:30:57,231 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:30:57,528 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=74f43bb3-eecc-4329-8a43-9fe9b73fb38b&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:30:57,528 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:30:57,529 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:30:57.524987'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:31:05,334 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:31:05,335 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:31:11,562 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:31:11,563 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 74f43bb3-eecc-4329-8a43-9fe9b73fb38b, modo: paper
2025-06-09 21:31:11,564 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:31:11,751 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:31:12,471 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:31:12,471 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:31:13,217 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=74f43bb3-eecc-4329-8a43-9fe9b73fb38b&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:31:13,217 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:31:13,217 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:31:13.211456'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:31:26,567 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:31:26,568 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 74f43bb3-eecc-4329-8a43-9fe9b73fb38b, modo: paper
2025-06-09 21:31:26,569 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:31:27,171 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=74f43bb3-eecc-4329-8a43-9fe9b73fb38b&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:31:27,171 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:31:27,581 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:31:27,581 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:31:27,581 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:31:27.171482'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:31:29,084 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 10 active threads...
2025-06-09 21:31:29,084 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 21:31:29,084 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 21:31:29,087 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 21:31:29,087 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 21:31:29,087 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 21:31:29,087 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 21:31:29,087 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 21:31:29,087 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 21:31:29,087 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 21:31:29,087 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 21:31:29,087 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 21:31:29,091 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-09 21:31:29,125 - __main__ - INFO - El bucle de eventos de la aplicaciï¿½n ha terminado. Ejecutando limpieza final.
2025-06-09 21:31:29,125 - __main__ - INFO - Iniciando el proceso de cierre del cliente HTTP...
2025-06-09 21:31:29,125 - __main__ - WARNING - El bucle de eventos no estï¿½ en ejecuciï¿½n, no se puede cerrar el cliente HTTP de forma asï¿½ncrona.
2025-06-09 21:31:29,125 - __main__ - INFO - Limpieza final completada.
2025-06-09 21:34:47,350 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 21:34:47,527 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 21:34:49,531 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 21:34:50,481 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 21:34:50,481 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:34:50,481 - __main__ - INFO - Configuración recibida para el ID de usuario: 79e03200-81a9-4330-b2a1-a2109554002e
2025-06-09 21:34:50,500 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 21:34:50,500 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 21:34:50,713 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 21:34:50,719 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 21:34:50,723 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 21:34:50,931 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 21:34:50,931 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 21:34:50,961 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 79e03200-81a9-4330-b2a1-a2109554002e
2025-06-09 21:34:50,966 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:34:50,966 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:34:50,966 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 21:34:50,988 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 21:34:51,096 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 21:34:51,174 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 21:34:51,176 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 21:34:51,176 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 21:34:51,176 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 21:34:51,177 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:35:05,720 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:35:05,722 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79e03200-81a9-4330-b2a1-a2109554002e, modo: paper
2025-06-09 21:35:05,722 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:35:06,705 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:35:06,711 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:07,511 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=79e03200-81a9-4330-b2a1-a2109554002e&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:35:07,511 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:07,511 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:35:07.507399'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:35:13,991 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:35:13,991 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:35:20,720 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:35:20,721 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79e03200-81a9-4330-b2a1-a2109554002e, modo: paper
2025-06-09 21:35:20,722 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:35:20,947 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:35:21,305 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:35:21,305 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:21,573 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=79e03200-81a9-4330-b2a1-a2109554002e&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:35:21,573 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:21,573 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:35:21.571633'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:35:22,311 - src.ultibot_ui.windows.settings_view - ERROR - SettingsView: No hay configuración actual para guardar. Operación cancelada.
2025-06-09 21:35:26,711 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:35:26,711 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79e03200-81a9-4330-b2a1-a2109554002e, modo: paper
2025-06-09 21:35:26,711 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:35:27,338 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:35:27,339 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:27,641 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=79e03200-81a9-4330-b2a1-a2109554002e&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:35:27,641 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:27,641 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:35:27.641546'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:35:30,288 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1H usando ApiWorker
2025-06-09 21:35:35,721 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:35:35,722 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79e03200-81a9-4330-b2a1-a2109554002e, modo: paper
2025-06-09 21:35:35,725 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:35:36,339 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:35:36,339 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:36,722 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=79e03200-81a9-4330-b2a1-a2109554002e&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:35:36,722 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:36,722 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:35:36.711648'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:35:50,722 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:35:50,723 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79e03200-81a9-4330-b2a1-a2109554002e, modo: paper
2025-06-09 21:35:50,725 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:35:50,962 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:35:51,491 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:35:51,491 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:52,257 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=79e03200-81a9-4330-b2a1-a2109554002e&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:35:52,261 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:35:52,261 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:35:52.257062'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:36:05,721 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:36:05,723 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79e03200-81a9-4330-b2a1-a2109554002e, modo: paper
2025-06-09 21:36:05,723 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:36:07,967 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 11 active threads...
2025-06-09 21:36:07,968 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 21:36:07,968 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 21:36:12,971 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 21:36:12,971 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 21:36:12,971 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 21:36:12,971 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 21:36:12,971 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 21:36:12,971 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 21:36:12,971 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 21:36:12,971 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 21:36:12,972 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 21:36:12,973 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-09 21:54:44,478 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 21:54:44,651 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 21:54:46,661 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 21:54:47,878 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 21:54:47,879 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:54:47,879 - __main__ - INFO - Configuración recibida para el ID de usuario: f5835ea4-743d-4da2-ad5a-29732c9b90bd
2025-06-09 21:54:47,891 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 21:54:47,891 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 21:54:48,106 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 21:54:48,112 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 21:54:48,121 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 21:54:48,384 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 21:54:48,388 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 21:54:48,390 - __main__ - CRITICAL - Error inesperado durante la inicialización: StrategiesView.__init__() missing 3 required positional arguments: 'user_id', 'main_window', and 'loop'
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 62, in initialize
    self.main_window = MainWindow(
                       ^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 88, in __init__
    self._setup_central_widget(parent_widget=self._central_content_widget)
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 166, in _setup_central_widget
    self.strategies_view = StrategiesView(
                           ^^^^^^^^^^^^^^^
TypeError: StrategiesView.__init__() missing 3 required positional arguments: 'user_id', 'main_window', and 'loop'
2025-06-09 21:54:48,531 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:55:03,111 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:55:03,112 - qasync._QEventLoop - ERROR - Exception in callback <TaskStepMethWrapper object at 0x000001EA1EA75D50>()
handle: <Handle <TaskStepMethWrapper object at 0x000001EA1EA75D50>()>
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 62, in initialize
    self.main_window = MainWindow(
                       ^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 88, in __init__
    self._setup_central_widget(parent_widget=self._central_content_widget)
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 166, in _setup_central_widget
    self.strategies_view = StrategiesView(
                           ^^^^^^^^^^^^^^^
TypeError: StrategiesView.__init__() missing 3 required positional arguments: 'user_id', 'main_window', and 'loop'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
RuntimeError: Cannot enter into task <Task pending name='Task-5' coro=<PortfolioWidget._start_update_worker.<locals>.fetch_data_coroutine() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\widgets\portfolio_widget.py:243> cb=[_chain_future.<locals>._call_set_state() at C:\Program Files\Python311\Lib\asyncio\futures.py:394]> while another task <Task pending name='Task-2' coro=<AppController.initialize() running at C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py:76>> is being executed.
2025-06-09 21:55:06,135 - __main__ - ERROR - No se pudo crear la ventana principal. Saliendo.
2025-06-09 21:56:29,423 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 21:56:29,597 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 21:56:31,597 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 21:56:32,261 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 21:56:32,261 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:56:32,261 - __main__ - INFO - Configuración recibida para el ID de usuario: 76c793df-ff79-487c-b964-1fc1d4325931
2025-06-09 21:56:32,281 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 21:56:32,281 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 21:56:32,527 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 21:56:32,532 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 21:56:32,543 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 21:56:32,756 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 21:56:32,762 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 21:56:32,788 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 76c793df-ff79-487c-b964-1fc1d4325931
2025-06-09 21:56:32,793 - __main__ - CRITICAL - Error inesperado durante la inicialización: 'StrategiesView' object has no attribute 'update_strategies'
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 62, in initialize
    self.main_window = MainWindow(
                       ^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 88, in __init__
    self._setup_central_widget(parent_widget=self._central_content_widget)
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 206, in _setup_central_widget
    self.strategy_service.strategies_updated.connect(self.strategies_view.update_strategies)
                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'StrategiesView' object has no attribute 'update_strategies'
2025-06-09 21:56:32,906 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-09 21:56:32,907 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 21:56:32,908 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 21:56:32,908 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 21:56:32,908 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 21:56:32,909 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:56:42,601 - __main__ - ERROR - No se pudo crear la ventana principal. Saliendo.
2025-06-09 21:57:56,390 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 21:57:56,571 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 21:57:58,580 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 21:57:59,230 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 21:57:59,232 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:57:59,232 - __main__ - INFO - Configuración recibida para el ID de usuario: 0a9acee9-1304-421c-b8d2-ac65a5795a32
2025-06-09 21:57:59,243 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 21:57:59,243 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 21:57:59,451 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 21:57:59,464 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 21:57:59,474 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 21:57:59,682 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 21:57:59,682 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 21:57:59,719 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 0a9acee9-1304-421c-b8d2-ac65a5795a32
2025-06-09 21:57:59,723 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:57:59,724 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:57:59,724 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 21:57:59,747 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 21:57:59,846 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 21:57:59,923 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-09 21:57:59,925 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 21:57:59,925 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 21:57:59,926 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 21:57:59,926 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 21:57:59,926 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:58:14,249 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:58:14,251 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:58:14,447 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:58:14,448 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 0a9acee9-1304-421c-b8d2-ac65a5795a32, modo: paper
2025-06-09 21:58:14,448 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:58:15,101 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:58:15,101 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:58:15,456 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=0a9acee9-1304-421c-b8d2-ac65a5795a32&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:58:15,456 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:58:15,456 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:58:15.456174'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:58:29,447 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 21:58:29,449 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 0a9acee9-1304-421c-b8d2-ac65a5795a32, modo: paper
2025-06-09 21:58:29,449 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 21:58:29,682 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 21:58:30,441 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 21:58:30,441 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:58:31,082 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=0a9acee9-1304-421c-b8d2-ac65a5795a32&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 21:58:31,083 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 21:58:31,083 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T01:58:31.076562'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 21:58:32,921 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 21:58:32,921 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 21:58:43,371 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 11 active threads...
2025-06-09 21:58:43,371 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 21:58:43,371 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 21:58:43,382 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 21:58:43,382 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 21:58:43,383 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 21:58:43,383 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 21:58:43,383 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 21:58:43,383 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 21:58:43,383 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 21:58:43,383 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 21:58:43,383 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 21:58:43,383 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-09 22:00:19,487 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 22:00:19,662 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 22:00:21,682 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 22:00:21,956 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 22:00:21,956 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:21,956 - __main__ - INFO - Configuración recibida para el ID de usuario: bf781887-3249-40bb-a303-12ed084c96f3
2025-06-09 22:00:21,971 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 22:00:21,971 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 22:00:22,212 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 22:00:22,217 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 22:00:22,226 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 22:00:22,471 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 22:00:22,486 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 22:00:22,512 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario bf781887-3249-40bb-a303-12ed084c96f3
2025-06-09 22:00:22,518 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:00:22,518 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:00:22,518 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 22:00:22,542 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 22:00:22,651 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 22:00:22,732 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-09 22:00:22,740 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 22:00:22,741 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 22:00:22,741 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 22:00:22,741 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 22:00:22,742 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:00:24,961 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:00:24,961 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para bf781887-3249-40bb-a303-12ed084c96f3, modo: paper
2025-06-09 22:00:24,961 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:00:25,572 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=bf781887-3249-40bb-a303-12ed084c96f3&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:00:25,573 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:25,672 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:00:25,672 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:25,672 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:00:25.570499'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:00:29,221 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:00:29,221 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para bf781887-3249-40bb-a303-12ed084c96f3, modo: paper
2025-06-09 22:00:29,221 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:00:29,591 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:00:29,591 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:30,021 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=bf781887-3249-40bb-a303-12ed084c96f3&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:00:30,021 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:30,021 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:00:30.021735'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:00:37,200 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:00:37,201 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para bf781887-3249-40bb-a303-12ed084c96f3, modo: paper
2025-06-09 22:00:37,201 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:00:37,756 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:00:37,756 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:38,211 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=bf781887-3249-40bb-a303-12ed084c96f3&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:00:38,211 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:00:38,211 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:00:38.201674'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:00:48,591 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 8 active threads...
2025-06-09 22:00:48,591 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 22:00:48,591 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 22:00:48,595 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 22:00:48,595 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 22:00:48,595 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 22:00:48,595 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 22:00:48,595 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 22:00:48,595 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 22:00:48,595 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 22:00:48,595 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 22:00:48,595 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 22:00:48,595 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-09 22:08:19,306 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 22:08:19,492 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 22:08:21,503 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 22:08:22,170 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 22:08:22,170 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:08:22,170 - __main__ - INFO - Configuración recibida para el ID de usuario: 759c6f44-489e-49fc-bf8d-ae91439472e4
2025-06-09 22:08:22,189 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 22:08:22,189 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 22:08:22,400 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 22:08:22,405 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 22:08:22,410 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 22:08:22,632 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 22:08:22,632 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 22:08:22,669 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 759c6f44-489e-49fc-bf8d-ae91439472e4
2025-06-09 22:08:22,674 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:08:22,674 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:08:22,675 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 22:08:22,696 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 22:08:22,794 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 22:08:22,872 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 22:08:22,872 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 22:08:22,872 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 22:08:22,873 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-09 22:08:22,873 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 22:08:22,873 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:08:37,421 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:08:37,425 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 759c6f44-489e-49fc-bf8d-ae91439472e4, modo: paper
2025-06-09 22:08:37,425 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:08:38,010 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=759c6f44-489e-49fc-bf8d-ae91439472e4&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:08:38,010 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:08:38,170 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:08:38,170 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:08:38,170 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:08:37.994951'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:08:48,526 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:08:48,526 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:08:52,421 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:08:52,421 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 759c6f44-489e-49fc-bf8d-ae91439472e4, modo: paper
2025-06-09 22:08:52,421 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:08:52,643 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:08:52,992 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:08:52,992 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:08:53,261 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=759c6f44-489e-49fc-bf8d-ae91439472e4&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:08:53,261 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:08:53,261 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:08:53.261730'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:09:01,415 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 9 active threads...
2025-06-09 22:09:01,415 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 22:09:01,415 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 22:09:01,415 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 22:09:01,415 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 22:09:01,415 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 22:09:01,415 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 22:09:01,415 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 22:09:01,415 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 22:09:01,415 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 22:09:01,415 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 22:09:01,415 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 22:09:01,415 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-09 22:17:19,490 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 22:17:19,665 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 22:17:21,668 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 22:17:22,337 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 22:17:22,337 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:17:22,337 - __main__ - INFO - Configuración recibida para el ID de usuario: 927e9934-500a-4db7-a28d-7dd4a6134046
2025-06-09 22:17:22,353 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 22:17:22,353 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 22:17:22,570 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 22:17:22,570 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 22:17:22,586 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 22:17:22,804 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 22:17:22,804 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 22:17:22,834 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 927e9934-500a-4db7-a28d-7dd4a6134046
2025-06-09 22:17:22,840 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:17:22,842 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:17:22,842 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 22:17:22,866 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 22:17:22,970 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 22:17:23,049 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 22:17:23,050 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 22:17:23,050 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 22:17:23,050 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-09 22:17:23,050 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 22:17:23,050 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:17:37,221 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:17:37,221 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:17:37,570 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:17:37,571 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 927e9934-500a-4db7-a28d-7dd4a6134046, modo: paper
2025-06-09 22:17:37,571 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:17:38,135 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:17:38,135 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:17:38,278 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=927e9934-500a-4db7-a28d-7dd4a6134046&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:17:38,278 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:17:38,278 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:17:38.276584'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:17:50,868 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 9 active threads...
2025-06-09 22:17:50,869 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 22:17:50,869 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 22:17:50,869 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 22:17:50,870 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 22:17:50,870 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 22:17:50,870 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 22:17:50,871 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 22:17:50,871 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 22:17:50,871 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 22:17:50,871 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 22:17:50,871 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 22:17:50,871 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-09 22:21:19,392 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-09 22:21:19,575 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-09 22:21:21,592 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-09 22:21:22,226 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-09 22:21:22,226 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:21:22,226 - __main__ - INFO - Configuración recibida para el ID de usuario: 51e45d61-d8df-4f64-bf7f-b2909768f8ad
2025-06-09 22:21:22,242 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-09 22:21:22,242 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-09 22:21:22,465 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-09 22:21:22,465 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-09 22:21:22,478 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-09 22:21:22,753 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-09 22:21:22,757 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-09 22:21:22,780 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 51e45d61-d8df-4f64-bf7f-b2909768f8ad
2025-06-09 22:21:22,785 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:21:22,787 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:21:22,787 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-09 22:21:22,810 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-09 22:21:22,914 - __main__ - INFO - Ventana principal mostrada.
2025-06-09 22:21:22,990 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-09 22:21:22,990 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-09 22:21:22,991 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-09 22:21:22,994 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-09 22:21:22,994 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-09 22:21:22,994 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:21:37,475 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:21:37,476 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:21:37,476 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:21:38,043 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:21:38,043 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:21:38,193 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:21:38,193 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:21:38,193 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:21:38.193309'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:21:52,477 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:21:52,477 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:21:52,477 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:21:52,758 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:21:53,069 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:21:53,069 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:21:53,276 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:21:53,276 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:21:53,276 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:21:53.276639'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:22:07,494 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:22:07,494 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:22:07,494 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:22:08,095 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:22:08,095 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:08,394 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:22:08,394 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:08,394 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:22:08.393163'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:22:22,493 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:22:22,493 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:22:22,493 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:22:22,760 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:22:23,077 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:22:23,077 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:23,444 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:22:23,444 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:23,444 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:22:23.444102'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:22:37,511 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:22:37,511 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:22:37,511 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:22:38,077 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:22:38,077 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:38,544 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:22:38,544 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:38,544 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:22:38.077945'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:22:52,510 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:22:52,511 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:22:52,511 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:22:52,778 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:22:53,113 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:22:53,113 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:53,694 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:22:53,694 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:22:53,694 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:22:53.694558'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:23:07,511 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:23:07,513 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:23:07,513 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:23:08,094 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:23:08,095 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:23:08,712 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:23:08,712 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:23:08,712 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:23:08.078136'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:23:22,511 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:23:22,512 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:23:22,514 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:23:22,777 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-09 22:23:23,174 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:23:23,177 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:23:23,896 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:23:23,897 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:23:23,897 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:23:23.174395'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:23:29,962 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-09 22:23:29,962 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-09 22:23:37,510 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-09 22:23:37,512 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 51e45d61-d8df-4f64-bf7f-b2909768f8ad, modo: paper
2025-06-09 22:23:37,514 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-09 22:23:38,079 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-09 22:23:38,079 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:23:38,728 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=51e45d61-d8df-4f64-bf7f-b2909768f8ad&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-09 22:23:38,728 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-09 22:23:38,728 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T02:23:38.728614'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-09 22:23:40,812 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 13 active threads...
2025-06-09 22:23:40,812 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-09 22:23:40,812 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-09 22:23:40,812 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-09 22:23:40,812 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-09 22:23:40,812 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-09 22:23:40,812 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-09 22:23:40,812 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-09 22:23:40,812 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-09 22:23:40,812 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-09 22:23:40,812 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-09 22:23:40,812 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-09 22:23:40,812 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
2025-06-10 07:34:12,871 - __main__ - INFO - Stylesheet cargado exitosamente.
2025-06-10 07:34:13,049 - __main__ - INFO - Iniciando inicialización asíncrona...
2025-06-10 07:34:15,056 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuración de usuario.
2025-06-10 07:34:15,715 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-10 07:34:15,715 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-10 07:34:15,715 - __main__ - INFO - Configuración recibida para el ID de usuario: 45e1b41b-7313-4c69-9e18-ac02d154d751
2025-06-10 07:34:15,759 - src.ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-10 07:34:15,759 - src.ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-10 07:34:16,174 - src.ultibot_ui.widgets.portfolio_widget - INFO - Timer de actualización del portafolio iniciado.
2025-06-10 07:34:16,179 - src.ultibot_ui.widgets.chart_widget - INFO - Solicitando datos para BTCUSDT - 1h usando ApiWorker
2025-06-10 07:34:16,190 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: _initialize_async_components INVOCADO
2025-06-10 07:34:16,476 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: __init__ called.
2025-06-10 07:34:16,479 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView: _load_initial_data called.
2025-06-10 07:34:16,516 - src.ultibot_ui.windows.history_view - INFO - HistoryView inicializada para usuario 45e1b41b-7313-4c69-9e18-ac02d154d751
2025-06-10 07:34:16,522 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-10 07:34:16,523 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-10 07:34:16,523 - src.ultibot_ui.windows.main_window - INFO - Central widget y vistas configuradas.
2025-06-10 07:34:16,547 - src.ultibot_ui.windows.main_window - INFO - MainWindow inicializada y visible.
2025-06-10 07:34:16,661 - __main__ - INFO - Ventana principal mostrada.
2025-06-10 07:34:16,750 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Iniciando carga de datos iniciales (_load_initial_data).
2025-06-10 07:34:16,750 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando configuración de usuario general.
2025-06-10 07:34:16,750 - src.ultibot_ui.windows.settings_view - INFO - SettingsView: Solicitando estado de operativa real.
2025-06-10 07:34:16,751 - src.ultibot_ui.views.strategies_view - INFO - Fetching strategies.
2025-06-10 07:34:16,751 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Fetching portfolio snapshot.
2025-06-10 07:34:16,751 - src.ultibot_ui.views.opportunities_view - INFO - Fetching Gemini IA opportunities.
2025-06-10 07:34:31,167 - src.ultibot_ui.widgets.portfolio_widget - INFO - Actualizando datos del portafolio para modo: paper
2025-06-10 07:34:31,167 - src.ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 45e1b41b-7313-4c69-9e18-ac02d154d751, modo: paper
2025-06-10 07:34:31,167 - src.ultibot_ui.services.api_client - INFO - Obteniendo trades, modo: paper, filtros: {'trading_mode': 'paper', 'status': 'open'}
2025-06-10 07:34:31,711 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/trades?trading_mode=paper&status=open "HTTP/1.1 200 OK"
2025-06-10 07:34:31,711 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/trades "HTTP/HTTP/1.1 200 OK"
2025-06-10 07:34:31,859 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot?user_id=45e1b41b-7313-4c69-9e18-ac02d154d751&trading_mode=paper "HTTP/1.1 200 OK"
2025-06-10 07:34:31,859 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET /api/v1/portfolio/snapshot "HTTP/HTTP/1.1 200 OK"
2025-06-10 07:34:31,859 - src.ultibot_ui.widgets.portfolio_widget - INFO - DATOS COMPLETOS RECIBIDOS EN HANDLER: {'portfolio_snapshot': {'paper_trading': {'available_balance_usdt': 10000.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 10000.0, 'assets': [], 'error_message': None}, 'real_trading': {'available_balance_usdt': 0.0, 'total_assets_value_usd': 0.0, 'total_portfolio_value_usd': 0.0, 'assets': [], 'error_message': 'Real trading data not requested'}, 'last_updated': '2025-06-10T11:34:31.857916'}, 'open_trades': [], 'trading_mode': 'paper'}
2025-06-10 07:34:35,242 - src.ultibot_ui.services.ui_strategy_service - INFO - UIStrategyService: Initiating fetch_strategies via ApiWorker.
2025-06-10 07:34:35,242 - src.ultibot_ui.windows.main_window - INFO - MainWindow: Initiated strategy fetch via UIStrategyService.
2025-06-10 07:34:39,484 - src.ultibot_ui.windows.main_window - INFO - Cleaning up MainWindow resources. Stopping 9 active threads...
2025-06-10 07:34:39,484 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Iniciando limpieza de tareas.
2025-06-10 07:34:39,484 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpiando hilos y workers activos.
2025-06-10 07:34:39,484 - src.ultibot_ui.widgets.portfolio_widget - INFO - PortfolioWidget: Limpieza completada.
2025-06-10 07:34:39,484 - src.ultibot_ui.widgets.chart_widget - INFO - ChartWidget: Limpieza completada.
2025-06-10 07:34:39,484 - src.ultibot_ui.windows.dashboard_view - INFO - DashboardView: Limpieza completada.
2025-06-10 07:34:39,484 - src.ultibot_ui.widgets.paper_trading_report_widget - INFO - PaperTradingReportWidget cleanup: No hay acciones que tomar.
2025-06-10 07:34:39,484 - src.ultibot_ui.windows.history_view - INFO - HistoryView cleanup completado
2025-06-10 07:34:39,484 - src.ultibot_ui.views.opportunities_view - INFO - Cleaning up OpportunitiesView...
2025-06-10 07:34:39,489 - src.ultibot_ui.views.opportunities_view - INFO - OpportunitiesView cleanup finished.
2025-06-10 07:34:39,489 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleaning up...
2025-06-10 07:34:39,491 - src.ultibot_ui.views.portfolio_view - INFO - PortfolioView: Cleanup finished.
2025-06-10 07:34:39,491 - src.ultibot_ui.windows.main_window - INFO - MainWindow cleanup finished.
