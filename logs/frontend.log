2025-06-17 15:51:00,851 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 15:51:00,851 - __main__ - INFO - Initializing application...
2025-06-17 15:51:00,882 - __main__ - INFO - Stylesheet loaded successfully.
2025-06-17 15:51:01,069 - src.ultibot_ui.services.api_client - DEBUG - API base URL set to: http://127.0.0.1:8000
2025-06-17 15:51:01,083 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-17 15:51:01,083 - __main__ - INFO - Fetching initial user configuration...
2025-06-17 15:51:01,083 - src.ultibot_ui.services.api_client - INFO - Obteniendo configuraci√≥n de usuario.
2025-06-17 15:51:01,083 - src.ultibot_ui.services.api_client - DEBUG - APIClient: _make_request invocado para GET /api/v1/config
2025-06-17 15:51:01,111 - httpcore.connection - DEBUG - connect_tcp.started host='127.0.0.1' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-17 15:51:01,115 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000018C80DE2410>
2025-06-17 15:51:01,115 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-17 15:51:01,115 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-17 15:51:01,115 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-17 15:51:01,115 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-17 15:51:01,115 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-17 15:51:31,116 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Tue, 17 Jun 2025 19:51:00 GMT'), (b'server', b'uvicorn'), (b'content-length', b'1143'), (b'content-type', b'application/json')])
2025-06-17 15:51:31,116 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-17 15:51:31,116 - httpx - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/1.1 200 OK"
2025-06-17 15:51:31,121 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-17 15:51:31,121 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-17 15:51:31,122 - httpcore.http11 - DEBUG - response_closed.started
2025-06-17 15:51:31,122 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-17 15:51:31,122 - src.ultibot_ui.services.api_client - INFO - HTTP Request: GET http://127.0.0.1:8000/api/v1/config "HTTP/HTTP/1.1 200 OK"
2025-06-17 15:51:31,122 - src.ultibot_ui.services.api_client - DEBUG - Response content: {"id":"e538ebab-69ab-47b9-a67c-a532700042b1","user_id":"00000000-0000-0000-0000-000000000001","telegramChatId":null,"notificationPreferences":[],"enableTelegramNotifications":false,"defaultPaperTradingCapital":10000.0,"paperTradingActive":true,"watchlists":[],"favoritePairs":["BTCUSDT","ETHUSDT","BNBUSDT"],"riskProfile":null,"riskProfileSettings":null,"realTradingSettings":{"real_trading_mode_active":false,"real_trades_executed_count":0,"max_real_trades":5,"daily_capital_risked_usd":0.0,"last_daily_reset":"2025-06-17T19:51:31.111986","maxConcurrentOperations":null,"dailyLossLimitAbsolute":null,"dailyProfitTargetAbsolute":null,"assetSpecificStopLoss":null,"autoPauseTradingConditions":null},"aiStrategyConfigurations":[],"aiAnalysisConfidenceThresholds":{"paperTrading":0.7,"realTrading":0.8,"dataVerificationPriceDiscrepancyPercent":5.0,"dataVerificationMinVolumeQuote":1000.0},"mcpServerPreferences":[],"selectedTheme":"dark","dashboardLayoutProfiles":null,"activeDashboardLayoutProfileId":null,"dashboardLayoutConfig":null,"cloudSyncPreferences":null,"createdAt":"2025-06-17T19:51:31.111986","updatedAt":"2025-06-17T19:51:31.111986"}
2025-06-17 15:51:31,122 - __main__ - INFO - Configuration received for user ID: e538ebab-69ab-47b9-a67c-a532700042b1
2025-06-17 15:51:31,131 - __main__ - CRITICAL - An unexpected error occurred during initialization: You can't initialize an PySide6.QtWidgets.QMainWindow object in class MainWindow twice!
Traceback (most recent call last):
  File "c:\Users\zamor\UltiBotInversiones\src\ultibot_ui\main.py", line 89, in start_application
    main_window = MainWindow(user_id=user_id, api_client=api_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\ultibot_ui\windows\main_window.py", line 53, in __init__
    super().__init__(parent)
RuntimeError: You can't initialize an PySide6.QtWidgets.QMainWindow object in class MainWindow twice!
2025-06-17 15:51:31,131 - httpcore.connection - DEBUG - close.started
2025-06-17 15:51:31,131 - httpcore.connection - DEBUG - close.complete
2025-06-17 15:51:31,176 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-17 15:51:31,176 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-17 15:59:40,437 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 15:59:40,437 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 15:59:40,474 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:01:41,269 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:01:41,269 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:01:41,281 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:02:30,341 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:02:30,341 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:02:30,361 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:06:30,881 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:06:30,881 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:06:30,898 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:08:20,113 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:08:20,121 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:08:20,135 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:28:50,856 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:28:50,858 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:28:50,874 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:39:35,410 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:39:35,411 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:39:35,422 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:49:09,864 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:49:09,864 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:49:09,884 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:50:32,192 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:50:32,196 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:50:32,207 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:51:36,247 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:51:36,247 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:51:36,266 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 16:51:36,266 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 16:52:28,372 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:52:28,372 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 16:52:28,392 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 16:52:28,392 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 17:00:37,043 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,043 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,063 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 17:00:37,063 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 17:00:37,324 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,347 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,357 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,366 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,369 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 17:00:37,369 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 17:00:37,379 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,383 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,393 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,397 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,398 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,403 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,410 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,413 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,424 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,424 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,438 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,445 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,450 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,457 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,463 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,469 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,474 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,481 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,487 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,492 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,499 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,503 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,517 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,530 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,545 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,556 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,570 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,584 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,596 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,613 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,713 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,843 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,859 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,871 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,873 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,890 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,900 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:37,911 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:38,971 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 17:00:39,064 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,339 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,341 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,544 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:20:07,544 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:20:07,544 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,544 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:20:07,544 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:20:07,556 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,561 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:20:07,561 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:20:07,565 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,565 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:20:07,565 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:20:07,565 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,575 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:20:07,575 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:20:07,575 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,580 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:20:07,580 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:20:07,844 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,844 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:20:07,844 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:20:07,854 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,860 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,864 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,864 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,873 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,875 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,884 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,893 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,900 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,908 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,915 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,920 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,928 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,934 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,939 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,947 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,951 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,959 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,965 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,971 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:07,979 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:08,171 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:08,172 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,173 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:08,174 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 66efe0bf-8594-402b-8ced-7125ce33a447, modo: paper
2025-06-17 18:20:08,356 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:08,356 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,356 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:08,356 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:20:08,544 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:08,544 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,544 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:08,544 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:20:08,734 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:08,734 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,734 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:08,740 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 18:20:08,924 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:08,924 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,924 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:08,924 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para b126c09a-f420-4cfb-a9d1-08bbcfadcf7e en modo paper.
2025-06-17 18:20:08,924 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para b126c09a-f420-4cfb-a9d1-08bbcfadcf7e en modo real.
2025-06-17 18:20:08,924 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:08,934 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:08,938 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:20:08,939 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:08,939 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:08,939 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:09,124 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:09,124 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,124 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para f7fa57e2-edee-4557-9dfb-09d07a7be0fd, modo: paper
2025-06-17 18:20:09,124 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:20:09,124 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:09,124 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:09,124 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:09,312 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:20:09,314 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,314 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:09,330 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 77e736fd-04f2-4cff-bf62-97dc1db7dee1, modo: real
2025-06-17 18:20:09,330 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:20:09,335 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,345 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,363 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,375 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,389 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,404 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,417 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,565 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,694 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:09,884 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,074 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,262 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,450 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,528 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,674 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,756 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,914 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,929 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,942 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,946 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,962 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,965 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:10,981 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,053 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,060 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,065 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,869 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,869 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,869 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,869 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,869 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 18:20:11,873 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,874 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,875 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,875 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:20:11,876 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,876 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,877 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,877 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,879 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,879 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:20:11,880 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,880 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,881 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,881 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,881 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,881 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='3012008378192'>
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='3012008378192'>
2025-06-17 18:20:11,884 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:20:11,889 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,890 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,891 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 18:20:11,891 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,891 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 18:20:11,892 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,892 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,892 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:20:11,894 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:20:11,926 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,926 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,946 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,966 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,976 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:20:11,984 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,042 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,044 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,059 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:22:35,059 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:22:35,064 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,068 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:22:35,068 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:22:35,068 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,076 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:22:35,076 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:22:35,080 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,082 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:22:35,082 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:22:35,085 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,085 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:22:35,085 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:22:35,092 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,095 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:22:35,095 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:22:35,354 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,359 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:22:35,359 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:22:35,364 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,364 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,364 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,376 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,376 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,384 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,395 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,401 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,409 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,417 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,423 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,430 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,436 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,444 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,444 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,457 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,464 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,464 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,475 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,475 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,484 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,676 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:35,676 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:35,676 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,679 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 191f084b-e76a-4fa3-9a99-726eac7a6a7c, modo: paper
2025-06-17 18:22:35,855 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:35,855 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:35,855 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:35,860 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:22:36,045 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:36,045 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,045 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,045 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:22:36,234 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:36,234 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,234 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,234 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 18:22:36,425 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:36,425 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,426 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,429 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 5839d47b-5ab8-46ce-ac70-56db38c05cdf en modo paper.
2025-06-17 18:22:36,429 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 5839d47b-5ab8-46ce-ac70-56db38c05cdf en modo real.
2025-06-17 18:22:36,429 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,429 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:36,429 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:36,431 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:36,614 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:36,614 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,625 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para af5441ee-cb75-4347-bdae-79f37aa37d6f, modo: paper
2025-06-17 18:22:36,626 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:22:36,627 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:36,627 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:36,627 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:36,812 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:22:36,814 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,815 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:36,815 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 0eeff536-9348-44f6-a524-f3b7c875f53c, modo: real
2025-06-17 18:22:36,815 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:22:36,815 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,835 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,850 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,862 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,874 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,887 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,901 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:36,914 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,015 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,131 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,314 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,501 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,684 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,866 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:37,947 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,095 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,176 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,326 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,339 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,350 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,360 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,364 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,376 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,384 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,444 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,460 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:38,466 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:39,235 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,235 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,241 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,241 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,242 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 18:22:39,243 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,244 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,250 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2226103904144'>
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2226103904144'>
2025-06-17 18:22:39,254 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:22:39,258 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,258 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,258 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 18:22:39,258 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,259 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:22:39,264 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:22:39,295 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:39,295 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:39,314 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:39,333 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:39,344 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:22:39,349 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:12,997 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:12,997 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,016 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:13,016 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:13,018 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,018 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:13,018 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:13,025 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,030 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:25:13,030 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:25:13,033 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,036 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:13,036 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:13,036 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,036 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:13,036 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:13,046 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,050 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:25:13,050 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:25:13,311 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,314 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:13,314 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:13,314 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,325 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,331 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,336 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,353 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,356 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,365 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,374 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,381 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,389 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,391 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,399 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,407 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,413 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,416 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,425 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,431 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,630 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:13,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:13,635 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,635 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para a4ed9764-ebea-44eb-b5a5-04e9e51d7e7d, modo: paper
2025-06-17 18:25:13,819 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:13,819 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:13,819 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:13,819 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:14,004 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:14,004 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,004 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,004 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:14,196 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:14,196 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,196 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,196 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 18:25:14,385 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,385 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,385 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 596b1e91-b4bf-457a-8c5d-478cb2b771c0 en modo paper.
2025-06-17 18:25:14,385 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 596b1e91-b4bf-457a-8c5d-478cb2b771c0 en modo real.
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:14,385 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:14,394 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,394 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:14,394 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:14,578 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:14,579 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,581 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 7e6893ee-262b-4cf9-a381-f6949bc6cbb2, modo: paper
2025-06-17 18:25:14,581 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:14,581 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:14,581 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:14,581 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:14,763 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:14,765 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,765 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:14,765 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 3d342ffe-ae17-4a6a-82d3-b285f58c127b, modo: real
2025-06-17 18:25:14,765 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:14,771 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,786 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,800 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,813 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,825 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,838 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,850 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,865 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:14,967 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:15,078 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:15,264 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:15,447 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:15,637 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:15,830 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:15,912 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,064 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,145 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,302 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,311 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,317 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,332 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,336 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,350 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,362 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,443 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,451 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:16,454 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:17,240 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,240 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,242 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,242 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,242 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 18:25:17,243 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,243 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,244 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,245 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:17,246 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,246 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,248 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,248 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,250 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2241176314576'>
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2241176314576'>
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,255 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 18:25:17,262 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,263 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,264 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,264 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,265 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,265 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 18:25:17,265 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,266 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,266 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 18:25:17,267 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,267 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,267 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:17,268 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,268 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,269 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:17,269 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,269 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,269 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,269 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:17,270 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:17,270 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:17,270 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:17,270 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:17,298 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:17,301 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:17,318 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:17,333 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:17,351 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:17,353 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,697 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,697 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,719 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:40,719 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:40,724 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,729 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:40,729 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:40,729 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,734 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:25:40,734 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:25:40,734 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,744 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:40,744 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:40,747 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,747 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:40,747 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:25:40,754 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:40,756 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:25:40,756 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:25:41,015 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,030 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:41,030 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:25:41,030 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,035 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,035 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,047 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,047 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,055 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,063 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,071 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,077 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,085 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,085 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,096 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,105 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,111 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,115 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,115 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,129 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,135 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,135 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,146 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,146 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,347 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:41,347 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:41,347 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,355 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 60b97b03-f208-4e7c-8151-f673fbc44651, modo: paper
2025-06-17 18:25:41,546 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:41,546 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:41,546 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,550 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:41,740 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:41,740 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:41,740 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,740 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:41,930 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:41,930 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:41,930 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:41,930 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 18:25:42,129 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:42,129 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:42,130 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,131 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para c8b06c49-5ba5-426a-bd66-7ac1c739b73e en modo paper.
2025-06-17 18:25:42,131 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para c8b06c49-5ba5-426a-bd66-7ac1c739b73e en modo real.
2025-06-17 18:25:42,132 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:42,133 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:42,133 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:42,133 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:42,134 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:42,134 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:42,135 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:42,135 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:42,135 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:42,135 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:42,136 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:42,136 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:42,325 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:42,325 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,325 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 5044cc70-599e-49f7-a617-63cacbf8eb1f, modo: paper
2025-06-17 18:25:42,325 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:42,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:42,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:42,328 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:42,525 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:25:42,525 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,525 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:42,530 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 62834672-07a6-4e32-8529-45bfe30af5cf, modo: real
2025-06-17 18:25:42,530 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:25:42,535 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,552 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,567 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,580 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,590 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,605 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,617 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,635 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,734 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:42,855 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,054 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,246 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,632 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,705 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,865 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:43,947 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,105 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,119 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,130 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,139 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,147 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,155 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,170 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,237 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,245 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:44,252 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,035 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,044 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,044 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2846702522000'>
2025-06-17 18:25:45,046 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2846702522000'>
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,055 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 18:25:45,061 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,062 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,062 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:45,063 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,063 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:25:45,065 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:25:45,085 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:45,097 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:45,113 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:45,130 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:45,146 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:25:45,146 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,000 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,000 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,020 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:38:20,020 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:38:20,020 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,028 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:38:20,028 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:38:20,029 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,035 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:38:20,035 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 18:38:20,035 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,040 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:38:20,040 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:38:20,045 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,045 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:38:20,045 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 18:38:20,045 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,055 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:38:20,055 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 18:38:20,320 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,325 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:38:20,325 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 18:38:20,327 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,330 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,335 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,340 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,343 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,346 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,355 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,362 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,365 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,365 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,379 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,385 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,385 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,395 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,400 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,405 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,415 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,420 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,427 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,429 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,629 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:20,629 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:20,629 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,635 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 3da30e6a-be44-42db-8a44-dd386ca9475a, modo: paper
2025-06-17 18:38:20,815 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:20,815 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:20,815 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:20,820 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:38:20,995 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:20,995 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:20,995 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,005 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:38:21,185 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:21,185 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:21,185 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,185 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 18:38:21,365 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:21,375 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:21,375 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,378 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 8a9d8af6-a127-4043-b11e-fcea7b23568d en modo paper.
2025-06-17 18:38:21,378 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 8a9d8af6-a127-4043-b11e-fcea7b23568d en modo real.
2025-06-17 18:38:21,379 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:21,379 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:21,379 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:21,379 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:21,379 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:21,379 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:21,382 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:21,382 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:21,382 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:38:21,382 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:21,382 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:21,382 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:21,562 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:21,562 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,565 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 96f8093a-2438-4886-8630-471a77ab1970, modo: paper
2025-06-17 18:38:21,565 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 18:38:21,565 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:21,565 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:21,565 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:21,745 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 18:38:21,745 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,750 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:21,750 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 0ba20576-ddd2-445f-b8f0-cf4fc1c49b23, modo: real
2025-06-17 18:38:21,750 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 18:38:21,755 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,770 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,779 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,796 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,805 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,815 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,829 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,847 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:21,935 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:22,055 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:22,235 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:22,425 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:22,615 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:22,796 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:22,879 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,035 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,105 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,265 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,275 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,285 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,293 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,296 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,314 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,320 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,379 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,390 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,396 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,415 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,420 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,425 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,430 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,440 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,445 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,635 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,643 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,644 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:38:23,645 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,645 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,646 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,646 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,646 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='1573394757264'>
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='1573394757264'>
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,648 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 18:38:23,655 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,660 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,660 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:23,660 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,661 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,661 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:23,661 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,661 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,661 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,662 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:23,663 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 18:38:23,663 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 18:38:23,663 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 18:38:23,663 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 18:38:23,685 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,685 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,705 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,795 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,815 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 18:38:23,815 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,372 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,377 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,392 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:42:11,392 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:42:11,397 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,401 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:42:11,401 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:42:11,407 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,407 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 19:42:11,407 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 19:42:11,407 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,418 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:42:11,418 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:42:11,418 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,422 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:42:11,422 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:42:11,428 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,428 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 19:42:11,428 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 19:42:11,687 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,687 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:42:11,687 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:42:11,687 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,701 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,707 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,707 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,718 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,718 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,762 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,785 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,812 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,851 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,857 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,862 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,868 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,872 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,951 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,957 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,962 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,968 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,977 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,982 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:11,987 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:12,178 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:12,178 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,179 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:12,180 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para faa39998-eed5-4b65-a738-2c43157e909c, modo: paper
2025-06-17 19:42:12,357 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:12,357 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,357 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:12,362 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 19:42:12,547 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:12,547 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,547 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:12,551 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 19:42:12,734 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:12,734 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,734 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:12,737 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 19:42:12,922 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:12,922 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,922 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:12,922 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para b8317c74-f85c-4bb1-a8da-842f28d1a1d4 en modo paper.
2025-06-17 19:42:12,922 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para b8317c74-f85c-4bb1-a8da-842f28d1a1d4 en modo real.
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:12,927 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:13,112 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:13,112 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,112 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 4acec1c5-c4cd-4ece-955d-8e62c281dee2, modo: paper
2025-06-17 19:42:13,112 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 19:42:13,117 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:13,118 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:13,118 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:13,301 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:42:13,301 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,301 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:13,307 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 09c7dcfb-b0ee-495a-9b91-79b8d6b96e89, modo: real
2025-06-17 19:42:13,307 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 19:42:13,307 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,322 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,351 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,362 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,368 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,387 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,427 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,518 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,627 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:13,812 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,001 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,190 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,382 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,460 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,607 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,685 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,836 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,846 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,857 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,862 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,872 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,885 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,890 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,957 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,957 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,968 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,990 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,990 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:14,997 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,001 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,007 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,012 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,018 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,207 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,207 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,207 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,207 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,212 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,216 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,216 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,217 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,217 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:42:15,218 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,218 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,218 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,218 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,218 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,218 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2491889093648'>
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2491889093648'>
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,222 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,227 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 19:42:15,232 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,232 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,232 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,234 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:15,237 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:42:15,237 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:42:15,237 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:42:15,237 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:42:15,335 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,351 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,371 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,390 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:42:15,390 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,197 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,207 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,336 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:26,336 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:26,339 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,344 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:26,344 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:26,349 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,353 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 19:50:26,353 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 19:50:26,357 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,361 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:26,361 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:26,366 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,369 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:26,369 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:26,369 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,369 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 19:50:26,369 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 19:50:26,628 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,637 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:26,637 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:26,637 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,647 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,649 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,649 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,660 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,665 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,687 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,712 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,746 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,857 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,861 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,867 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,880 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,883 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,892 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,899 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,901 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,911 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,917 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,919 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:26,927 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:27,117 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:27,117 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,117 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:27,117 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para ca64f76e-2762-4338-968a-6252876f41a2, modo: paper
2025-06-17 19:50:27,307 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:27,307 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,307 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:27,310 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:27,499 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:27,499 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,500 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:27,502 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:27,687 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:27,687 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,687 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:27,687 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 19:50:27,878 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:27,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,878 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:27,878 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 3f0f577c-b86a-43a6-8614-e8c367ab6a15 en modo paper.
2025-06-17 19:50:27,878 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 3f0f577c-b86a-43a6-8614-e8c367ab6a15 en modo real.
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:27,887 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:28,077 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:28,077 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,077 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para ef2bef61-f79b-4949-9778-dbf0c21d27dd, modo: paper
2025-06-17 19:50:28,077 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:28,077 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:28,077 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:28,077 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:28,267 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:28,267 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,277 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:28,278 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para bd6e6649-c6e1-48c7-ab3f-f88c252c024e, modo: real
2025-06-17 19:50:28,278 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:28,278 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,299 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,313 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,327 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,347 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,366 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,414 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,567 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,611 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,797 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:28,987 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,177 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,369 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,447 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,597 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,752 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,837 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,850 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,857 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,867 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,879 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,887 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,900 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,964 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,970 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,977 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,997 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:29,997 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,007 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,014 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,017 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,017 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,031 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,307 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,307 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,310 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,310 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,311 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 19:50:30,312 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,312 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,313 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,313 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:50:30,314 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,314 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,315 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,315 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,316 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,317 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,318 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2404303708112'>
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2404303708112'>
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:50:30,322 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,327 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,327 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 19:50:30,327 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:30,328 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:30,337 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:30,337 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:30,337 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:30,365 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,369 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,385 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,401 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,417 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:30,417 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:56,917 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:56,917 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:56,998 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:56,998 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:57,007 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,012 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:57,012 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:57,013 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,017 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 19:50:57,017 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 200 OK"
2025-06-17 19:50:57,017 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,017 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:57,017 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:57,027 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,029 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:57,029 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 200 OK"
2025-06-17 19:50:57,029 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,037 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 19:50:57,037 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-17 19:50:57,298 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,298 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:57,298 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 200 OK"
2025-06-17 19:50:57,298 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,307 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,313 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,317 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,317 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,317 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,347 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,367 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,398 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,429 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,441 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,447 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,447 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,457 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,463 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,467 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,472 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,480 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,487 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,487 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,497 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,687 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:57,687 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:57,687 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,687 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 265f480f-30db-4e25-91de-3709b7406d91, modo: paper
2025-06-17 19:50:57,887 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:57,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:57,887 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:57,887 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:58,072 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:58,072 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,072 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,078 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:58,262 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:58,263 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,263 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,263 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-17 19:50:58,447 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:58,447 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,447 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,455 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 51881d6e-a649-4f7f-a64d-5c90183aed75 en modo paper.
2025-06-17 19:50:58,455 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para 51881d6e-a649-4f7f-a64d-5c90183aed75 en modo real.
2025-06-17 19:50:58,455 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,457 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:58,457 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:58,457 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:58,457 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,457 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:58,457 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:58,459 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:58,459 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:50:58,459 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,459 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:58,459 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:58,651 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:58,652 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,654 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 89f38307-b597-4bc2-ba81-44e112ef6ef3, modo: paper
2025-06-17 19:50:58,654 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:58,655 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:50:58,656 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:50:58,656 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:50:58,847 - ultibot_ui.services.api_client - DEBUG - API base URL set to: http://test-backend:8000
2025-06-17 19:50:58,847 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,847 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:50:58,847 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 30d5e87e-114c-48ac-a61c-70ce7d4bf715, modo: real
2025-06-17 19:50:58,847 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el s√≠mbolo BTCUSDT.
2025-06-17 19:50:58,861 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,873 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,887 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,897 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,912 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,922 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:58,937 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,062 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,148 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,187 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,377 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,567 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,759 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:50:59,957 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,111 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,194 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,497 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,507 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,517 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,528 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,537 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,547 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,557 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,619 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,628 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,632 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,651 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,662 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,666 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,667 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,678 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,683 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,688 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,867 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='1815303470224'>
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,878 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='1815303470224'>
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,887 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,893 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-17 19:51:00,893 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,894 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,894 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:51:00,895 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,895 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,895 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:51:00,895 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,895 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,895 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,897 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:51:00,897 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-17 19:51:00,897 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-17 19:51:00,897 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-17 19:51:00,897 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-17 19:51:00,922 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,922 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,941 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,947 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,967 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-17 19:51:00,967 - asyncio - DEBUG - Using selector: SelectSelector
