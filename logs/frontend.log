2025-06-27 22:25:13,755 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:25:13,761 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:25:13,764 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:25:14,385 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:25:14,386 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:25:32,570 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:25:32,572 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:25:32,595 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:25:32,598 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:25:44,411 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:25:44,413 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:25:44,423 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:25:44,425 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:25:45,115 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:25:45,117 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:26:15,144 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:26:15,146 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:26:15,153 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:26:15,155 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:26:15,809 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:26:15,810 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:26:19,500 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:26:19,501 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:26:19,525 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:26:19,527 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:26:45,835 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:26:45,837 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:26:45,842 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:26:45,845 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:26:46,409 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:26:46,411 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:16,473 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:27:16,475 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:27:16,487 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:27:16,489 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:27:17,114 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:27:17,115 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:47,147 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:27:47,150 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:27:47,159 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:27:47,161 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:27:47,804 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:27:47,806 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:55,721 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:27:55,722 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:27:55,745 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:27:55,747 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:28:10,069 - ultibot_backend - INFO - [MainThread] - main.py:100 - Apagando UltiBot Backend (lifespan)...
2025-06-27 22:28:10,072 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:205 - Shutting down dependency container...
2025-06-27 22:28:10,078 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:40 - Redis client closed.
2025-06-27 22:28:10,080 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:212 - Dependency container shut down.
2025-06-27 22:28:10,081 - ultibot_backend - INFO - [MainThread] - main.py:103 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:27,411 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,412 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:27,944 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:27,945 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:27,950 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:27,952 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:27,963 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,964 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:27,972 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,976 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:28,369 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:28,370 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:28,373 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:28,374 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:28,381 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,383 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:28,390 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,391 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:28,791 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:28,792 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:28,797 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:28,797 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:28,803 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,804 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:14:01,525 - ultibot_backend - INFO - [Thread-16 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:01,525 - ultibot_backend - INFO - [Thread-16 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:01,526 - ultibot_backend - CRITICAL - [Thread-16 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:01,773 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:01,773 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:01,774 - ultibot_backend - CRITICAL - [Thread-17 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:02,061 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:02,061 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:02,062 - ultibot_backend - CRITICAL - [Thread-18 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-28 11:17:28,628 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:17:28,628 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:17:29,259 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): CredentialService.__init__() got an unexpected keyword argument 'session_factory'
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
TypeError: CredentialService.__init__() got an unexpected keyword argument 'session_factory'
2025-06-28 11:20:12,607 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:20:12,607 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:20:13,017 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): 5 validation errors for AppSettings
SUPABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_ANON_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_SERVICE_ROLE_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
DATABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 28, in __init__
    app_settings = get_app_settings()
                   ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\app_config.py", line 52, in get_app_settings
    return AppSettings()  # type: ignore
           ^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic_settings\main.py", line 176, in __init__
    super().__init__(
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 5 validation errors for AppSettings
SUPABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_ANON_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_SERVICE_ROLE_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
DATABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-28 11:22:28,748 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:22:28,748 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:22:29,187 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): 1 validation error for AppSettings
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'SUPABASE_URL': 'http://...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 28, in __init__
    app_settings = get_app_settings()
                   ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\app_config.py", line 55, in get_app_settings
    return AppSettings(_env_file=env_file_to_use)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic_settings\main.py", line 176, in __init__
    super().__init__(
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AppSettings
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'SUPABASE_URL': 'http://...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-28 11:23:56,434 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:23:56,434 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:23:56,927 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Error al inicializar Fernet: Fernet key must be 32 url-safe base64-encoded bytes.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\cryptography\fernet.py", line 35, in __init__
    key = base64.urlsafe_b64decode(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\base64.py", line 134, in urlsafe_b64decode
    return b64decode(s)
           ^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\base64.py", line 88, in b64decode
    return binascii.a2b_base64(s, strict_mode=validate)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
binascii.Error: Incorrect padding

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 38, in __init__
    self.fernet = Fernet(encryption_key_str.encode('utf-8'))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\cryptography\fernet.py", line 37, in __init__
    raise ValueError(
ValueError: Fernet key must be 32 url-safe base64-encoded bytes.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 41, in __init__
    raise ValueError(f"Error al inicializar Fernet: {e}")
ValueError: Error al inicializar Fernet: Fernet key must be 32 url-safe base64-encoded bytes.
2025-06-28 11:26:47,289 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:26:47,289 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:26:47,739 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): TradingReportService.__init__() got an unexpected keyword argument 'session_factory'
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 140, in initialize_services
    self.trading_report_service = TradingReportService(session_factory=cast(async_sessionmaker[AsyncSession], _session_factory))
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradingReportService.__init__() got an unexpected keyword argument 'session_factory'
2025-06-28 11:28:26,180 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:28:26,180 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:28:26,671 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:28:26,671 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:31:26,421 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:31:26,454 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:31:39,451 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:31:39,451 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:31:39,910 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:31:39,910 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:35:53,236 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:35:53,236 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:35:53,928 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:35:53,928 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:37:15,172 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:37:15,172 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:37:15,753 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:37:15,753 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:38:06,718 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:38:06,718 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:38:07,317 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:38:07,317 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:38:07,586 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:38:07,586 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:39:20,833 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:39:20,833 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:41:31,398 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:41:31,398 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:41:32,000 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:41:32,001 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:41:32,222 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:41:32,222 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:41:33,320 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:41:33,321 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:43:11,869 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:43:11,869 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:43:49,381 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:43:49,381 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:43:49,993 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:43:49,996 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:43:50,172 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:43:50,173 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:43:51,220 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:43:51,220 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:47:48,103 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:47:48,103 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:49:19,088 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:49:19,088 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:49:19,759 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:49:19,759 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:49:19,795 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:49:19,795 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:49:20,850 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:49:20,850 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:50:09,027 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:50:09,030 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 14:06:51,032 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:51,039 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:51,039 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:51,665 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/04ed6064-09cd-4430-98ab-91c4d9f1da32
2025-06-28 14:06:51,682 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/04ed6064-09cd-4430-98ab-91c4d9f1da32 - Status: 404
2025-06-28 14:06:51,965 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:51,965 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:51,972 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:51,972 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:51,994 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:51,994 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:51,996 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:51,996 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:51,996 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:52,003 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:52,003 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:52,006 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:52,006 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:52,007 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:52,573 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/55290de8-c8a3-47d6-9b37-145fedba9580
2025-06-28 14:06:52,573 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/55290de8-c8a3-47d6-9b37-145fedba9580 - Status: 400
2025-06-28 14:06:52,595 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:52,595 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:52,601 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:52,601 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:52,612 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:52,612 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:52,612 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:52,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:52,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:52,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:52,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:52,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:52,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:52,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:52,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:52,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:52,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:53,233 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a1c395c9-f850-49f4-9109-e80eb686c03e
2025-06-28 14:06:53,244 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a1c395c9-f850-49f4-9109-e80eb686c03e - Status: 404
2025-06-28 14:06:53,273 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:53,274 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:53,274 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:53,274 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:53,298 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:53,298 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:53,298 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:53,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:53,310 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:53,310 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:53,311 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:53,879 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9e18d414-3fa5-4258-88fb-8bee30a1a5df
2025-06-28 14:06:53,890 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9e18d414-3fa5-4258-88fb-8bee30a1a5df - Status: 404
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:53,916 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,922 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:53,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:53,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:53,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:53,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:53,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:53,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:53,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:53,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:53,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:53,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:54,511 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/664cc67e-7a0c-48b4-a6b8-cfcf1b322d73
2025-06-28 14:06:54,522 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/664cc67e-7a0c-48b4-a6b8-cfcf1b322d73 - Status: 404
2025-06-28 14:06:54,528 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:54,529 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:54,531 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:54,532 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:54,556 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:54,557 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:54,557 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,557 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:55,130 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9e42926e-6031-4461-995a-ce346fcbb74b
2025-06-28 14:06:55,141 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9e42926e-6031-4461-995a-ce346fcbb74b - Status: 404
2025-06-28 14:06:55,146 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:55,146 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:55,152 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:55,152 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:55,172 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:55,173 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:55,173 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:55,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:55,869 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:06:55,873 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:06:55,877 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:55,877 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:55,881 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:55,881 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:55,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:56,473 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:06:56,482 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:06:56,482 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:56,482 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:56,488 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:56,489 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:56,510 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:56,510 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:56,511 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,511 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,511 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:56,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:56,522 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:56,522 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:56,523 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:57,092 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:06:57,092 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:06:57,101 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:57,105 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:26,334 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:26,334 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:26,334 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:26,937 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5bd30495-6a59-483e-97a1-25c70d483f08
2025-06-28 14:11:26,951 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/5bd30495-6a59-483e-97a1-25c70d483f08 - Status: 404
2025-06-28 14:11:27,231 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:27,231 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:27,243 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:27,243 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:27,264 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:27,264 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:27,277 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:27,277 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:27,278 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:27,851 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/0c469cdf-12fe-4350-88e6-dccdd898320b
2025-06-28 14:11:27,851 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/0c469cdf-12fe-4350-88e6-dccdd898320b - Status: 400
2025-06-28 14:11:27,851 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:27,859 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:27,861 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:27,861 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:27,883 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:27,884 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:27,885 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,886 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,887 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,888 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:27,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:27,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:27,893 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:27,893 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:27,894 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:27,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:27,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:27,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:27,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:27,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:27,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:27,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:27,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:27,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:27,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:27,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:27,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:27,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:27,902 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:27,902 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:27,903 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:28,461 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/8441d03f-4cb9-4180-ad80-b3656bc0532b
2025-06-28 14:11:28,471 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/8441d03f-4cb9-4180-ad80-b3656bc0532b - Status: 404
2025-06-28 14:11:28,500 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:28,501 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:28,501 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:28,501 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:28,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:28,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:28,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:28,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:28,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:28,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:28,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:28,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:28,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:28,538 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:28,538 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:28,538 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:29,101 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/7316ea7a-1cf1-44b7-b422-77ab10dbb1fa
2025-06-28 14:11:29,121 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/7316ea7a-1cf1-44b7-b422-77ab10dbb1fa - Status: 404
2025-06-28 14:11:29,128 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:29,128 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:29,131 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:29,131 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:29,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:29,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:29,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:29,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:29,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:29,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:29,165 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:29,165 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:29,165 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:29,721 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3aef1acb-fd20-44d4-8d39-e77a9e18f181
2025-06-28 14:11:29,731 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3aef1acb-fd20-44d4-8d39-e77a9e18f181 - Status: 404
2025-06-28 14:11:29,731 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:29,741 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:29,745 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:29,745 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:29,769 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:29,769 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:29,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:29,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:29,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:29,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:29,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:29,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:29,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:29,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:29,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:29,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:29,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:29,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:29,781 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:29,781 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:29,782 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:30,331 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/24ca8065-38fe-4727-826c-72f50951bdd9
2025-06-28 14:11:30,344 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/24ca8065-38fe-4727-826c-72f50951bdd9 - Status: 404
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:30,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:30,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:30,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:30,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:31,044 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:11:31,051 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:11:31,079 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:31,081 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:31,081 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:31,085 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:31,101 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:31,101 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:31,101 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:31,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:31,115 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:31,116 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:31,116 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:31,677 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:11:31,678 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:11:31,680 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:31,681 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:31,681 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:31,681 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:31,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:31,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:32,280 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:11:32,282 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:11:32,287 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:32,290 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:08,071 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:08,071 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:08,071 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:08,711 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/60c193fb-cf47-4c16-b6ed-ac2ce9093ca9
2025-06-28 14:12:08,731 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/60c193fb-cf47-4c16-b6ed-ac2ce9093ca9 - Status: 404
2025-06-28 14:12:09,031 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:09,034 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:09,036 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:09,036 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:09,059 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:09,062 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:09,062 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,062 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:09,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:09,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:09,073 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:09,073 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:09,073 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:09,641 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3f9fc588-d47f-4bc7-b654-d50c48a19c73
2025-06-28 14:12:09,641 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3f9fc588-d47f-4bc7-b654-d50c48a19c73 - Status: 400
2025-06-28 14:12:09,645 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:09,645 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:09,650 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:09,650 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:10,244 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e3874fe1-5a10-46c9-83e2-595cb2e4b84c
2025-06-28 14:12:10,251 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e3874fe1-5a10-46c9-83e2-595cb2e4b84c - Status: 404
2025-06-28 14:12:10,278 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:10,281 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:10,281 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:10,281 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:10,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:10,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:10,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:10,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:10,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:10,317 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:10,317 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:10,317 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:10,871 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/dcfe581f-72e1-4b30-b201-0928325f59b0
2025-06-28 14:12:10,878 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/dcfe581f-72e1-4b30-b201-0928325f59b0 - Status: 404
2025-06-28 14:12:10,881 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:10,881 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:10,891 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:10,891 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:10,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:10,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:10,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:10,924 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:10,925 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:10,925 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:11,491 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/1b6b709d-d29e-4846-ae92-b0c49233da77
2025-06-28 14:12:11,501 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/1b6b709d-d29e-4846-ae92-b0c49233da77 - Status: 404
2025-06-28 14:12:11,511 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:11,512 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:11,512 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:11,512 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:11,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:11,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:11,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:11,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:11,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:11,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:11,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:11,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:11,547 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:11,547 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:11,547 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:12,101 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/85a4fff1-e360-459a-9f84-f4210e398be7
2025-06-28 14:12:12,115 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/85a4fff1-e360-459a-9f84-f4210e398be7 - Status: 404
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:12,149 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:12,149 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:12,149 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:12,161 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:12,161 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:12,162 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:12,731 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:12:12,731 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:12:12,866 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:12,867 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:12,871 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:12,871 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:12,883 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:13,478 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:13,478 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:13,500 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:13,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:13,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:13,513 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:13,513 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:13,513 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:14,091 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:12:14,091 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:12:14,101 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:14,101 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:14:09,905 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:14:09,905 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:14:09,905 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:14:10,616 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3f5475ea-59f5-49c3-8aba-eec71a1000cf
2025-06-28 14:14:10,637 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3f5475ea-59f5-49c3-8aba-eec71a1000cf - Status: 404
2025-06-28 14:14:10,918 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:14:10,921 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:14:40,998 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:14:41,000 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:14:41,001 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:14:41,707 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/824fa1be-0fe3-4618-a2d6-076b3d8b99bf
2025-06-28 14:14:41,727 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/824fa1be-0fe3-4618-a2d6-076b3d8b99bf - Status: 404
2025-06-28 14:14:42,036 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:14:42,038 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:15:50,271 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:15:50,271 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:15:50,271 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:15:50,906 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5a358b34-3a6e-49c2-b69a-a6c4e3845d19
2025-06-28 14:15:50,923 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/5a358b34-3a6e-49c2-b69a-a6c4e3845d19 - Status: 404
2025-06-28 14:15:51,199 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:15:51,201 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:19:21,311 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:19:21,311 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:19:21,311 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:19:21,767 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/466e7d55-b8e2-4fe9-a4fd-52ebc679d04f
2025-06-28 14:19:21,770 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/466e7d55-b8e2-4fe9-a4fd-52ebc679d04f - Status: 403
2025-06-28 14:19:22,046 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:19:22,048 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:24,715 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:24,715 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:24,715 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:25,201 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a7f86d2f-0c64-4f19-9073-11334db4cb6e
2025-06-28 14:23:25,206 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a7f86d2f-0c64-4f19-9073-11334db4cb6e - Status: 200
2025-06-28 14:23:25,210 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:25,211 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:25,215 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:23:25,215 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:23:25,238 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:23:25,238 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:23:25,239 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,239 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,239 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,240 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:23:25,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:23:25,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,243 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:23:25,243 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:23:25,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:23:25,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:23:25,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:23:25,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:23:25,246 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,246 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,246 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:23:25,247 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:23:25,247 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:23:25,247 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:23:25,248 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:23:25,248 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:23:25,248 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:23:25,249 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:23:25,249 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:23:25,249 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:23:25,250 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:23:25,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:23:25,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:23:25,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:23:25,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:23:25,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:23:25,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:23:25,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:23:25,256 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:25,256 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:25,257 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:25,687 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a98b36ae-f7db-40ae-bd28-d5538102f755
2025-06-28 14:23:25,692 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a98b36ae-f7db-40ae-bd28-d5538102f755 - Status: 400
2025-06-28 14:23:25,694 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:25,695 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:25,697 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:23:25,698 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:23:25,721 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:23:25,722 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:23:25,722 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,723 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,723 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,724 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:23:25,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:23:25,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:23:25,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:23:25,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:23:25,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:23:25,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:23:25,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:23:25,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:23:25,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:23:25,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:23:25,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:23:25,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:23:25,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:23:25,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:23:25,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:23:25,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:23:25,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:23:25,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:23:25,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:23:25,737 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:25,738 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:25,738 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:26,150 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/28428391-f5e6-4bca-8c4f-cb4aa6b8ef8c
2025-06-28 14:23:26,156 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/28428391-f5e6-4bca-8c4f-cb4aa6b8ef8c - Status: 404
2025-06-28 14:23:26,160 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:26,161 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:26,164 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:23:26,164 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:23:26,186 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:23:26,186 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:23:26,186 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,187 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,188 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,188 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:23:26,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:23:26,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:23:26,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:23:26,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:23:26,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:23:26,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:23:26,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:23:26,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:23:26,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:23:26,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:23:26,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:23:26,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:23:26,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:23:26,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:23:26,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:23:26,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:23:26,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:23:26,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:23:26,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:23:26,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:23:26,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:23:26,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:23:26,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:23:26,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:23:26,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:23:26,202 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:26,202 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:26,203 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:26,635 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/97a813d6-40ed-4d67-952a-a3168e976219
2025-06-28 14:23:26,637 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/97a813d6-40ed-4d67-952a-a3168e976219: 'str' object has no attribute 'value'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 278, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\api\v1\endpoints\trading.py", line 59, in confirm_real_opportunity
    |     detail=f"Opportunity {opportunity_id} is not in 'pending_user_confirmation_real' status. Current status: {opportunity.status.value}"
    |                                                                                                               ^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'str' object has no attribute 'value'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\api\v1\endpoints\trading.py", line 59, in confirm_real_opportunity
    detail=f"Opportunity {opportunity_id} is not in 'pending_user_confirmation_real' status. Current status: {opportunity.status.value}"
                                                                                                              ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2025-06-28 14:23:27,190 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:27,190 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:04,246 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:04,246 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:04,246 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:04,721 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/94c3b6d0-9496-41e2-a3d4-81ff6af51d6f
2025-06-28 14:24:04,723 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/94c3b6d0-9496-41e2-a3d4-81ff6af51d6f - Status: 200
2025-06-28 14:24:04,726 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:04,727 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:04,729 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:04,730 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:04,751 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:04,751 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:04,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:04,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:04,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:04,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:04,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:04,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:04,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:04,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:04,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:04,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:04,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:04,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:04,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:04,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:04,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:04,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:04,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:04,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:04,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:04,769 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:04,769 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:04,769 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:05,180 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/8a0a93ea-396b-4d8f-bba0-e93b9f18d41a
2025-06-28 14:24:05,184 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/8a0a93ea-396b-4d8f-bba0-e93b9f18d41a - Status: 400
2025-06-28 14:24:05,185 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:05,186 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:05,189 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:05,189 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:05,212 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:05,213 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:05,213 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,214 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,214 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,214 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:05,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:05,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:05,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:05,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:05,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:05,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:05,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:05,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:05,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:05,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:05,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:05,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:05,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:05,229 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:05,229 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:05,231 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:05,625 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/55ff7b55-eb58-41ee-a1fc-3f1e9a331584
2025-06-28 14:24:05,630 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/55ff7b55-eb58-41ee-a1fc-3f1e9a331584 - Status: 404
2025-06-28 14:24:05,632 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:05,633 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:05,636 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:05,636 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:05,659 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:05,660 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:05,660 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,660 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,661 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,661 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:05,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:05,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:05,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:05,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:05,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:05,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:05,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:05,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:05,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:05,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:05,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:05,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:05,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:05,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:05,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:05,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:05,675 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:05,676 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:05,676 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:06,075 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5f0d7ac1-475a-45d3-b1dd-7c4695c13b05
2025-06-28 14:24:06,080 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/5f0d7ac1-475a-45d3-b1dd-7c4695c13b05: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-06-28 14:24:06,591 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:06,591 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:37,012 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:37,012 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:37,012 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:37,445 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/0554bb21-8279-45af-9167-48b5ea639b5d
2025-06-28 14:24:37,447 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/0554bb21-8279-45af-9167-48b5ea639b5d - Status: 200
2025-06-28 14:24:37,448 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:37,451 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:37,453 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:37,454 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:37,470 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:37,470 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:37,470 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,474 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,474 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,475 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:37,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:37,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:37,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:37,880 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/2ab35bed-d6dd-4b80-9384-55239c442336
2025-06-28 14:24:37,882 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/2ab35bed-d6dd-4b80-9384-55239c442336 - Status: 400
2025-06-28 14:24:37,884 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:37,885 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:37,888 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:37,888 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:37,915 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:37,916 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:37,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,918 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,919 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:37,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:37,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:37,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:37,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:37,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:37,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:37,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:37,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:37,936 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:37,936 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:37,940 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:37,941 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:37,942 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:38,330 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/28782f46-8fdc-419d-966c-76c2a71b394e
2025-06-28 14:24:38,332 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/28782f46-8fdc-419d-966c-76c2a71b394e - Status: 404
2025-06-28 14:24:38,334 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:38,335 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:38,338 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:38,338 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:38,361 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:38,361 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:38,362 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,362 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,362 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:38,364 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:38,364 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:38,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:38,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:38,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:38,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:38,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:38,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:38,371 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:38,371 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:38,371 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:38,372 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:38,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:38,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:38,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:38,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:38,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:38,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:38,378 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:38,378 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:38,378 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:38,808 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3847e6d1-8a2d-4637-93d7-09fdc3139942
2025-06-28 14:24:38,815 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/3847e6d1-8a2d-4637-93d7-09fdc3139942: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-06-28 14:24:39,380 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:39,380 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:33:30,520 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:33:30,520 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:33:30,520 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:33:31,230 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/83cfad63-1d37-4f5d-be06-a26f7f9aff0f
2025-06-28 14:33:31,260 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/83cfad63-1d37-4f5d-be06-a26f7f9aff0f - Status: 404
2025-06-28 14:33:31,552 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:33:31,552 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:34:38,190 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:34:38,190 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:34:38,191 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:34:38,887 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/76a9cf68-c255-4ba8-8bf1-81a36782b805
2025-06-28 14:34:38,906 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/76a9cf68-c255-4ba8-8bf1-81a36782b805 - Status: 404
2025-06-28 14:34:39,234 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:34:39,237 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,409 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,410 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,410 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,427 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9e0e7a4f-a6d0-482b-ba8c-a743056abebe
2025-06-28 14:37:31,430 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9e0e7a4f-a6d0-482b-ba8c-a743056abebe - Status: 200
2025-06-28 14:37:31,431 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:31,433 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,438 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:37:31,440 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:37:31,459 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:37:31,459 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:37:31,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:37:31,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:37:31,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:37:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:37:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:37:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:37:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:37:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:37:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:37:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:37:31,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:37:31,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:37:31,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:37:31,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:37:31,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:37:31,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:37:31,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:37:31,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:37:31,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:37:31,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:37:31,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:37:31,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:37:31,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:37:31,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:37:31,477 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,477 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,477 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,479 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/fe9a86ad-ebef-4933-87f7-ccea3430dd08
2025-06-28 14:37:31,480 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/fe9a86ad-ebef-4933-87f7-ccea3430dd08 - Status: 400
2025-06-28 14:37:31,482 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:31,482 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,489 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:37:31,489 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:37:31,511 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:37:31,513 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:37:31,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:37:31,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:37:31,527 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,527 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,529 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,530 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e748b835-0f4b-4149-974a-834fdb2dcf17
2025-06-28 14:37:31,531 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e748b835-0f4b-4149-974a-834fdb2dcf17 - Status: 404
2025-06-28 14:37:31,533 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:31,534 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,540 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:37:31,541 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:37:31,560 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:37:31,562 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:37:31,562 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:37:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:37:31,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:37:31,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:37:31,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:37:31,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:37:31,576 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,578 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,578 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,580 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/83f9a55d-d815-419a-ad03-76721ea3cab8
2025-06-28 14:37:31,585 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/83f9a55d-d815-419a-ad03-76721ea3cab8: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-06-28 14:37:32,214 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:32,215 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,037 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,037 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,037 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,052 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/d7bfdb67-5771-446b-ae97-037454831a6c
2025-06-28 14:38:41,057 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/d7bfdb67-5771-446b-ae97-037454831a6c - Status: 200
2025-06-28 14:38:41,058 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,060 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,064 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:38:41,066 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:38:41,083 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:38:41,085 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:38:41,085 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:38:41,087 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:38:41,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:38:41,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:38:41,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:38:41,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:38:41,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:38:41,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:38:41,096 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:38:41,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:38:41,099 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,099 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,100 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,100 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/7f2ce056-e16b-40c8-8ebd-370a3185b49d
2025-06-28 14:38:41,103 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/7f2ce056-e16b-40c8-8ebd-370a3185b49d - Status: 400
2025-06-28 14:38:41,104 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,105 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,111 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:38:41,111 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:38:41,131 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:38:41,131 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:38:41,132 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,132 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,132 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,137 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:38:41,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:38:41,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:38:41,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:38:41,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:38:41,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:38:41,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:38:41,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:38:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:38:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:38:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:38:41,147 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,147 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,148 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,150 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/b550c148-10d0-4f64-ab7f-82a0613fd765
2025-06-28 14:38:41,151 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/b550c148-10d0-4f64-ab7f-82a0613fd765 - Status: 404
2025-06-28 14:38:41,152 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,153 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,159 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:38:41,159 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:38:41,181 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:38:41,181 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:38:41,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:38:41,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:38:41,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:38:41,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:38:41,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:38:41,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:38:41,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:38:41,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:38:41,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:38:41,194 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,194 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,194 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,197 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e980a691-175b-4f80-8d69-d6f9e37c7f40
2025-06-28 14:38:41,199 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e980a691-175b-4f80-8d69-d6f9e37c7f40 - Status: 400
2025-06-28 14:38:41,477 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,480 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,764 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,765 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,765 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,780 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a1a76405-ffef-4f97-a518-b64bdefddb6b
2025-06-28 14:40:05,784 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a1a76405-ffef-4f97-a518-b64bdefddb6b - Status: 200
2025-06-28 14:40:05,785 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,787 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,793 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,793 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,814 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,814 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,814 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,824 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,824 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,825 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,826 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,826 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,826 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,830 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,830 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,830 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,831 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/36811e9e-2a87-42e6-9771-273c8db63adf
2025-06-28 14:40:05,833 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/36811e9e-2a87-42e6-9771-273c8db63adf - Status: 400
2025-06-28 14:40:05,834 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,836 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,844 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,844 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,864 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,865 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,873 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,873 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,875 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,880 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,880 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,880 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,881 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,881 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,881 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,882 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/677bc3fd-58fc-4dbe-84fe-2d15b4b06dec
2025-06-28 14:40:05,884 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/677bc3fd-58fc-4dbe-84fe-2d15b4b06dec - Status: 404
2025-06-28 14:40:05,886 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,887 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,894 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,894 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,916 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,917 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,919 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,919 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,933 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,933 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,933 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,935 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/712c3a74-36c4-403a-a5a4-5ab9bbd0bd66
2025-06-28 14:40:05,936 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/712c3a74-36c4-403a-a5a4-5ab9bbd0bd66 - Status: 400
2025-06-28 14:40:05,938 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,940 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,945 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,947 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,983 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,983 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,983 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,985 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5905baf1-fcf3-4dc2-aafe-734ca620a5eb
2025-06-28 14:40:05,987 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/5905baf1-fcf3-4dc2-aafe-734ca620a5eb - Status: 400
2025-06-28 14:40:05,990 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,990 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,996 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,997 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,019 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,019 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,019 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,021 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,035 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,035 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,035 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,037 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/b02242df-aa8c-48ce-a644-d2eb671de2d1
2025-06-28 14:40:06,039 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/b02242df-aa8c-48ce-a644-d2eb671de2d1 - Status: 403
2025-06-28 14:40:06,040 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,041 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:06,047 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:06,048 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,067 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,067 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,069 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,069 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,070 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,070 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,072 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,086 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,086 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,086 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,088 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:06,091 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:40:06,092 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,094 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:06,113 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:06,113 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,149 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,150 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,150 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,151 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:06,152 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:40:06,153 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,153 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:06,161 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:06,161 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,183 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,183 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,183 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,185 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,185 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,185 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,204 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,204 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,206 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,209 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:06,210 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:40:06,213 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,213 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,422 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,422 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,422 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,440 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e7486328-34cc-4719-8339-7d041fc78158
2025-06-28 14:40:55,444 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e7486328-34cc-4719-8339-7d041fc78158 - Status: 200
2025-06-28 14:40:55,445 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,446 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,452 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,452 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,477 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,489 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,490 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,490 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,492 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/c5daf84c-96b8-4698-a3fd-360e1a1c6bb3
2025-06-28 14:40:55,494 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/c5daf84c-96b8-4698-a3fd-360e1a1c6bb3 - Status: 400
2025-06-28 14:40:55,495 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,497 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,502 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,502 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,523 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,523 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,537 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,537 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,537 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,540 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/df3844a9-e7c7-4105-90eb-933331f00bfb
2025-06-28 14:40:55,541 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/df3844a9-e7c7-4105-90eb-933331f00bfb - Status: 404
2025-06-28 14:40:55,543 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,544 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,549 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,550 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,569 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,570 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,571 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,571 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,585 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,585 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,586 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,588 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/4aaae9ac-387c-4950-9ada-345a48cecb4a
2025-06-28 14:40:55,589 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/4aaae9ac-387c-4950-9ada-345a48cecb4a - Status: 400
2025-06-28 14:40:55,591 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,592 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,598 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,598 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,615 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,617 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,630 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,630 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,632 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,633 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/c109fc1d-b047-4ff1-860f-e8fae8ba2b70
2025-06-28 14:40:55,635 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/c109fc1d-b047-4ff1-860f-e8fae8ba2b70 - Status: 400
2025-06-28 14:40:55,637 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,638 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,644 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,644 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,663 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,663 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,677 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,677 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,679 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,680 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9789b5e0-d467-45f4-adae-0b961ee24d76
2025-06-28 14:40:55,682 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9789b5e0-d467-45f4-adae-0b961ee24d76 - Status: 403
2025-06-28 14:40:55,683 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,683 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,690 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,690 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,709 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,710 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,710 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,723 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,723 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,723 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,725 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:55,727 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:40:55,729 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,730 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,736 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,736 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,758 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,759 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,759 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,759 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,760 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,772 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,774 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,774 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,775 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:55,777 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:40:55,778 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,779 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,784 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,784 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,803 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,805 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,805 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,805 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,809 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,809 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,809 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,820 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,820 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,820 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,824 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:55,825 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:40:55,827 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,828 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,256 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,256 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,256 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,270 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /test-config
2025-06-28 14:52:33,271 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /test-config - Status: 200
2025-06-28 14:52:33,273 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /test-config
2025-06-28 14:52:33,275 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /test-config - Status: 200
2025-06-28 14:52:33,277 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,278 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,283 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,283 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,304 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,306 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,306 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,306 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,307 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,307 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,318 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,319 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,319 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,322 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,324 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,329 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,330 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,351 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,351 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,351 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,353 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,353 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,353 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,356 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,356 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,356 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,356 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,356 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,356 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,357 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,357 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,357 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,358 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,358 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,359 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,359 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,359 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,359 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,359 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,359 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,363 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,363 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,365 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,366 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,369 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,376 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,377 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,399 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,399 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,399 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,410 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,410 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,410 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,411 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,411 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,411 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,413 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,414 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,420 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,421 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,441 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,452 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,452 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,452 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,452 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,454 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,455 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-28 14:52:33,458 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-28 14:52:33,460 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,461 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,466 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,466 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,485 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,487 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,487 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,487 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,488 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,488 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,497 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,497 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,499 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,499 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,499 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,500 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/BTCUSDT
2025-06-28 14:52:33,502 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/ticker/24hr/BTCUSDT - Status: 200
2025-06-28 14:52:33,505 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,506 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,512 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,512 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,534 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,535 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,535 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,535 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,535 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,535 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,546 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,546 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,546 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,550 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:52:33,551 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 200
2025-06-28 14:52:33,553 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,555 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,560 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,561 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,580 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,580 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,580 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,592 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,592 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,592 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,594 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-28 14:52:33,596 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 500
2025-06-28 14:52:33,597 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,599 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,605 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,605 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,626 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,638 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,638 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,639 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,640 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/INVALID_SYMBOL
2025-06-28 14:52:33,641 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/market/ticker/24hr/INVALID_SYMBOL: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='2470432037136'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='2470432037136'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='2470432037136'>}

2025-06-28 14:52:33,883 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,885 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,890 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,890 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,914 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,914 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,915 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,915 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,916 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,916 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,916 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,916 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,927 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,927 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,927 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,930 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/BTCUSDT
2025-06-28 14:52:33,931 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/ticker/24hr/BTCUSDT - Status: 500
2025-06-28 14:52:33,933 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,934 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,940 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,941 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:33,962 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:33,962 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:33,962 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,962 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,963 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,963 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:33,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:33,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:33,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:33,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:33,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:33,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:33,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:33,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:33,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:33,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:33,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:33,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:33,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:33,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:33,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:33,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:33,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:33,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:33,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:33,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:33,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:33,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:33,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:33,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:33,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:33,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:33,971 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:33,971 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:33,971 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:33,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:33,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:33,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:33,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:33,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:33,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:33,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:33,975 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:33,975 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:33,976 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:33,977 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:52:33,980 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 200
2025-06-28 14:52:33,984 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:33,986 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:33,993 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:33,993 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,018 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,018 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,032 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,032 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,032 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,033 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:52:34,037 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 500
2025-06-28 14:52:34,040 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:34,041 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:34,053 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:34,054 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,075 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,087 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,087 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,088 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,090 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:34,092 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:34,099 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:34,099 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,119 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,120 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,120 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,120 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,121 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,121 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,131 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,131 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,131 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,134 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:34,135 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:34,141 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:34,141 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,160 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,162 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,162 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,162 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,162 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,162 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,169 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,169 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,169 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,169 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,171 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,172 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,174 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,174 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,174 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,176 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:34,178 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:34,183 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:34,183 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,205 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,205 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,205 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,205 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,205 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,205 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,216 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,216 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,216 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,218 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:52:34,219 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:52:34,489 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:34,491 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:34,497 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:34,497 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,518 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,518 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,518 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,518 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,519 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,519 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,530 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,531 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,531 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,532 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:52:34,534 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:52:34,781 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:34,783 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:34,790 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:34,790 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:34,810 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:34,810 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:34,811 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,811 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,811 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,811 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:34,811 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:34,811 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:34,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:34,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:34,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:34,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:34,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:34,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:34,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:34,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:34,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:34,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:34,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:34,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:34,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:34,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:34,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:34,821 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:34,821 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:34,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:34,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:34,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:34,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:34,822 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:34,824 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:34,824 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:34,825 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:52:34,826 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:52:35,078 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:35,079 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:35,085 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:35,085 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:35,107 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:35,107 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:35,107 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,107 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,107 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,109 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:35,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:35,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:35,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:35,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:35,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:35,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:35,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:35,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:35,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:35,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:35,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:35,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:35,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:35,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:35,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:35,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:35,119 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:35,119 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:35,119 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:35,121 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:52:35,123 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:52:35,379 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:35,381 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:35,385 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:35,387 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:35,408 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:35,408 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:35,408 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,408 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:35,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:35,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:35,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:35,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:35,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:35,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:35,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:35,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:35,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:35,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:35,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:35,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:35,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:35,419 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:35,419 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:35,419 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:35,420 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:52:35,422 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:52:35,669 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:35,672 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:35,678 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:35,679 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:35,699 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:35,701 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:35,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:35,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:35,704 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:35,704 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:35,704 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:35,704 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:35,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:35,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:35,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:35,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:35,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:35,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:35,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:35,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:35,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:35,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:35,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:35,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:35,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:35,709 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:35,709 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:35,709 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:35,709 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:35,709 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:35,709 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:35,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:35,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:35,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:35,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:35,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:35,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:35,712 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:35,712 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:35,712 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:35,715 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:52:35,719 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 200
2025-06-28 14:52:35,722 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:35,724 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:35,729 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:35,729 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:35,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:35,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:35,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:35,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:35,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:35,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:35,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:35,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:35,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:35,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:35,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:35,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:35,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:35,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:35,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:35,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:35,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:35,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:35,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:35,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:35,759 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:35,759 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:35,761 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:35,761 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:52:35,764 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/portfolio/summary: Mock object has no attribute 'portfolio_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    |     assert container.portfolio_service is not None, "PortfolioService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'portfolio_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    assert container.portfolio_service is not None, "PortfolioService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'portfolio_service'
2025-06-28 14:52:36,011 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,013 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,019 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,019 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,141 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,141 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,141 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,143 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,143 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,143 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,154 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,154 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,155 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,157 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:52:36,160 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 500
2025-06-28 14:52:36,161 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,163 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,167 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,168 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,188 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,189 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,189 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,189 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,190 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,190 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,199 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,199 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,199 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,202 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,204 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,212 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,212 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,233 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,233 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,233 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,233 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,236 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,238 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,246 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,246 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,246 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,247 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-28 14:52:36,247 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001: Mock object has no attribute 'portfolio_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    |     assert container.portfolio_service is not None, "PortfolioService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'portfolio_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    assert container.portfolio_service is not None, "PortfolioService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'portfolio_service'
2025-06-28 14:52:36,540 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,542 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,548 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,548 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,569 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,571 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,582 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,582 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,582 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,585 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-28 14:52:36,588 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 500
2025-06-28 14:52:36,590 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,591 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,596 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,596 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,619 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,619 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,620 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,632 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,632 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,632 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,635 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,637 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,642 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,642 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,663 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,663 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,664 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,664 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,664 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,664 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,674 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,674 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,676 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,677 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,679 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,683 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,683 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,708 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,708 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,708 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,709 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,709 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,709 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,719 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,719 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,719 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,722 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,723 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,729 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,730 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,750 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,751 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,751 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,751 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,751 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,751 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,751 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,762 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,763 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,763 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,765 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,767 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,773 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,773 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,794 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,800 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,801 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,801 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,801 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,801 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,801 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,801 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,804 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,805 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,805 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,805 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,805 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,806 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,806 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,807 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,809 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,810 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,815 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,815 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,835 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,836 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,836 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,836 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,837 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,837 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,844 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,846 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,846 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,846 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,846 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,848 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,848 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,848 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,849 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,851 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,860 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,860 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,882 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,882 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,882 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,882 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,882 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,882 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,894 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,894 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,894 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,895 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,897 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,902 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,903 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,922 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,924 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,924 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,924 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,924 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,924 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,933 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,933 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,934 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,934 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,934 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,938 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,939 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,945 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,945 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:36,967 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:36,968 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:36,968 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:36,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:36,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:36,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:36,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:36,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:36,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:36,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:36,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:36,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:36,973 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:36,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:36,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:36,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:36,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:36,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:36,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:36,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:36,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:36,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:36,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:36,979 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:36,980 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:36,980 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:36,982 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:36,983 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:36,989 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:36,991 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,011 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,011 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,011 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,011 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,012 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,012 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,024 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,024 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,024 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,025 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,027 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,033 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,033 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,057 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,057 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,057 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,057 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,059 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,059 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,069 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,069 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,069 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,073 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,074 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,080 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,080 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,099 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,104 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,113 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,113 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,113 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,116 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,116 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,122 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,124 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,145 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,145 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,145 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,147 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,147 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,147 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,158 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,158 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,159 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,160 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,161 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,167 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,167 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,188 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,189 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,189 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,189 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,189 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,190 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,199 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,200 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,200 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,202 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,203 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,209 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,210 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,229 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,231 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,231 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,231 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,231 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,231 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,234 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,235 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,238 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,238 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,238 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,243 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,243 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,243 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,244 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,248 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,254 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,254 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,286 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,286 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,288 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,288 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,289 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,289 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,289 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,291 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,291 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,291 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,291 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,291 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,291 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,292 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,294 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,294 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,294 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,294 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,294 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,294 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,295 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,300 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,302 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,302 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,306 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,308 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,314 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,315 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,336 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,336 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,336 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,337 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,337 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,338 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,339 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,341 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,341 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,341 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,341 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,341 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,341 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,342 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,347 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,347 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,347 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,349 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,349 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,349 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,350 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,352 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,360 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,362 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,383 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,383 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,385 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,385 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,385 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,385 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,385 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,385 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,389 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,395 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,396 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,396 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,399 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,400 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,406 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,406 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,426 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,426 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,426 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,427 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,427 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,427 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,427 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,432 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,432 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,433 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,435 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,435 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,435 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,435 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,435 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,435 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,439 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,439 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,439 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,441 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,442 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,447 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,448 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,471 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,471 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,473 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,482 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,482 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,483 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,485 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,486 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,492 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,494 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,514 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,522 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,522 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,526 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,526 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,526 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,528 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,530 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,535 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,535 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,558 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,558 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,558 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,558 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,559 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,559 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,559 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,559 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,559 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,559 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,562 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,562 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,562 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,569 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,569 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,569 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,573 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,574 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,579 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,579 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,601 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,601 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,601 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,601 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,601 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,601 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,604 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,613 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,613 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,613 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,616 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,616 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,624 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,624 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,647 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,647 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,647 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,647 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,649 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,649 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,653 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,653 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,660 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,660 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,660 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,663 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,665 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,671 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,672 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,693 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,693 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,693 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,693 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,694 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,698 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,698 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,702 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,705 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,705 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,705 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,708 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/2c84dd13-42a3-4ca6-b914-e3995f758942
2025-06-28 14:52:37,710 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/2c84dd13-42a3-4ca6-b914-e3995f758942 - Status: 200
2025-06-28 14:52:37,711 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,712 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,719 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,719 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,742 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,742 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,752 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,755 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,755 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,756 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,757 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/4a85db28-ce3b-4532-8249-6f3a27c5c57e
2025-06-28 14:52:37,759 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/4a85db28-ce3b-4532-8249-6f3a27c5c57e - Status: 400
2025-06-28 14:52:37,761 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,761 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,768 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,768 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,789 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,789 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,797 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,799 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,800 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,800 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,800 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,803 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/cdd7f961-b1f3-458f-917b-4cde19265b38
2025-06-28 14:52:37,805 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/cdd7f961-b1f3-458f-917b-4cde19265b38 - Status: 404
2025-06-28 14:52:37,807 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,809 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,815 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,815 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,836 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,836 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,836 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,836 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,838 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,838 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,842 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,843 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,845 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,845 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,845 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,845 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,845 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,845 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,847 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,848 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,849 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,850 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,850 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,850 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,851 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3f22f718-e4dd-45bd-a766-915d55d62be3
2025-06-28 14:52:37,854 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3f22f718-e4dd-45bd-a766-915d55d62be3 - Status: 400
2025-06-28 14:52:37,856 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,857 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,862 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,862 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,882 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,882 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,882 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,883 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,883 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,883 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,894 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,894 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,895 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,895 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,895 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,897 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/498f9f15-5393-4585-93c4-99e10c6de677
2025-06-28 14:52:37,899 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/498f9f15-5393-4585-93c4-99e10c6de677 - Status: 400
2025-06-28 14:52:37,900 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,901 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,907 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,908 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,931 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,931 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,939 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,942 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,942 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,942 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,942 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,944 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,944 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,944 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,947 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/8b1b1ccd-6296-42ca-bc64-ccd5868a9d26
2025-06-28 14:52:37,948 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/8b1b1ccd-6296-42ca-bc64-ccd5868a9d26 - Status: 403
2025-06-28 14:52:37,950 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,951 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:37,957 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:37,957 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:37,978 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:37,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:37,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:37,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:37,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:37,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:37,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:37,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:37,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:37,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:37,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:37,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:37,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:37,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:37,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:37,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:37,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:37,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:37,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:37,987 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:37,987 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:37,987 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:37,987 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:37,987 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:37,988 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:37,988 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:37,989 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:37,989 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:37,989 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:37,991 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:37,991 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:37,991 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:37,993 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:52:37,995 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:52:37,996 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:37,997 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:38,006 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:38,006 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:38,028 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:38,028 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:38,028 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,028 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,030 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,030 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:38,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:38,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:38,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:38,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:38,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:38,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:38,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:38,035 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:38,035 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:38,035 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:38,035 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:38,035 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:38,035 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:38,036 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:38,038 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:38,038 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:38,038 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:38,039 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:38,039 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:38,039 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:38,039 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:38,040 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:38,040 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:38,042 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:38,042 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:38,044 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:52:38,045 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:52:38,046 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:38,047 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:38,053 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:38,054 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:38,075 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:38,075 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:38,075 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,075 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,075 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,076 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:38,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:38,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:38,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:38,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:38,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:38,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:38,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:38,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:38,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:38,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:38,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:38,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:38,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:38,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:38,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:38,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:38,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:38,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:38,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:38,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:38,084 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:38,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:38,087 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:38,087 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:38,087 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:38,089 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:52:38,091 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:52:38,092 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:38,094 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:38,099 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:38,100 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:38,125 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:38,125 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:38,125 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,125 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,125 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:38,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:38,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:38,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:38,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:38,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:38,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:38,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:38,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:38,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:38,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:38,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:38,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:38,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:38,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:38,136 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:38,136 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:38,136 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:38,138 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:52:38,161 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470447122960'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470447054544'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470438886224'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470442191824'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470435359888'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470441983120'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470441989072'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470441989392'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470441747792'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470435844496'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470441463312'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470441461264'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470441751120'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470441462096'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470441598160'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470447122960'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470447054544'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470438886224'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470442191824'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470435359888'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470441983120'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470441989072'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470441989392'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470441747792'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470435844496'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470441463312'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470441461264'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470441751120'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470441462096'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470441598160'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470447122960'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470447054544'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470438886224'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470442191824'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470435359888'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470441983120'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470441989072'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470441989392'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470441747792'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470435844496'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470441463312'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470441461264'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470441751120'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470441462096'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470441598160'>}

2025-06-28 14:52:38,428 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:38,429 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:38,435 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:38,435 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:38,456 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:38,457 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:38,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:38,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:38,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:38,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:38,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:38,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:38,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:38,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:38,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:38,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:38,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:38,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:38,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:38,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:38,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:38,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:38,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:38,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:38,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:38,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:38,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:38,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:38,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:38,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:38,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:38,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:38,469 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:38,469 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:38,469 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:38,471 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:52:38,495 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470428838160'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470428838736'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470437460368'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470428835984'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470399340496'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470397419344'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470400731024'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470400724304'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470437680656'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470437462672'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470396735440'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470397809424'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470399732944'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470422268240'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470436930320'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470428838160'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470428838736'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470437460368'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470428835984'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470399340496'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470397419344'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470400731024'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470400724304'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470437680656'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470437462672'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470396735440'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470397809424'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470399732944'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470422268240'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470436930320'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470428838160'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470428838736'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470437460368'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470428835984'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470399340496'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470397419344'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470400731024'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470400724304'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470437680656'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470437462672'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470396735440'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470397809424'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470399732944'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470422268240'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470436930320'>}

2025-06-28 14:52:38,744 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:38,745 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:38,751 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:38,752 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:38,775 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:38,775 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:38,775 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,776 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,776 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,776 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:38,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:38,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:38,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:38,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:38,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:38,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:38,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:38,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:38,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:38,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:38,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:38,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:38,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:38,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:38,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:38,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:38,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:38,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:38,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:38,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:38,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:38,782 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:38,782 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:38,782 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:38,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:38,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:38,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:38,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:38,784 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:38,784 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:38,784 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:38,784 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:38,785 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:38,785 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:38,785 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:38,785 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:38,787 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:38,787 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:38,787 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:38,789 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:52:38,809 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470428745552'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470437464720'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470428744720'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470435161232'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470437227152'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470436236048'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470400187536'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470398513936'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470428901584'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470436160976'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470435205776'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470435235984'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470401325072'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470428748560'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470435187344'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470428745552'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470437464720'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470428744720'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470435161232'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470437227152'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470436236048'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470400187536'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470398513936'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470428901584'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470436160976'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470435205776'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470435235984'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470401325072'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470428748560'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470435187344'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470428745552'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470437464720'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470428744720'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470435161232'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470437227152'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470436236048'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470400187536'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470398513936'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470428901584'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470436160976'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470435205776'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470435235984'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470401325072'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470428748560'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470435187344'>}

2025-06-28 14:52:39,076 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:39,078 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:39,084 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:39,084 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:39,105 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:39,105 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:39,106 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,106 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,106 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,106 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,106 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:39,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:39,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:39,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:39,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:39,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:39,109 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:39,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:39,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:39,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:39,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:39,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:39,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:39,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:39,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:39,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:39,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:39,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:39,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:39,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:39,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:39,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:39,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:39,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:39,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:39,117 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:39,117 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:39,117 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:39,118 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:52:39,139 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470441043664'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470441052624'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470437611024'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470436562064'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470435553232'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470437743504'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470397871184'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470400266640'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470396723664'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470437732560'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470438084240'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470398522192'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470437482320'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470441693136'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470436941776'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470441043664'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470441052624'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470437611024'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470436562064'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470435553232'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470437743504'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470397871184'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470400266640'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470396723664'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470437732560'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470438084240'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470398522192'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470437482320'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470441693136'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470436941776'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2470441043664'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2470441052624'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2470437611024'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2470436562064'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2470435553232'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2470437743504'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2470397871184'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2470400266640'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2470396723664'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2470437732560'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2470438084240'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2470398522192'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2470437482320'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2470441693136'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2470436941776'>}

2025-06-28 14:52:39,271 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:39,273 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:52:39,279 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:52:39,279 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:52:39,302 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:52:39,302 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:52:39,302 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,303 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,303 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,304 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:52:39,304 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:52:39,305 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:52:39,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:39,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:52:39,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:52:39,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:52:39,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:52:39,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:52:39,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:52:39,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:52:39,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:52:39,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:52:39,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:52:39,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:52:39,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:52:39,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:52:39,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:52:39,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:52:39,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:52:39,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:52:39,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:52:39,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:52:39,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:52:39,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:52:39,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:52:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:52:39,315 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:52:39,315 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:52:39,315 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:52:39,317 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/config
2025-06-28 14:52:39,320 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/config - Status: 422
2025-06-28 14:52:39,324 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:52:39,325 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,399 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,399 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,399 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,411 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /test-config
2025-06-28 14:54:45,411 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /test-config - Status: 200
2025-06-28 14:54:45,419 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /test-config
2025-06-28 14:54:45,419 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /test-config - Status: 200
2025-06-28 14:54:45,419 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,419 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,430 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,430 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,457 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,457 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,463 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,464 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,464 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,464 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,464 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,468 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,468 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,492 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,493 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,493 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,494 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,494 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,495 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,497 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,497 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,497 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,497 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,500 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,500 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,500 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,500 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,500 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,501 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,507 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,509 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,511 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,511 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,530 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,530 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,530 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,530 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,530 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,530 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,539 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,540 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,547 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,548 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,548 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,550 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,550 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,550 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,550 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,550 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,559 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,559 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,581 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,581 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,581 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,591 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,592 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,593 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,593 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,596 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-28 14:54:45,596 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-28 14:54:45,598 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,598 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,598 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,598 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,627 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,627 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,629 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,629 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,629 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,638 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,638 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,638 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,641 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/BTCUSDT
2025-06-28 14:54:45,643 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/ticker/24hr/BTCUSDT - Status: 200
2025-06-28 14:54:45,644 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,644 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,648 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,648 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,668 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,668 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,668 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,668 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,668 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,673 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,683 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,683 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,683 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,683 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,683 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:54:45,683 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 200
2025-06-28 14:54:45,690 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,691 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,697 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,697 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,731 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,731 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,732 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,734 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-28 14:54:45,736 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 500
2025-06-28 14:54:45,737 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:45,738 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:45,744 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:45,744 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:45,764 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:45,764 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:45,764 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,765 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,765 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,765 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:45,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:45,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:45,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:45,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:45,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:45,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:45,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:45,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:45,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:45,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:45,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:45,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:45,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:45,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:45,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:45,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:45,776 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:45,776 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:45,776 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:45,779 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/INVALID_SYMBOL
2025-06-28 14:54:45,779 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/market/ticker/24hr/INVALID_SYMBOL: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='1797646334352'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='1797646334352'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='1797646334352'>}

2025-06-28 14:54:46,013 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,014 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,018 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,018 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,043 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,043 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,043 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,044 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,044 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,044 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,044 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,044 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,046 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,046 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,046 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,046 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,047 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,047 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,047 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,047 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,052 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,057 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/BTCUSDT
2025-06-28 14:54:46,058 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/ticker/24hr/BTCUSDT - Status: 500
2025-06-28 14:54:46,061 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,062 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,067 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,068 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,090 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,090 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,091 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,091 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,091 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,091 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,101 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,101 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,101 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,103 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:54:46,105 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 200
2025-06-28 14:54:46,111 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,112 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,117 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,118 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,133 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,133 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,149 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,149 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,149 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,149 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:54:46,149 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 500
2025-06-28 14:54:46,154 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,154 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,168 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,168 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,193 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,194 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,194 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,194 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,194 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,205 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,205 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,205 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,208 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,208 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,208 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,208 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,234 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,234 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,234 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,234 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,234 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,234 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,237 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,239 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,247 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,247 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,247 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,248 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,250 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,257 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,257 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,282 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,284 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,284 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,285 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,285 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,285 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,285 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,286 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,286 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,286 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,286 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,287 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,287 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,287 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,287 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,288 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,288 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,288 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,288 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,288 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,289 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,289 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,289 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,289 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,290 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,290 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,290 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,293 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,293 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,294 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,294 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,294 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,301 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,303 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,324 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,325 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,325 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,325 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,325 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,326 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,328 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,337 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:54:46,339 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:54:46,584 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,589 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,596 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,596 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,608 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,608 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,608 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,632 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,633 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,633 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,634 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:54:46,634 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:54:46,883 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:46,883 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:46,890 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:46,890 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:46,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:46,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:46,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:46,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:46,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:46,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:46,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:46,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:46,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:46,926 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:46,926 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:46,926 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:46,928 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:54:46,930 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:54:47,168 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:47,173 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:47,178 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:47,178 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:47,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:47,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:47,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:47,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:47,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:47,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:47,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:47,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:47,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:47,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:47,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:47,209 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:47,210 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:54:47,218 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:54:47,459 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:47,459 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:47,467 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:47,467 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:47,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:47,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:47,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:47,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:47,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:47,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:47,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:47,590 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:47,595 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:54:47,595 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/performance/strategies: Mock object has no attribute 'performance_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    |     assert container.performance_service is not None, "PerformanceService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'performance_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 322, in get_performance_service
    assert container.performance_service is not None, "PerformanceService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'performance_service'
2025-06-28 14:54:47,858 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:47,868 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:47,876 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:47,877 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:47,897 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:47,898 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:47,898 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:47,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:47,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:47,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:47,909 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:47,909 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:47,909 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:47,909 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:54:47,909 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 200
2025-06-28 14:54:47,909 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:47,919 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:47,925 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:47,925 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:47,949 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:47,950 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:47,950 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,950 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,951 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,951 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:47,951 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:47,951 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:47,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:47,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:47,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:47,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:47,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:47,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:47,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:47,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:47,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:47,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:47,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:47,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:47,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:47,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:47,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:47,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:47,956 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:47,956 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:47,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:47,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:47,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:47,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:47,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:47,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:47,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:47,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:47,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:47,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:47,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:47,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:47,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:47,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:47,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:47,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:47,962 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:47,962 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:47,962 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:47,962 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:54:47,962 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/portfolio/summary: Mock object has no attribute 'portfolio_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    |     assert container.portfolio_service is not None, "PortfolioService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'portfolio_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    assert container.portfolio_service is not None, "PortfolioService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'portfolio_service'
2025-06-28 14:54:48,108 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,108 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,110 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,110 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,148 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,149 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,149 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,151 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:54:48,152 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 500
2025-06-28 14:54:48,155 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,156 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,159 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,159 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,181 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,182 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,193 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,193 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,193 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,193 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,198 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,203 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,204 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,219 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,223 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,223 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,223 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,224 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,225 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,233 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,233 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,233 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,236 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-28 14:54:48,236 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001: Mock object has no attribute 'portfolio_service'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    |     solved_result = await solve_dependencies(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    |     solved = await call(**sub_values)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    |     assert container.portfolio_service is not None, "PortfolioService not initialized"
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    |     raise AttributeError("Mock object has no attribute %r" % name)
    | AttributeError: Mock object has no attribute 'portfolio_service'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 269, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 600, in solve_dependencies
    solved = await call(**sub_values)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 286, in get_portfolio_service
    assert container.portfolio_service is not None, "PortfolioService not initialized"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\unittest\mock.py", line 653, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'portfolio_service'
2025-06-28 14:54:48,484 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,484 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,491 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,491 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,600 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,607 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,607 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,607 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,607 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,607 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,618 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,618 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,618 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,618 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-28 14:54:48,623 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 500
2025-06-28 14:54:48,626 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,628 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,633 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,634 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,653 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,654 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,654 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,654 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,654 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,655 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,661 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,668 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,668 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,674 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,674 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,697 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,697 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,698 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,698 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,698 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,698 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,698 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,698 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,700 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,711 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,711 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,711 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,711 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,711 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,718 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,718 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,741 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,741 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,741 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,742 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,742 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,748 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,754 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,754 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,757 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,758 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,758 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,783 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,789 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,789 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,789 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,789 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,789 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,789 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,790 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,790 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,790 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,794 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,795 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,796 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,796 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,796 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,798 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,799 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,804 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,804 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,825 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,826 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,826 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,826 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,827 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,827 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,828 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,830 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,837 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,837 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,837 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,838 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,841 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,847 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,847 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,873 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,875 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,875 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,875 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,879 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,891 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,892 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,911 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,911 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,911 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,922 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,922 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,923 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,925 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,927 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,932 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,932 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,952 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,952 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,957 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,957 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:48,961 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:48,968 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:48,968 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:48,968 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:48,977 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:48,977 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:48,996 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:48,996 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:48,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,006 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,008 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,009 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,009 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,011 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,011 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,019 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,019 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,039 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,039 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,040 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,040 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,040 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,041 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,041 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,041 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,042 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,042 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,042 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,042 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,043 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,043 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,043 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,043 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,044 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,045 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,048 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,054 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,059 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,065 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,066 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,079 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,079 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,079 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,079 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,079 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,088 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,090 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,098 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,098 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,098 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,100 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,100 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,109 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,109 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,132 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,132 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,134 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,134 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,137 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,137 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,137 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,137 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,146 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,146 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,146 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,148 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,150 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,159 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,159 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,184 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,184 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,184 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,194 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,194 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,194 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,194 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,194 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,203 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,203 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,221 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,224 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,224 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,224 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,225 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,225 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,232 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,233 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,238 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,238 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,244 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,244 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,278 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,291 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,291 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,312 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,312 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,313 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,313 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,313 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,313 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,323 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,325 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,325 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,325 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,327 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,328 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,328 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,328 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,351 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,357 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,357 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,357 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,359 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,359 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,369 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,369 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,370 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,370 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,370 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,378 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,379 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,398 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,399 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,399 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,399 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,404 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,405 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,406 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,406 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,406 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,407 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,408 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,409 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,411 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,411 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,411 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,411 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,411 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,419 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,420 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,441 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,442 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,442 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,442 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,442 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,442 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,451 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,451 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,451 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,451 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,454 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,454 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,459 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,459 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,482 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,494 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,494 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,494 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,494 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,494 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,503 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,503 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,524 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,525 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,525 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,525 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,525 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,525 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,530 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,538 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,541 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,541 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,541 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,579 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,579 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,579 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,579 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,579 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,584 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,588 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,610 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,610 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,610 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,611 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,611 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,611 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,618 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,623 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,625 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,628 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,628 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,664 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,664 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,664 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,666 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,666 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,668 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,674 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,694 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,695 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,695 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,695 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,696 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,696 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,696 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,697 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,698 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,698 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,699 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,701 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,709 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/ef336f06-2612-4a45-97e8-9144c7fa648f
2025-06-28 14:54:49,710 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/ef336f06-2612-4a45-97e8-9144c7fa648f - Status: 200
2025-06-28 14:54:49,710 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,710 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,718 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,718 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,730 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,738 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,738 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,738 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,738 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,738 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,740 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,740 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,741 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,741 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,742 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,742 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,743 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,744 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,745 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,746 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,746 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,746 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,746 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,747 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,748 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,749 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,750 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,751 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,751 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,752 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,753 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/42e151fd-7fd4-4b75-af90-a7e2b1b5935c
2025-06-28 14:54:49,754 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/42e151fd-7fd4-4b75-af90-a7e2b1b5935c - Status: 400
2025-06-28 14:54:49,754 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,754 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,758 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,758 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,788 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,790 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,790 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,791 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,792 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,793 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,795 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,795 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,795 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,796 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/8dd3c2c6-c064-46af-8b2a-185e563b2248
2025-06-28 14:54:49,798 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/8dd3c2c6-c064-46af-8b2a-185e563b2248 - Status: 404
2025-06-28 14:54:49,798 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,801 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,807 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,808 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,825 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,825 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,825 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,839 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,841 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,841 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,843 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/42728868-822a-4d14-aa05-0d5eded88d31
2025-06-28 14:54:49,845 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/42728868-822a-4d14-aa05-0d5eded88d31 - Status: 400
2025-06-28 14:54:49,847 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,847 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,848 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,848 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,879 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,880 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,880 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,880 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,880 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,881 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,881 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,881 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,882 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,882 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,882 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,882 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,882 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,883 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,890 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,890 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,890 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,894 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/671dfbfd-993a-4c68-add9-4877f28e19b2
2025-06-28 14:54:49,894 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/671dfbfd-993a-4c68-add9-4877f28e19b2 - Status: 400
2025-06-28 14:54:49,894 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,898 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,903 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,903 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,920 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,923 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,923 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,923 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,924 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,925 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,931 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/fe7af340-b846-4fda-9e78-87c3aa4c8ed0
2025-06-28 14:54:49,938 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/fe7af340-b846-4fda-9e78-87c3aa4c8ed0 - Status: 403
2025-06-28 14:54:49,940 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,941 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,948 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,948 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:49,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:49,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:49,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:49,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:49,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:49,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:49,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:49,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:49,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:49,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:49,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:49,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:49,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:49,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:49,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:49,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:49,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:49,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:49,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:49,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:49,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:49,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:49,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:49,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:49,980 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:49,981 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:49,981 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:49,981 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:49,983 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:54:49,983 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:54:49,983 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:49,983 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:49,998 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:49,998 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:50,017 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:50,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:50,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:50,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:50,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:50,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:50,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:50,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:50,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:50,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:50,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:50,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:50,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:50,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:50,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:50,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:50,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:50,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:50,029 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:50,030 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:50,030 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:50,032 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:54:50,033 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:54:50,034 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:50,036 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:50,042 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:50,043 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:50,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:50,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:50,074 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:50,075 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:50,075 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:50,078 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:54:50,079 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:54:50,080 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:50,080 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:50,080 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:50,080 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:50,107 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:50,109 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:50,109 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,109 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,109 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,110 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:50,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:50,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:50,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:50,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:50,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:50,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:50,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:50,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:50,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:50,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:50,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:50,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:50,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:50,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:50,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:50,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:50,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:50,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:50,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:50,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:50,118 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:50,118 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:50,118 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:50,118 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:54:50,278 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797643896912'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797643903184'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797643908688'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797644038800'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797644565776'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797644804560'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797644701968'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797644490256'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797656052880'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797655442512'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797655925712'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797646980112'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797656224720'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797644490768'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797656064848'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797643896912'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797643903184'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797643908688'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797644038800'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797644565776'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797644804560'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797644701968'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797644490256'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797656052880'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797655442512'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797655925712'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797646980112'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797656224720'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797644490768'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797656064848'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797643896912'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797643903184'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797643908688'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797644038800'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797644565776'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797644804560'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797644701968'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797644490256'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797656052880'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797655442512'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797655925712'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797646980112'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797656224720'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797644490768'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797656064848'>}

2025-06-28 14:54:50,418 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:50,418 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:50,424 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:50,428 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:50,446 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:50,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:50,457 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:50,457 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:50,457 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:50,457 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:50,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:50,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:50,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:50,459 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:50,459 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:50,459 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:50,461 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:54:50,483 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797649779152'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797644446992'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797649791568'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797643830352'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797649149136'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797647474000'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797643781008'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797655688528'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797644504976'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797649788048'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797649789648'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797652786960'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797612749520'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797649778000'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797643793936'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797649779152'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797644446992'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797649791568'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797643830352'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797649149136'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797647474000'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797643781008'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797655688528'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797644504976'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797649788048'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797649789648'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797652786960'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797612749520'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797649778000'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797643793936'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797649779152'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797644446992'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797649791568'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797643830352'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797649149136'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797647474000'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797643781008'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797655688528'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797644504976'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797649788048'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797649789648'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797652786960'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797612749520'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797649778000'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797643793936'>}

2025-06-28 14:54:50,718 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:50,718 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:50,728 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:50,729 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:50,741 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:50,749 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:50,752 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,752 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:50,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:50,753 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:50,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:50,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:50,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:50,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:50,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:50,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:50,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:50,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:50,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:50,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:50,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:50,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:50,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:50,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:50,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:50,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:50,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:50,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:50,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:50,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:50,761 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:54:50,784 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797644702736'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797644807248'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797644706384'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797655848272'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797647145232'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797646588432'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797613105488'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797646597200'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797644498064'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797613106960'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797650684880'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797647184656'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797655045520'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797654857232'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797654967952'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797644702736'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797644807248'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797644706384'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797655848272'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797647145232'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797646588432'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797613105488'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797646597200'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797644498064'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797613106960'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797650684880'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797647184656'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797655045520'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797654857232'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797654967952'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797644702736'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797644807248'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797644706384'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797655848272'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797647145232'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797646588432'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797613105488'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797646597200'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797644498064'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797613106960'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797650684880'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797647184656'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797655045520'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797654857232'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797654967952'>}

2025-06-28 14:54:51,028 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:51,030 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:51,035 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:51,035 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:51,053 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:51,053 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:51,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:51,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:51,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:51,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:51,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:51,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:51,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:51,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:51,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:51,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:51,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:51,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:51,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:51,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:51,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:51,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:51,064 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:51,068 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:54:51,089 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797651619984'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797651621328'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797613643024'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797651619088'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797651612368'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797644557136'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797644563024'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797651062608'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797651616592'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797654999440'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797652862864'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797651624592'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797611649680'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797654341584'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797644047056'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797651619984'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797651621328'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797613643024'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797651619088'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797651612368'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797644557136'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797644563024'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797651062608'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797651616592'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797654999440'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797652862864'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797651624592'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797611649680'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797654341584'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797644047056'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='1797651619984'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='1797651621328'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='1797613643024'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='1797651619088'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='1797651612368'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='1797644557136'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='1797644563024'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='1797651062608'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='1797651616592'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='1797654999440'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='1797652862864'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='1797651624592'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='1797611649680'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='1797654341584'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='1797644047056'>}

2025-06-28 14:54:51,348 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:51,348 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:54:51,352 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:54:51,352 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:54:51,376 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:54:51,377 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:54:51,377 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,377 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,377 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,377 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:54:51,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:54:51,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:54:51,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:51,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:54:51,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:54:51,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:54:51,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:54:51,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:54:51,380 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:54:51,389 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/config
2025-06-28 14:54:51,390 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/config - Status: 422
2025-06-28 14:54:51,391 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:54:51,391 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,112 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,112 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,112 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,126 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /test-config
2025-06-28 14:57:39,128 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /test-config - Status: 200
2025-06-28 14:57:39,130 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /test-config
2025-06-28 14:57:39,132 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /test-config - Status: 200
2025-06-28 14:57:39,134 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,135 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,147 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,147 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,173 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,174 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,175 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,182 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,187 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,188 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,198 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,199 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,220 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,220 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,220 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,220 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,221 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,221 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,223 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,223 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,231 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,233 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,235 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,245 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,246 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,268 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,281 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,282 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,282 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,283 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,283 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,295 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,296 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,318 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,322 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,322 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,322 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,322 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,323 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,323 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,323 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,324 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,328 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,328 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,328 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,330 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-28 14:57:39,330 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 200
2025-06-28 14:57:39,334 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,335 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,344 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,345 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,362 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,362 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,372 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,372 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,372 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,372 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,380 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,380 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,380 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,382 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/BTCUSDT
2025-06-28 14:57:39,384 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/ticker/24hr/BTCUSDT - Status: 200
2025-06-28 14:57:39,386 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,387 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,396 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,397 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,415 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,415 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,415 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,415 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,415 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,422 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,427 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,427 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,430 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,430 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,431 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,433 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:57:39,436 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 200
2025-06-28 14:57:39,437 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,438 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,448 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,449 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,486 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,486 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,486 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,488 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/tickers
2025-06-28 14:57:39,488 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/tickers - Status: 500
2025-06-28 14:57:39,488 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,493 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,502 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,502 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,537 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,537 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,537 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,538 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,540 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/INVALID_SYMBOL
2025-06-28 14:57:39,542 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/market/ticker/24hr/INVALID_SYMBOL: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='2054970268240'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='2054970268240'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.market_data_service.get_ticker_24hr()' id='2054970268240'>}

2025-06-28 14:57:39,793 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,798 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,802 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,802 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,831 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,831 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,831 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,832 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,832 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,832 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,832 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,833 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,833 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,833 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,833 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,834 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,834 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,834 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,834 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,835 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,835 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,835 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,835 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,835 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,836 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,837 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,838 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,839 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,840 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,841 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,842 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,842 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,843 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,845 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/ticker/24hr/BTCUSDT
2025-06-28 14:57:39,846 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/ticker/24hr/BTCUSDT - Status: 500
2025-06-28 14:57:39,849 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,850 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,858 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,859 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,882 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,882 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,883 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,883 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,883 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,884 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,884 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,885 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,886 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,887 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,887 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,887 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,887 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,893 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,893 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,895 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,895 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,895 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,897 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:57:39,898 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 200
2025-06-28 14:57:39,903 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,903 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,914 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,917 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,937 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:39,941 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:39,943 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:39,943 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:39,944 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:39,944 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:39,945 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:39,945 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:39,945 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:39,946 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:39,946 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:39,946 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:39,946 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:39,946 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:39,947 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:39,947 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:39,947 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:39,947 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:39,948 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:39,948 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:39,948 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:39,948 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:39,949 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:39,949 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:39,949 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:39,950 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:39,951 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:39,951 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:39,951 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:39,955 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/market/klines
2025-06-28 14:57:39,955 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/market/klines - Status: 500
2025-06-28 14:57:39,955 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:39,955 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:39,975 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:39,976 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:39,997 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:39,997 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:39,998 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,998 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,999 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,999 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:39,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:39,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:39,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:39,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,009 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,009 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,009 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,012 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,014 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,023 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,024 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,046 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,047 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,048 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,048 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,048 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,048 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,049 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,050 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,056 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,056 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,056 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,056 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,056 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,057 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,058 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,058 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,059 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,060 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,060 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,071 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,072 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,092 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,092 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,092 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,093 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,093 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,093 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,094 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,096 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,096 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,098 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,098 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,098 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,098 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,098 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,098 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,102 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,118 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,118 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,140 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,140 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,140 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,140 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,140 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,143 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,148 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,149 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,155 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,155 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,156 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,158 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:57:40,161 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/performance/strategies - Status: 200
2025-06-28 14:57:40,299 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,300 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,311 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,311 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,333 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,334 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,334 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,334 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,334 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,335 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,336 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,336 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,343 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,344 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,348 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:57:40,349 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/performance/strategies - Status: 200
2025-06-28 14:57:40,349 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,349 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,365 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,365 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,388 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,402 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,402 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,402 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,402 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:57:40,407 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/performance/strategies - Status: 200
2025-06-28 14:57:40,412 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,414 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,422 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,422 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,443 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,444 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,444 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,444 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,444 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,445 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,449 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:57:40,458 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/performance/strategies - Status: 200
2025-06-28 14:57:40,464 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,464 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,476 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,477 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,496 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,496 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,496 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,496 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,502 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,505 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,505 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,505 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,505 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,506 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,506 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,506 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,507 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,507 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,507 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,507 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,507 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,508 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,509 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,509 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,509 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,511 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/performance/strategies
2025-06-28 14:57:40,511 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/performance/strategies - Status: 422
2025-06-28 14:57:40,513 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,514 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,523 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,523 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,547 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,548 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,548 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,548 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,548 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,549 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,551 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,551 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,551 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,551 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,552 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,552 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,552 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,552 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,553 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,553 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,553 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,553 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,553 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,555 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,555 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,555 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,555 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,556 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,556 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,556 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,556 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,556 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,557 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,557 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,557 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,557 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,557 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,560 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,560 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,561 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,565 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:57:40,567 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 200
2025-06-28 14:57:40,569 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,570 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,581 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,581 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,602 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,603 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,603 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,603 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,603 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,604 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,604 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,604 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,608 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,609 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,612 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,613 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,614 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,615 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,615 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,615 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,616 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:57:40,617 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 422
2025-06-28 14:57:40,618 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,618 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,630 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,631 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,667 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,667 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,667 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,669 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/summary
2025-06-28 14:57:40,673 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/summary - Status: 500
2025-06-28 14:57:40,673 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,676 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,687 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,688 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,710 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,711 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,712 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,712 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,712 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,723 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,723 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,723 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,723 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,727 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,737 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,737 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,761 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,762 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,763 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,763 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,763 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,763 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,770 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,770 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,770 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,774 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,774 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,774 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,776 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-28 14:57:40,776 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 422
2025-06-28 14:57:40,779 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,780 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,791 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,791 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,811 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,812 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,812 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,813 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,813 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,813 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,820 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,824 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,824 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,827 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-28 14:57:40,830 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001 - Status: 500
2025-06-28 14:57:40,831 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,833 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,842 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,842 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,863 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,864 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,866 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,866 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,866 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,871 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,876 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,878 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,881 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,888 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,888 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,910 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,911 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,911 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,911 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,911 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,914 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,915 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,915 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,915 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,915 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,915 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,916 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,916 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,916 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,916 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,917 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,918 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,922 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,922 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,923 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,923 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,923 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,935 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,935 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:40,950 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:40,950 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:40,958 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,958 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,958 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,958 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:40,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:40,959 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:40,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:40,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:40,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:40,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:40,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:40,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:40,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:40,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:40,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:40,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:40,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:40,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:40,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:40,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:40,968 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:40,968 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:40,968 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:40,968 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:40,968 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:40,978 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:40,978 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,006 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,006 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,006 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,006 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,007 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,008 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,008 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,008 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,008 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,008 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,009 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,009 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,011 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,011 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,011 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,015 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,016 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,016 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,018 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,019 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,029 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,030 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,048 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,048 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,051 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,051 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,051 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,051 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,051 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,052 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,053 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,054 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,058 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,058 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,058 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,059 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,063 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,063 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,064 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,066 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,067 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,077 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,077 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,098 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,098 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,099 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,099 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,099 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,101 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,102 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,103 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,103 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,103 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,103 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,103 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,104 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,104 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,104 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,104 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,104 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,106 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,106 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,106 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,106 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,106 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,107 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,108 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,109 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,109 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,110 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,112 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,113 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,118 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,118 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,144 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,144 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,144 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,145 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,145 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,145 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,152 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,153 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,156 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,157 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,157 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,157 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,157 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,157 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,158 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,158 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,158 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,158 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,160 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,161 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,161 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,163 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,165 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,174 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,175 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,196 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,197 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,198 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,204 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,204 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,204 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,205 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,205 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,205 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,205 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,205 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,206 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,207 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,208 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,210 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,210 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,210 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,213 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,214 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,224 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,225 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,250 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,251 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,251 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,251 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,252 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,252 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,256 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,258 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,260 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,260 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,260 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,261 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,261 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,261 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,261 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,261 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,261 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,266 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,269 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,269 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,295 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,295 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,296 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,296 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,296 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,297 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,297 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,298 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,298 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,298 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,298 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,298 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,304 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,304 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,304 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,304 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,304 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,305 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,305 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,305 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,306 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,307 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,307 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,310 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,311 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,320 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,320 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,338 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,343 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,344 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,344 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,344 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,345 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,345 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,345 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,346 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,347 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,347 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,347 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,348 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,348 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,348 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,349 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,349 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,349 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,349 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,350 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,350 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,350 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,350 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,350 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,353 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,353 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,353 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,353 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,356 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,356 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,356 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,358 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,359 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,369 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,369 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,389 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,390 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,390 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,391 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,391 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,391 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,391 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,392 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,393 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,394 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,395 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,396 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,397 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,398 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,399 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,400 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,401 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,401 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,402 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,404 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,405 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,416 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,416 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,447 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,448 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,450 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,450 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,450 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,450 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,450 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,463 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,464 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,483 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,483 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,483 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,485 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,488 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,491 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,492 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,493 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,494 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,495 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,496 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,496 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,496 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,499 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,500 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,510 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,510 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,532 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,532 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,532 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,532 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,533 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,533 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,535 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,538 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,545 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,546 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,546 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,546 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,549 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,559 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,559 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,586 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,587 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,587 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,587 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,587 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,587 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,588 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,589 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,590 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,594 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,594 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,603 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,603 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,638 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,638 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,639 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,639 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,640 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,640 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,640 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,641 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,641 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,641 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,644 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,646 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,652 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,652 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,676 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,677 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,677 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,677 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,677 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,677 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,680 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,682 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,688 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,688 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,688 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,691 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,693 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,702 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,702 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,725 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,725 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,725 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,726 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,726 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,726 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,737 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,737 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,737 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,740 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,741 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,750 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,751 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,782 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,782 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,783 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,783 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,783 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,783 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,783 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,797 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:41,797 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:41,973 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:41,974 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:41,974 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,974 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,975 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,975 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:41,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:41,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:41,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:41,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:41,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:41,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:41,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:41,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:41,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:41,986 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:41,986 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:41,986 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:41,988 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:41,990 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:41,999 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,000 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,021 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,021 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,022 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,022 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,022 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,022 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,034 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,034 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,034 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,036 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,037 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,047 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,047 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,070 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,071 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,071 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,071 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,072 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,072 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,072 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,072 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,078 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,082 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,097 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,098 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,118 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,120 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,120 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,120 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,120 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,121 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,121 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,121 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,122 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,123 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,124 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,127 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,128 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,129 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,131 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,131 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,132 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,132 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,133 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,135 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,136 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,146 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,146 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,169 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,170 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,170 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,171 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,171 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,171 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,171 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,171 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,172 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,172 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,172 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,173 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,174 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,174 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,178 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/80f2eb6c-04a4-4e93-9a76-62e6c7671681
2025-06-28 14:57:42,187 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/80f2eb6c-04a4-4e93-9a76-62e6c7671681 - Status: 200
2025-06-28 14:57:42,189 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,190 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,198 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,199 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,219 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,220 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,220 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,220 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,221 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,221 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,223 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,223 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,223 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,223 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,227 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,229 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,230 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,230 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,230 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,230 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,234 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/ffd0cc03-b4f7-43d0-9bf3-522c854f34c8
2025-06-28 14:57:42,235 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/ffd0cc03-b4f7-43d0-9bf3-522c854f34c8 - Status: 400
2025-06-28 14:57:42,237 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,238 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,247 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,247 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,270 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,271 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,271 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,271 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,272 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,272 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,274 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,278 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,279 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,280 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,281 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,281 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,282 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,283 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,283 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,285 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/0fd19390-637d-4ad2-bffb-299a79e88e0d
2025-06-28 14:57:42,286 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/0fd19390-637d-4ad2-bffb-299a79e88e0d - Status: 404
2025-06-28 14:57:42,287 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,288 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,294 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,298 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,326 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,331 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,331 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,331 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,332 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,333 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,333 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,335 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/7ada8aa4-8f60-4e3a-a17f-268eb606c634
2025-06-28 14:57:42,336 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/7ada8aa4-8f60-4e3a-a17f-268eb606c634 - Status: 400
2025-06-28 14:57:42,338 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,340 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,349 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,349 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,372 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,373 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,373 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,373 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,373 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,374 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,375 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,375 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,375 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,375 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,378 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,379 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,380 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,384 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,384 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,384 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,386 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/6c934193-b743-4c7f-b2ee-c0ee43f577f5
2025-06-28 14:57:42,388 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/6c934193-b743-4c7f-b2ee-c0ee43f577f5 - Status: 400
2025-06-28 14:57:42,390 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,390 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,400 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,400 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,420 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,420 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,420 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,423 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,423 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,424 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,424 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,424 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,424 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,424 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,425 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,426 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,427 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,427 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,428 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,429 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,430 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/99969dec-7a1b-43c1-9261-ff691c3582a0
2025-06-28 14:57:42,438 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/99969dec-7a1b-43c1-9261-ff691c3582a0 - Status: 403
2025-06-28 14:57:42,441 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,441 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,453 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,453 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,472 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,473 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,473 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,473 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,473 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,485 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,485 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,485 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,487 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:57:42,488 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:57:42,490 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,491 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,500 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,501 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,521 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,522 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,522 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,522 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,522 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,523 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,530 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,536 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:57:42,539 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:57:42,541 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,542 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,551 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,552 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,577 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,577 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,577 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,577 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,585 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,586 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,586 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,586 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,589 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:57:42,590 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:57:42,592 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,593 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,600 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,602 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,625 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,626 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,626 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,627 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,632 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,633 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,634 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,634 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,634 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,634 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,635 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,636 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,637 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,639 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,639 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,639 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,640 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:57:42,661 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054976186896'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054976903632'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054980007888'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054980513360'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054980639184'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054976192144'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054980564240'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054979791504'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054935981456'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054979783376'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054970582800'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054969835984'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054976301392'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054976179920'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054976858960'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054976186896'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054976903632'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054980007888'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054980513360'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054980639184'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054976192144'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054980564240'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054979791504'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054935981456'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054979783376'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054970582800'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054969835984'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054976301392'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054976179920'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054976858960'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054976186896'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054976903632'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054980007888'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054980513360'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054980639184'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054976192144'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054980564240'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054979791504'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054935981456'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054979783376'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054970582800'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054969835984'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054976301392'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054976179920'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054976858960'>}

2025-06-28 14:57:42,918 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:42,920 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:42,929 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:42,929 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:42,950 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:42,950 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:42,951 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,951 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:42,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:42,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:42,952 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:42,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:42,958 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:42,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:42,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:42,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:42,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:42,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:42,962 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:42,962 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:42,962 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:42,964 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:57:42,982 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054978259792'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054978264592'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054975028816'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054975433552'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054975345872'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054972550544'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054975338384'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054974873488'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054977837328'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054975089936'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054975331856'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054977840912'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054975558352'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054975088464'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054977844880'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054978259792'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054978264592'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054975028816'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054975433552'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054975345872'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054972550544'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054975338384'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054974873488'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054977837328'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054975089936'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054975331856'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054977840912'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054975558352'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054975088464'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054977844880'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054978259792'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054978264592'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054975028816'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054975433552'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054975345872'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054972550544'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054975338384'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054974873488'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054977837328'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054975089936'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054975331856'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054977840912'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054975558352'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054975088464'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054977844880'>}

2025-06-28 14:57:43,110 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:43,110 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:43,123 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:43,123 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:43,265 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:43,266 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:43,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,267 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,267 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,267 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:43,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:43,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:43,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:43,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:43,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:43,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:43,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:43,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:43,272 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:43,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:43,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:43,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:43,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:43,275 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:43,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:43,276 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:43,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:43,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:43,277 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:43,278 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:43,279 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:43,279 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:43,281 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:57:43,307 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054935978576'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054935689744'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054936842320'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054977068688'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054937070096'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054977302224'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054977302800'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054935983312'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054976234256'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054976999376'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054976720720'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054971360656'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054976909328'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054971374608'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054976999632'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054935978576'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054935689744'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054936842320'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054977068688'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054937070096'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054977302224'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054977302800'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054935983312'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054976234256'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054976999376'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054976720720'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054971360656'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054976909328'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054971374608'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054976999632'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054935978576'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054935689744'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054936842320'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054977068688'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054937070096'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054977302224'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2054977302800'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054935983312'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054976234256'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054976999376'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054976720720'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054971360656'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054976909328'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054971374608'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054976999632'>}

2025-06-28 14:57:43,443 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:43,444 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:43,454 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:43,455 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:43,476 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:43,476 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:43,476 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,477 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,477 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,478 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:43,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:43,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:43,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:43,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:43,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:43,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:43,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:43,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:43,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:43,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:43,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:43,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:43,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:43,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:43,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:43,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:43,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:43,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:43,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:43,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:43,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:43,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:43,486 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:43,488 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:43,488 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:43,490 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/config
2025-06-28 14:57:43,511 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en GET /api/v1/config: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054979724880'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054978537552'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054968948304'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054974559568'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054972793488'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054938039696'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2055001136400'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054936590800'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054977971664'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054937023248'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054970334992'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054998319376'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054998322000'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054974563856'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054968586192'>}
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    |     raise ResponseValidationError(
    | fastapi.exceptions.ResponseValidationError: 15 validation errors:
    |   {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054979724880'>}
    |   {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054978537552'>}
    |   {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054968948304'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054974559568'>}
    |   {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054972793488'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054938039696'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2055001136400'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054936590800'>}
    |   {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054977971664'>}
    |   {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054937023248'>}
    |   {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054970334992'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
    |   {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054998319376'>, 'ctx': {'expected': "'dark' or 'light'"}}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054998322000'>}
    |   {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054974563856'>}
    |   {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054968586192'>}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 155, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 15 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().id' id='2054979724880'>}
  {'type': 'string_type', 'loc': ('response', 'userId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().userId' id='2054978537552'>}
  {'type': 'string_type', 'loc': ('response', 'telegramChatId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().telegramChatId' id='2054968948304'>}
  {'type': 'decimal_type', 'loc': ('response', 'defaultPaperTradingCapital'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().defaultPaperTradingCapital' id='2054974559568'>}
  {'type': 'enum', 'loc': ('response', 'riskProfile'), 'msg': "Input should be 'conservative', 'moderate', 'aggressive' or 'custom'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().riskProfile' id='2054972793488'>, 'ctx': {'expected': "'conservative', 'moderate', 'aggressive' or 'custom'"}}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_loss_limit_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_loss_limit_absolute' id='2054938039696'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_profit_target_absolute'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_profit_target_absolute' id='2055001136400'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'asset_specific_stop_loss'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.asset_specific_stop_loss' id='2054936590800'>}
  {'type': 'dict_type', 'loc': ('response', 'realTradingSettings', 'auto_pause_trading_conditions', 'on_market_volatility_index_exceeded'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.auto_pause_trading_conditions.on_market_volatility_index_exceeded' id='2054977971664'>}
  {'type': 'decimal_type', 'loc': ('response', 'realTradingSettings', 'daily_capital_risked_usd'), 'msg': 'Decimal input should be an integer, float, string or Decimal object', 'input': <AsyncMock name='mock.config_service.get_user_configuration().realTradingSettings.daily_capital_risked_usd' id='2054937023248'>}
  {'type': 'value_error', 'loc': ('response', 'aiAnalysisConfidenceThresholds', 'real_trading'), 'msg': 'Value error, Real trading confidence threshold should be higher than paper trading', 'input': <AsyncMock name='mock.config_service.get_user_configuration().aiAnalysisConfidenceThresholds.real_trading' id='2054970334992'>, 'ctx': {'error': ValueError('Real trading confidence threshold should be higher than paper trading')}}
  {'type': 'enum', 'loc': ('response', 'selectedTheme'), 'msg': "Input should be 'dark' or 'light'", 'input': <AsyncMock name='mock.config_service.get_user_configuration().selectedTheme' id='2054998319376'>, 'ctx': {'expected': "'dark' or 'light'"}}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutProfiles'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutProfiles' id='2054998322000'>}
  {'type': 'string_type', 'loc': ('response', 'activeDashboardLayoutProfileId'), 'msg': 'Input should be a valid string', 'input': <AsyncMock name='mock.config_service.get_user_configuration().activeDashboardLayoutProfileId' id='2054974563856'>}
  {'type': 'dict_type', 'loc': ('response', 'dashboardLayoutConfig'), 'msg': 'Input should be a valid dictionary', 'input': <AsyncMock name='mock.config_service.get_user_configuration().dashboardLayoutConfig' id='2054968586192'>}

2025-06-28 14:57:43,760 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:43,762 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:57:43,771 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:57:43,771 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:57:43,793 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:57:43,793 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:57:43,793 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,793 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,793 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,793 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:57:43,796 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:57:43,798 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:57:43,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:57:43,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:57:43,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:57:43,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:57:43,803 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:57:43,804 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:57:43,804 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:57:43,804 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:57:43,804 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:57:43,805 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:57:43,805 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:57:43,806 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:57:43,806 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:57:43,807 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:57:43,807 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/config
2025-06-28 14:57:43,809 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/config - Status: 422
2025-06-28 14:57:43,810 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:57:43,810 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:30,918 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:30,918 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:30,918 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:30,920 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:30,920 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:30,932 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:30,932 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:30,950 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:30,950 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:30,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:30,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:30,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:30,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:30,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:30,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:30,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:30,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:30,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:30,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:30,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:30,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:30,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:30,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:30,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:30,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:30,965 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:30,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:30,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:30,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:30,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:30,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:30,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:30,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:30,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:30,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:30,970 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:30,970 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:30,970 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:30,970 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:30,970 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:30,982 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:30,983 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,018 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,020 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,020 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,021 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,027 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,028 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,032 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,032 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,069 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,069 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,069 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,070 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,070 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,070 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,070 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,070 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,084 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,084 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,120 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,120 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,120 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,120 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,120 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,133 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,133 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,150 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,150 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,170 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,170 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,171 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,173 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,174 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,180 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,180 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,211 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,220 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,220 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,231 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,232 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,260 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,260 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,261 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,261 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,262 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,262 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,262 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,262 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,263 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,263 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,263 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,264 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,270 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,278 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,279 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,299 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,300 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,300 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,300 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,302 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,303 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,313 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,328 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,329 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,348 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,349 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,349 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,349 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,349 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,350 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,350 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,351 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,352 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,354 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,360 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,362 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,363 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,363 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,363 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,363 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,363 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,377 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,377 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,399 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,399 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,399 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,400 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,401 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,402 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,403 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,410 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,410 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,411 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,413 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,414 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,414 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,414 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,414 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,414 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,430 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,430 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,450 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,451 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,452 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,452 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,452 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,453 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,453 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,454 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,458 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,460 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,471 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,471 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,471 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,473 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,474 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,483 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,483 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,503 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,510 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,510 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,510 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,520 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,520 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,520 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,520 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,520 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,533 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,533 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,550 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,550 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,550 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,550 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,550 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,554 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,560 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,560 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,562 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,562 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,562 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,566 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,566 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,567 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,567 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,567 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,570 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,570 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,582 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,583 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,610 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,611 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,620 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,622 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,630 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,630 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,649 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,650 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,650 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,650 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,651 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,651 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,665 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,666 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,666 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,668 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,669 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,679 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,679 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,701 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,701 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,702 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,702 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,702 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,703 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,718 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,719 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,719 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,721 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,722 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,731 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,731 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,752 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,753 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,755 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,763 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,770 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,770 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,770 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,770 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,783 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,783 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,898 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,898 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,899 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,899 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,899 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,900 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,902 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,902 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,903 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,903 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,903 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,904 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,904 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,905 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,905 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,913 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,929 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,929 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:31,951 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:31,951 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:31,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,952 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,953 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:31,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:31,953 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:31,954 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:31,955 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:31,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:31,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:31,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:31,960 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:31,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:31,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:31,961 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:31,962 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:31,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:31,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:31,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:31,963 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:31,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:31,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:31,964 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:31,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:31,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:31,966 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:31,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:31,967 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:31,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:31,968 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:31,970 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:31,970 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:31,970 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:31,970 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:31,970 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:31,982 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:31,983 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,010 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,011 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,011 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,011 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,012 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,013 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,014 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,015 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,016 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,017 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,019 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,020 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,023 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,023 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:32,034 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:32,035 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,055 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,060 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,061 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,062 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,069 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,069 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,069 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,070 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:32,085 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:32,085 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,100 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,115 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,116 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,117 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,118 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,120 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:32,135 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:32,135 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,165 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,166 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,166 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,167 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,168 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,170 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:32,185 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:32,186 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,210 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,211 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,212 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,213 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,214 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,214 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,214 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,216 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,216 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,216 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,217 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,220 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,228 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:32,236 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:32,236 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,260 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,261 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,261 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,262 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,262 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,263 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,263 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,263 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,264 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,265 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,265 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,265 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,267 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,267 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,269 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,270 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,271 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,277 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:03:32,284 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:03:32,284 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:03:32,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:03:32,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:03:32,310 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:03:32,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:03:32,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:03:32,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:03:32,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:03:32,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:03:32,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:03:32,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:03:32,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:03:32,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:03:32,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:03:32,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:03:32,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:03:32,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:03:32,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:03:32,317 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:03:32,320 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:03:32,327 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:03:32,328 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,355 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,356 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,356 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,374 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/strategies
2025-06-28 17:06:16,377 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/strategies - Status: 201
2025-06-28 17:06:16,380 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,381 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,391 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,392 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,410 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,411 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,411 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,411 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,411 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,412 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,412 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,413 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,413 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,413 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,414 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,415 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,416 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,416 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,416 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,416 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,416 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,417 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,418 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,419 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,419 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,419 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,420 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,421 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,422 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,423 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,423 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,424 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/strategies
2025-06-28 17:06:16,426 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/strategies - Status: 422
2025-06-28 17:06:16,428 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,429 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,440 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,440 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,460 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,460 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,461 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,463 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,472 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,473 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,473 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,475 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/strategies
2025-06-28 17:06:16,477 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/strategies - Status: 500
2025-06-28 17:06:16,479 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,480 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,489 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,490 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,509 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,509 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,509 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,509 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,510 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,510 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,510 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,510 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,520 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,531 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-28 17:06:16,533 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 200
2025-06-28 17:06:16,535 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,536 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,546 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,546 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,565 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,566 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,566 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,567 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,567 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,567 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,569 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,577 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,577 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,578 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,578 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,579 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,580 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-28 17:06:16,583 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 200
2025-06-28 17:06:16,585 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,586 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,595 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,595 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,613 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,614 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,614 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,614 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,614 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,614 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,615 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,615 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,616 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,616 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,616 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,616 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,616 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,617 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,625 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,626 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,626 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,628 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies
2025-06-28 17:06:16,632 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies - Status: 500
2025-06-28 17:06:16,633 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,635 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,642 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,642 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,660 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,662 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,662 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,662 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,662 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,663 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,672 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,674 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,674 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,675 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,676 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies/8e27b2a1-4dc5-459c-809f-09ca28f8caeb
2025-06-28 17:06:16,678 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies/8e27b2a1-4dc5-459c-809f-09ca28f8caeb - Status: 200
2025-06-28 17:06:16,680 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,680 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,689 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,690 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,710 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,710 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,710 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,722 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,722 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,723 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,725 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies/e544b429-b5ce-4379-894e-01a4104f229f
2025-06-28 17:06:16,726 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies/e544b429-b5ce-4379-894e-01a4104f229f - Status: 404
2025-06-28 17:06:16,728 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,729 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,731 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,731 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,759 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,760 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,760 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,760 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,760 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,761 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,770 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,770 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,774 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,774 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,775 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,776 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies/befaf12b-b560-4b3a-af74-143f193dc49e
2025-06-28 17:06:16,778 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies/befaf12b-b560-4b3a-af74-143f193dc49e - Status: 500
2025-06-28 17:06:16,780 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,781 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,790 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,790 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,814 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,815 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,815 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,815 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,818 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,820 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PUT /api/v1/strategies/0e3dba08-a60e-44d9-8147-408309fed0f4
2025-06-28 17:06:16,831 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PUT /api/v1/strategies/0e3dba08-a60e-44d9-8147-408309fed0f4 - Status: 200
2025-06-28 17:06:16,833 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,834 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,844 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,844 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,864 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,865 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,866 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,866 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,866 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,868 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,870 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,880 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PUT /api/v1/strategies/a6913a17-d984-4183-a8c6-e60317963df7
2025-06-28 17:06:16,883 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PUT /api/v1/strategies/a6913a17-d984-4183-a8c6-e60317963df7 - Status: 404
2025-06-28 17:06:16,884 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,885 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,894 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,894 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,920 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,920 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,922 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,922 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,923 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,933 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,933 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,933 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,933 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,935 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,935 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,935 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,936 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PUT /api/v1/strategies/eba0c723-49c6-40ed-a0f2-f289d8c9cd99
2025-06-28 17:06:16,939 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PUT /api/v1/strategies/eba0c723-49c6-40ed-a0f2-f289d8c9cd99 - Status: 422
2025-06-28 17:06:16,941 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,942 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:16,951 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:16,952 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:16,972 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:16,973 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:16,973 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,974 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,974 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,974 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:16,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:16,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:16,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:16,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:16,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:16,976 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:16,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:16,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:16,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:16,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:16,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:16,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:16,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:16,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:16,980 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:16,980 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:16,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:16,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:16,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:16,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:16,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:16,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:16,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:16,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:16,983 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:16,983 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:16,983 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:16,983 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:16,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:16,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:16,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:16,984 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:16,985 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:16,990 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PUT /api/v1/strategies/3960b95a-fdc1-41af-842a-77bdacc76a62
2025-06-28 17:06:16,990 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PUT /api/v1/strategies/3960b95a-fdc1-41af-842a-77bdacc76a62 - Status: 500
2025-06-28 17:06:16,993 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:16,993 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,000 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,000 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,032 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,034 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,040 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: DELETE /api/v1/strategies/d5ebfc03-7852-418b-8e5c-a4a51014deeb
2025-06-28 17:06:17,040 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: DELETE /api/v1/strategies/d5ebfc03-7852-418b-8e5c-a4a51014deeb - Status: 204
2025-06-28 17:06:17,040 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,045 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,050 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,050 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,072 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,072 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,072 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,073 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,073 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,073 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,074 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,081 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,084 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,084 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,085 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,086 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: DELETE /api/v1/strategies/417cb229-f44b-4604-8c84-fbf3d64e81e1
2025-06-28 17:06:17,088 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: DELETE /api/v1/strategies/417cb229-f44b-4604-8c84-fbf3d64e81e1 - Status: 404
2025-06-28 17:06:17,090 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,091 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,102 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,102 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,123 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,123 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,124 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,124 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,124 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,125 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,125 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,126 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,130 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,131 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,132 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,136 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,136 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,137 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,138 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: DELETE /api/v1/strategies/6eef63c0-4873-46a6-a9ee-ee1c18803bef
2025-06-28 17:06:17,139 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: DELETE /api/v1/strategies/6eef63c0-4873-46a6-a9ee-ee1c18803bef - Status: 500
2025-06-28 17:06:17,141 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,143 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,154 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,155 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,175 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,175 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,176 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,176 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,176 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,177 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,180 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,184 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,187 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,187 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,187 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,189 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/112ec13d-f723-4038-99f9-65778982a80d/activate
2025-06-28 17:06:17,191 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/112ec13d-f723-4038-99f9-65778982a80d/activate - Status: 200
2025-06-28 17:06:17,193 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,193 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,202 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,204 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,325 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,326 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,326 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,326 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,327 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,327 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,327 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,328 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,329 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,330 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,331 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,331 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,331 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,332 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,332 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,333 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,333 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,333 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,334 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,334 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,334 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,334 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,335 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,336 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,336 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,337 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,338 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,339 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,340 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,340 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,340 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/655d2461-a80c-4d49-afcf-8375c82d3a15/activate
2025-06-28 17:06:17,344 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/655d2461-a80c-4d49-afcf-8375c82d3a15/activate - Status: 404
2025-06-28 17:06:17,345 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,347 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,357 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,358 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,378 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,378 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,378 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,380 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,380 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,381 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,381 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,382 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,383 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,383 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,383 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,383 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,384 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,384 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,384 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,384 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,385 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,385 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,385 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,385 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,386 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,387 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,390 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,393 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/89bcec52-b5c2-4a6d-8b82-a78fc2d4560c/activate
2025-06-28 17:06:17,393 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/89bcec52-b5c2-4a6d-8b82-a78fc2d4560c/activate - Status: 422
2025-06-28 17:06:17,399 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,401 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,410 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,410 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,434 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,434 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,435 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,435 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,435 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,435 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,436 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,437 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,437 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,437 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,437 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,438 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,439 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,439 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,439 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,439 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,440 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,440 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,440 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,441 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,441 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,441 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,441 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,442 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,443 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,444 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,445 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,446 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,447 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,448 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,448 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,451 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/ac7bf5a5-6150-42a2-89de-46ce4f818fb2/activate
2025-06-28 17:06:17,453 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/ac7bf5a5-6150-42a2-89de-46ce4f818fb2/activate - Status: 500
2025-06-28 17:06:17,454 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,456 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,465 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,465 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,485 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,490 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,496 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,498 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,500 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,500 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,500 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,503 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/46927a5a-c56d-4183-af3f-4d6be70e6f1a/deactivate
2025-06-28 17:06:17,506 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/46927a5a-c56d-4183-af3f-4d6be70e6f1a/deactivate - Status: 200
2025-06-28 17:06:17,507 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,509 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,519 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,519 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,538 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,538 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,540 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,540 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,540 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,541 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,542 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,543 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,548 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,548 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,549 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,550 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,553 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,553 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,553 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,556 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/eaa36747-cff0-4310-96f7-cd32f56fa65a/deactivate
2025-06-28 17:06:17,556 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/eaa36747-cff0-4310-96f7-cd32f56fa65a/deactivate - Status: 404
2025-06-28 17:06:17,560 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,560 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,572 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,573 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,593 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,593 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,594 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,594 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,595 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,596 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,596 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,596 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,597 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,598 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,598 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,598 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,598 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,599 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,599 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,600 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,601 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,601 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,601 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,601 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,601 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,602 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,602 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,602 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,602 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,602 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,603 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,604 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,604 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,605 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,606 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,607 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,608 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,608 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,609 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,610 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/4467f138-784f-40b0-b63d-c3a974cb31fd/deactivate
2025-06-28 17:06:17,612 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/4467f138-784f-40b0-b63d-c3a974cb31fd/deactivate - Status: 422
2025-06-28 17:06:17,614 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,614 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,627 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,627 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,647 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,648 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,648 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,648 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,648 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,648 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,649 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,650 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,651 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,652 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,653 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,653 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,653 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,653 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,654 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,655 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,656 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,657 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,658 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,659 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,660 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,662 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,662 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,662 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,665 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: PATCH /api/v1/strategies/413e906b-00af-4c29-aba5-80499c534b6d/deactivate
2025-06-28 17:06:17,667 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: PATCH /api/v1/strategies/413e906b-00af-4c29-aba5-80499c534b6d/deactivate - Status: 500
2025-06-28 17:06:17,669 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,671 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,679 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,679 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,703 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,704 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,704 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,704 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,704 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,705 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,705 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,706 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,707 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,708 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,716 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,717 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,717 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,717 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,719 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies/active/paper
2025-06-28 17:06:17,721 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies/active/paper - Status: 200
2025-06-28 17:06:17,723 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,724 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,732 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,733 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,752 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,753 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,754 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,756 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,760 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,769 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,769 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,769 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,770 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies/active/real
2025-06-28 17:06:17,772 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies/active/real - Status: 200
2025-06-28 17:06:17,775 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,776 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 17:06:17,784 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 17:06:17,785 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 17:06:17,805 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 17:06:17,806 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 17:06:17,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 17:06:17,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 17:06:17,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 17:06:17,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 17:06:17,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 17:06:17,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 17:06:17,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 17:06:17,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 17:06:17,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 17:06:17,814 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 17:06:17,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 17:06:17,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 17:06:17,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 17:06:17,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 17:06:17,817 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 17:06:17,817 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 17:06:17,818 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 17:06:17,820 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: GET /api/v1/strategies/active/paper
2025-06-28 17:06:17,821 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: GET /api/v1/strategies/active/paper - Status: 500
2025-06-28 17:06:17,822 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 17:06:17,823 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
