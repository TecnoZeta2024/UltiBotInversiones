2025-06-21 09:06:47,267 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:47,270 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:47,272 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:47,297 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9A43380>
2025-06-21 09:06:47,298 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9A43380> completed
2025-06-21 09:06:47,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9A1B2E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9A41B20>, deterministic=True)
2025-06-21 09:06:47,299 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9A1B2E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9A41B20>, deterministic=True) completed
2025-06-21 09:06:47,299 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9A1B2E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:47,299 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9A1B2E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:47,300 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,300 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,300 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F440>, 'PRAGMA read_uncommitted', [])
2025-06-21 09:06:47,300 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F440>, 'PRAGMA read_uncommitted', []) completed
2025-06-21 09:06:47,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F440>)
2025-06-21 09:06:47,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F440>) completed
2025-06-21 09:06:47,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F440>)
2025-06-21 09:06:47,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F440>) completed
2025-06-21 09:06:47,302 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F540>, 'PRAGMA main.table_info("api_credentials")', ())
2025-06-21 09:06:47,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F540>, 'PRAGMA main.table_info("api_credentials")', ()) completed
2025-06-21 09:06:47,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F540>)
2025-06-21 09:06:47,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F540>) completed
2025-06-21 09:06:47,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F540>)
2025-06-21 09:06:47,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F540>) completed
2025-06-21 09:06:47,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F2C0>, 'PRAGMA main.table_info("user_configurations")', ())
2025-06-21 09:06:47,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F2C0>, 'PRAGMA main.table_info("user_configurations")', ()) completed
2025-06-21 09:06:47,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F2C0>)
2025-06-21 09:06:47,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F2C0>) completed
2025-06-21 09:06:47,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F2C0>)
2025-06-21 09:06:47,307 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F2C0>) completed
2025-06-21 09:06:47,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,307 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F5C0>, 'PRAGMA main.table_info("trades")', ())
2025-06-21 09:06:47,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F5C0>, 'PRAGMA main.table_info("trades")', ()) completed
2025-06-21 09:06:47,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F5C0>)
2025-06-21 09:06:47,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F5C0>) completed
2025-06-21 09:06:47,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F5C0>)
2025-06-21 09:06:47,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F5C0>) completed
2025-06-21 09:06:47,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,310 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F6C0>, 'PRAGMA main.table_info("portfolio_snapshots")', ())
2025-06-21 09:06:47,310 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F6C0>, 'PRAGMA main.table_info("portfolio_snapshots")', ()) completed
2025-06-21 09:06:47,310 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F6C0>)
2025-06-21 09:06:47,310 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F6C0>) completed
2025-06-21 09:06:47,310 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F6C0>)
2025-06-21 09:06:47,311 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F6C0>) completed
2025-06-21 09:06:47,311 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,311 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,311 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F840>, 'PRAGMA main.table_info("opportunities")', ())
2025-06-21 09:06:47,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F840>, 'PRAGMA main.table_info("opportunities")', ()) completed
2025-06-21 09:06:47,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F840>)
2025-06-21 09:06:47,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F840>) completed
2025-06-21 09:06:47,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F840>)
2025-06-21 09:06:47,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F840>) completed
2025-06-21 09:06:47,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F940>, 'PRAGMA main.table_info("strategy_configurations")', ())
2025-06-21 09:06:47,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3F940>, 'PRAGMA main.table_info("strategy_configurations")', ()) completed
2025-06-21 09:06:47,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F940>)
2025-06-21 09:06:47,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3F940>) completed
2025-06-21 09:06:47,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F940>)
2025-06-21 09:06:47,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3F940>) completed
2025-06-21 09:06:47,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3FA40>, 'PRAGMA main.table_info("market_data")', ())
2025-06-21 09:06:47,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9A3FA40>, 'PRAGMA main.table_info("market_data")', ()) completed
2025-06-21 09:06:47,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3FA40>)
2025-06-21 09:06:47,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9A3FA40>) completed
2025-06-21 09:06:47,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3FA40>)
2025-06-21 09:06:47,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9A3FA40>) completed
2025-06-21 09:06:47,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,731 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,731 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,732 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9CA87C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', '', 'closed', 100, 0))
2025-06-21 09:06:47,732 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:06:47,733 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,733 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,733 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:47,734 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:47,735 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:47,735 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,050 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,056 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,057 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,057 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E49040>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 'closed', 100, 0))
2025-06-21 09:06:48,057 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:06:48,058 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,058 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,058 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,059 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,060 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,060 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,068 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,075 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,076 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,076 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E4B940>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'real', 'closed', 100, 0))
2025-06-21 09:06:48,076 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:06:48,077 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,077 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,077 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,077 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,079 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,079 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,088 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,095 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,095 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E8D840>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', '', 'closed', 100, 0))
2025-06-21 09:06:48,096 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:06:48,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,096 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,098 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,098 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,109 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,115 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,115 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,115 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E18340>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 'closed', 100, 0))
2025-06-21 09:06:48,116 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:06:48,116 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,116 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,116 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,116 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,118 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,118 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,128 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,131 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:06:48,131 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:06:48,132 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,139 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1AF40>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', '', 'closed', 100, 0))
2025-06-21 09:06:48,140 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:06:48,140 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,141 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,141 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,142 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,142 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:06:48,152 - tests.conftest - INFO - db_engine fixture: Usando DATABASE_URL: sqlite+aiosqlite:///C:/Users/zamor/AppData/Local/Temp/tmp0385t10c/test_db.sqlite
2025-06-21 09:06:48,153 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9E122A0>
2025-06-21 09:06:48,153 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9E122A0> completed
2025-06-21 09:06:48,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,155 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,155 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1B8C0>, 'PRAGMA read_uncommitted', [])
2025-06-21 09:06:48,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1B8C0>, 'PRAGMA read_uncommitted', []) completed
2025-06-21 09:06:48,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1B8C0>)
2025-06-21 09:06:48,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1B8C0>) completed
2025-06-21 09:06:48,157 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1B8C0>)
2025-06-21 09:06:48,157 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1B8C0>) completed
2025-06-21 09:06:48,157 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,157 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,158 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,158 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,158 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BAC0>, 'PRAGMA main.table_info("api_credentials")', ())
2025-06-21 09:06:48,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BAC0>, 'PRAGMA main.table_info("api_credentials")', ()) completed
2025-06-21 09:06:48,159 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1BAC0>)
2025-06-21 09:06:48,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1BAC0>) completed
2025-06-21 09:06:48,159 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BAC0>)
2025-06-21 09:06:48,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BAC0>) completed
2025-06-21 09:06:48,160 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,160 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,160 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BDC0>, 'PRAGMA temp.table_info("api_credentials")', ())
2025-06-21 09:06:48,160 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BDC0>, 'PRAGMA temp.table_info("api_credentials")', ()) completed
2025-06-21 09:06:48,160 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1BDC0>)
2025-06-21 09:06:48,161 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1BDC0>) completed
2025-06-21 09:06:48,161 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BDC0>)
2025-06-21 09:06:48,161 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BDC0>) completed
2025-06-21 09:06:48,161 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,161 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,161 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1A1C0>, 'PRAGMA main.table_info("user_configurations")', ())
2025-06-21 09:06:48,162 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1A1C0>, 'PRAGMA main.table_info("user_configurations")', ()) completed
2025-06-21 09:06:48,162 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1A1C0>)
2025-06-21 09:06:48,162 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E1A1C0>) completed
2025-06-21 09:06:48,162 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1A1C0>)
2025-06-21 09:06:48,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1A1C0>) completed
2025-06-21 09:06:48,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E198C0>, 'PRAGMA temp.table_info("user_configurations")', ())
2025-06-21 09:06:48,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E198C0>, 'PRAGMA temp.table_info("user_configurations")', ()) completed
2025-06-21 09:06:48,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E198C0>)
2025-06-21 09:06:48,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E198C0>) completed
2025-06-21 09:06:48,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E198C0>)
2025-06-21 09:06:48,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E198C0>) completed
2025-06-21 09:06:48,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C0C0>, 'PRAGMA main.table_info("trades")', ())
2025-06-21 09:06:48,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C0C0>, 'PRAGMA main.table_info("trades")', ()) completed
2025-06-21 09:06:48,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C0C0>)
2025-06-21 09:06:48,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C0C0>) completed
2025-06-21 09:06:48,166 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C0C0>)
2025-06-21 09:06:48,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C0C0>) completed
2025-06-21 09:06:48,166 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,166 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,167 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C1C0>, 'PRAGMA temp.table_info("trades")', ())
2025-06-21 09:06:48,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C1C0>, 'PRAGMA temp.table_info("trades")', ()) completed
2025-06-21 09:06:48,167 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C1C0>)
2025-06-21 09:06:48,168 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C1C0>) completed
2025-06-21 09:06:48,168 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C1C0>)
2025-06-21 09:06:48,168 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C1C0>) completed
2025-06-21 09:06:48,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,169 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C240>, 'PRAGMA main.table_info("portfolio_snapshots")', ())
2025-06-21 09:06:48,170 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C240>, 'PRAGMA main.table_info("portfolio_snapshots")', ()) completed
2025-06-21 09:06:48,170 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C240>)
2025-06-21 09:06:48,170 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C240>) completed
2025-06-21 09:06:48,170 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C240>)
2025-06-21 09:06:48,171 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C240>) completed
2025-06-21 09:06:48,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,171 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C2C0>, 'PRAGMA temp.table_info("portfolio_snapshots")', ())
2025-06-21 09:06:48,171 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C2C0>, 'PRAGMA temp.table_info("portfolio_snapshots")', ()) completed
2025-06-21 09:06:48,172 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C2C0>)
2025-06-21 09:06:48,172 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C2C0>) completed
2025-06-21 09:06:48,172 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C2C0>)
2025-06-21 09:06:48,172 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C2C0>) completed
2025-06-21 09:06:48,172 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,173 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,173 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C3C0>, 'PRAGMA main.table_info("opportunities")', ())
2025-06-21 09:06:48,173 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C3C0>, 'PRAGMA main.table_info("opportunities")', ()) completed
2025-06-21 09:06:48,173 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C3C0>)
2025-06-21 09:06:48,174 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C3C0>) completed
2025-06-21 09:06:48,174 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C3C0>)
2025-06-21 09:06:48,174 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C3C0>) completed
2025-06-21 09:06:48,174 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,174 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C040>, 'PRAGMA temp.table_info("opportunities")', ())
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C040>, 'PRAGMA temp.table_info("opportunities")', ()) completed
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C040>)
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C040>) completed
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C040>)
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C040>) completed
2025-06-21 09:06:48,175 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,177 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,177 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C340>, 'PRAGMA main.table_info("strategy_configurations")', ())
2025-06-21 09:06:48,177 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C340>, 'PRAGMA main.table_info("strategy_configurations")', ()) completed
2025-06-21 09:06:48,177 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C340>)
2025-06-21 09:06:48,177 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C340>) completed
2025-06-21 09:06:48,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C340>)
2025-06-21 09:06:48,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C340>) completed
2025-06-21 09:06:48,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C4C0>, 'PRAGMA temp.table_info("strategy_configurations")', ())
2025-06-21 09:06:48,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C4C0>, 'PRAGMA temp.table_info("strategy_configurations")', ()) completed
2025-06-21 09:06:48,179 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C4C0>)
2025-06-21 09:06:48,179 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C4C0>) completed
2025-06-21 09:06:48,179 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C4C0>)
2025-06-21 09:06:48,179 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C4C0>) completed
2025-06-21 09:06:48,179 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C5C0>, 'PRAGMA main.table_info("market_data")', ())
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C5C0>, 'PRAGMA main.table_info("market_data")', ()) completed
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C5C0>)
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C5C0>) completed
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C5C0>)
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C5C0>) completed
2025-06-21 09:06:48,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,181 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,181 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C640>, 'PRAGMA temp.table_info("market_data")', ())
2025-06-21 09:06:48,181 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C640>, 'PRAGMA temp.table_info("market_data")', ()) completed
2025-06-21 09:06:48,182 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C640>)
2025-06-21 09:06:48,182 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C640>) completed
2025-06-21 09:06:48,182 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C640>)
2025-06-21 09:06:48,182 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C640>) completed
2025-06-21 09:06:48,183 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,183 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,183 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1B740>, '\nCREATE TABLE api_credentials (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tservice_name VARCHAR NOT NULL, \n\tcredential_label VARCHAR NOT NULL, \n\tencrypted_api_key TEXT NOT NULL, \n\tencrypted_api_secret TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:06:48,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1B740>, '\nCREATE TABLE api_credentials (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tservice_name VARCHAR NOT NULL, \n\tcredential_label VARCHAR NOT NULL, \n\tencrypted_api_key TEXT NOT NULL, \n\tencrypted_api_secret TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:06:48,189 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1B740>)
2025-06-21 09:06:48,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1B740>) completed
2025-06-21 09:06:48,190 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,190 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,190 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C440>, '\nCREATE TABLE user_configurations (\n\tid VARCHAR NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\ttelegram_chat_id VARCHAR, \n\tnotification_preferences TEXT, \n\tenable_telegram_notifications BOOLEAN NOT NULL, \n\tdefault_paper_trading_capital NUMERIC(18, 8) NOT NULL, \n\tpaper_trading_active BOOLEAN NOT NULL, \n\tpaper_trading_assets TEXT, \n\twatchlists TEXT, \n\tfavorite_pairs TEXT, \n\trisk_profile TEXT, \n\trisk_profile_settings TEXT, \n\treal_trading_settings TEXT, \n\tai_strategy_configurations TEXT, \n\tai_analysis_confidence_thresholds TEXT, \n\tmcp_server_preferences TEXT, \n\tselected_theme VARCHAR, \n\tdashboard_layout_profiles TEXT, \n\tactive_dashboard_layout_profile_id VARCHAR, \n\tdashboard_layout_config TEXT, \n\tcloud_sync_preferences TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tUNIQUE (user_id)\n)\n\n', ())
2025-06-21 09:06:48,192 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C440>, '\nCREATE TABLE user_configurations (\n\tid VARCHAR NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\ttelegram_chat_id VARCHAR, \n\tnotification_preferences TEXT, \n\tenable_telegram_notifications BOOLEAN NOT NULL, \n\tdefault_paper_trading_capital NUMERIC(18, 8) NOT NULL, \n\tpaper_trading_active BOOLEAN NOT NULL, \n\tpaper_trading_assets TEXT, \n\twatchlists TEXT, \n\tfavorite_pairs TEXT, \n\trisk_profile TEXT, \n\trisk_profile_settings TEXT, \n\treal_trading_settings TEXT, \n\tai_strategy_configurations TEXT, \n\tai_analysis_confidence_thresholds TEXT, \n\tmcp_server_preferences TEXT, \n\tselected_theme VARCHAR, \n\tdashboard_layout_profiles TEXT, \n\tactive_dashboard_layout_profile_id VARCHAR, \n\tdashboard_layout_config TEXT, \n\tcloud_sync_preferences TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tUNIQUE (user_id)\n)\n\n', ()) completed
2025-06-21 09:06:48,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C440>)
2025-06-21 09:06:48,193 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C440>) completed
2025-06-21 09:06:48,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,194 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,194 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E19E40>, '\nCREATE TABLE trades (\n\tid VARCHAR NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tstatus VARCHAR NOT NULL, \n\tposition_status VARCHAR NOT NULL, \n\tmode VARCHAR NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tclosed_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:06:48,195 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E19E40>, '\nCREATE TABLE trades (\n\tid VARCHAR NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tstatus VARCHAR NOT NULL, \n\tposition_status VARCHAR NOT NULL, \n\tmode VARCHAR NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tclosed_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:06:48,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E19E40>)
2025-06-21 09:06:48,197 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E19E40>) completed
2025-06-21 09:06:48,197 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,197 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,198 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BD40>, '\nCREATE TABLE portfolio_snapshots (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tdata TEXT NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:06:48,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BD40>, '\nCREATE TABLE portfolio_snapshots (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tdata TEXT NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:06:48,200 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BD40>)
2025-06-21 09:06:48,201 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BD40>) completed
2025-06-21 09:06:48,201 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,202 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,202 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1AFC0>, '\nCREATE TABLE opportunities (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tdetected_at DATETIME NOT NULL, \n\tsource_type VARCHAR NOT NULL, \n\tsource_name VARCHAR NOT NULL, \n\tsource_data TEXT, \n\tinitial_signal TEXT, \n\tsystem_calculated_priority_score FLOAT, \n\tlast_priority_calculation_at DATETIME, \n\tstatus VARCHAR NOT NULL, \n\tstatus_reason_code VARCHAR, \n\tstatus_reason_text TEXT, \n\tai_analysis TEXT, \n\tinvestigation_details TEXT, \n\tuser_feedback TEXT, \n\tlinked_trade_ids TEXT, \n\texpires_at DATETIME, \n\texpiration_logic TEXT, \n\tpost_trade_feedback TEXT, \n\tpost_facto_simulation_results TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tstrategy_id TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:06:48,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1AFC0>, '\nCREATE TABLE opportunities (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tdetected_at DATETIME NOT NULL, \n\tsource_type VARCHAR NOT NULL, \n\tsource_name VARCHAR NOT NULL, \n\tsource_data TEXT, \n\tinitial_signal TEXT, \n\tsystem_calculated_priority_score FLOAT, \n\tlast_priority_calculation_at DATETIME, \n\tstatus VARCHAR NOT NULL, \n\tstatus_reason_code VARCHAR, \n\tstatus_reason_text TEXT, \n\tai_analysis TEXT, \n\tinvestigation_details TEXT, \n\tuser_feedback TEXT, \n\tlinked_trade_ids TEXT, \n\texpires_at DATETIME, \n\texpiration_logic TEXT, \n\tpost_trade_feedback TEXT, \n\tpost_facto_simulation_results TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tstrategy_id TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:06:48,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1AFC0>)
2025-06-21 09:06:48,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1AFC0>) completed
2025-06-21 09:06:48,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BE40>, '\nCREATE TABLE strategy_configurations (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tconfig_name VARCHAR NOT NULL, \n\tbase_strategy_type VARCHAR NOT NULL, \n\tis_active_paper_mode BOOLEAN NOT NULL, \n\tis_active_real_mode BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:06:48,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BE40>, '\nCREATE TABLE strategy_configurations (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tconfig_name VARCHAR NOT NULL, \n\tbase_strategy_type VARCHAR NOT NULL, \n\tis_active_paper_mode BOOLEAN NOT NULL, \n\tis_active_real_mode BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:06:48,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BE40>)
2025-06-21 09:06:48,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BE40>) completed
2025-06-21 09:06:48,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1FCC0>, '\nCREATE TABLE market_data (\n\tid INTEGER NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tprice NUMERIC(18, 8) NOT NULL, \n\tvolume NUMERIC(18, 8) NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tsource VARCHAR NOT NULL, \n\thigh_24h NUMERIC(18, 8), \n\tlow_24h NUMERIC(18, 8), \n\tchange_24h NUMERIC(18, 8), \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:06:48,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1FCC0>, '\nCREATE TABLE market_data (\n\tid INTEGER NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tprice NUMERIC(18, 8) NOT NULL, \n\tvolume NUMERIC(18, 8) NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tsource VARCHAR NOT NULL, \n\thigh_24h NUMERIC(18, 8), \n\tlow_24h NUMERIC(18, 8), \n\tchange_24h NUMERIC(18, 8), \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:06:48,211 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1FCC0>)
2025-06-21 09:06:48,212 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1FCC0>) completed
2025-06-21 09:06:48,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1ECC0>, 'CREATE INDEX ix_market_data_symbol ON market_data (symbol)', ())
2025-06-21 09:06:48,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1ECC0>, 'CREATE INDEX ix_market_data_symbol ON market_data (symbol)', ()) completed
2025-06-21 09:06:48,216 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1ECC0>)
2025-06-21 09:06:48,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1ECC0>) completed
2025-06-21 09:06:48,216 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1E8C0>, "SELECT name FROM sqlite_master WHERE type='table';", ())
2025-06-21 09:06:48,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1E8C0>, "SELECT name FROM sqlite_master WHERE type='table';", ()) completed
2025-06-21 09:06:48,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1E8C0>)
2025-06-21 09:06:48,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1E8C0>) completed
2025-06-21 09:06:48,218 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1E8C0>)
2025-06-21 09:06:48,218 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1E8C0>) completed
2025-06-21 09:06:48,219 - tests.conftest - INFO - Tablas creadas en la base de datos: ['api_credentials', 'user_configurations', 'trades', 'portfolio_snapshots', 'opportunities', 'strategy_configurations', 'market_data']
2025-06-21 09:06:48,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:48,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:48,221 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,222 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9E12FC0>
2025-06-21 09:06:48,223 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9E12FC0> completed
2025-06-21 09:06:48,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FB50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FB50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FB50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FB50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,225 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD140>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,226 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD140>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD140>)
2025-06-21 09:06:48,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD140>) completed
2025-06-21 09:06:48,228 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD440>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD440>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD440>)
2025-06-21 09:06:48,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD440>) completed
2025-06-21 09:06:48,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD940>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD940>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD940>)
2025-06-21 09:06:48,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD940>) completed
2025-06-21 09:06:48,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD2C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFD2C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD2C0>)
2025-06-21 09:06:48,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFD2C0>) completed
2025-06-21 09:06:48,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,233 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFC3C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,233 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFC3C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,234 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFC3C0>)
2025-06-21 09:06:48,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFC3C0>) completed
2025-06-21 09:06:48,234 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1E9C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1E9C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1E9C0>)
2025-06-21 09:06:48,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1E9C0>) completed
2025-06-21 09:06:48,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFDBC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,236 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFDBC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFDBC0>)
2025-06-21 09:06:48,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFDBC0>) completed
2025-06-21 09:06:48,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,240 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7FB50>)
2025-06-21 09:06:48,240 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7FB50>) completed
2025-06-21 09:06:48,244 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,244 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E184C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:48,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E184C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:48,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E184C0>)
2025-06-21 09:06:48,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E184C0>) completed
2025-06-21 09:06:48,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E184C0>)
2025-06-21 09:06:48,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E184C0>) completed
2025-06-21 09:06:48,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,247 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,247 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,247 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,248 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,248 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,254 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,255 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED1120>
2025-06-21 09:06:48,257 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED1120> completed
2025-06-21 09:06:48,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C400>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C400>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C400>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C400>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,259 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,259 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFDF40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFDF40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFDF40>)
2025-06-21 09:06:48,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFDF40>) completed
2025-06-21 09:06:48,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C040>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C040>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C040>)
2025-06-21 09:06:48,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C040>) completed
2025-06-21 09:06:48,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFC3C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EFC3C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFC3C0>)
2025-06-21 09:06:48,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EFC3C0>) completed
2025-06-21 09:06:48,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C2C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C2C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C2C0>)
2025-06-21 09:06:48,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C2C0>) completed
2025-06-21 09:06:48,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C1C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C1C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C1C0>)
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C1C0>) completed
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C0C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C0C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C0C0>)
2025-06-21 09:06:48,267 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C0C0>) completed
2025-06-21 09:06:48,268 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,268 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,268 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1A1C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1A1C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1A1C0>)
2025-06-21 09:06:48,270 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1A1C0>) completed
2025-06-21 09:06:48,270 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,272 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,272 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,273 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,273 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C400>)
2025-06-21 09:06:48,273 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C400>) completed
2025-06-21 09:06:48,275 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,275 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,278 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C3C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:48,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C3C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:48,279 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C3C0>)
2025-06-21 09:06:48,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F1C3C0>) completed
2025-06-21 09:06:48,279 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C3C0>)
2025-06-21 09:06:48,280 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C3C0>) completed
2025-06-21 09:06:48,281 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,281 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,281 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1AFC0>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (500.5, '2025-06-21 13:06:48.280332', 'da377bb3-349a-45fc-b024-784f5880c352'))
2025-06-21 09:06:48,282 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1AFC0>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (500.5, '2025-06-21 13:06:48.280332', 'da377bb3-349a-45fc-b024-784f5880c352')) completed
2025-06-21 09:06:48,282 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1AFC0>)
2025-06-21 09:06:48,282 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1AFC0>) completed
2025-06-21 09:06:48,283 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,285 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,287 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,287 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,288 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,288 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,290 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,290 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,292 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,293 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED2340>
2025-06-21 09:06:48,294 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED2340> completed
2025-06-21 09:06:48,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CA90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CA90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CA90>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CA90>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,296 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,296 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,296 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BDC0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,297 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BDC0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,297 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BDC0>)
2025-06-21 09:06:48,297 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BDC0>) completed
2025-06-21 09:06:48,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,298 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BB40>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,298 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BB40>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,299 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BB40>)
2025-06-21 09:06:48,299 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BB40>) completed
2025-06-21 09:06:48,299 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,299 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,299 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1B740>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,300 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1B740>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,300 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1B740>)
2025-06-21 09:06:48,300 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1B740>) completed
2025-06-21 09:06:48,300 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E198C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E198C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E198C0>)
2025-06-21 09:06:48,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E198C0>) completed
2025-06-21 09:06:48,302 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E184C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E184C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E184C0>)
2025-06-21 09:06:48,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E184C0>) completed
2025-06-21 09:06:48,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1A1C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1A1C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1A1C0>)
2025-06-21 09:06:48,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1A1C0>) completed
2025-06-21 09:06:48,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E19E40>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E19E40>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E19E40>)
2025-06-21 09:06:48,307 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E19E40>) completed
2025-06-21 09:06:48,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3CA90>)
2025-06-21 09:06:48,310 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3CA90>) completed
2025-06-21 09:06:48,312 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,312 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F54D40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:48,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F54D40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:48,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F54D40>)
2025-06-21 09:06:48,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F54D40>) completed
2025-06-21 09:06:48,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F54D40>)
2025-06-21 09:06:48,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F54D40>) completed
2025-06-21 09:06:48,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C1C0>, 'UPDATE user_configurations SET updated_at=? WHERE user_configurations.id = ?', ('2025-06-21 13:06:48.315975', 'da377bb3-349a-45fc-b024-784f5880c352'))
2025-06-21 09:06:48,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F1C1C0>, 'UPDATE user_configurations SET updated_at=? WHERE user_configurations.id = ?', ('2025-06-21 13:06:48.315975', 'da377bb3-349a-45fc-b024-784f5880c352')) completed
2025-06-21 09:06:48,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C1C0>)
2025-06-21 09:06:48,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F1C1C0>) completed
2025-06-21 09:06:48,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,323 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,323 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,328 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,329 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED04A0>
2025-06-21 09:06:48,330 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED04A0> completed
2025-06-21 09:06:48,330 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C5E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,331 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C5E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,331 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C5E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,331 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C5E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,332 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,332 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,332 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F54F40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,333 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F54F40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,333 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F54F40>)
2025-06-21 09:06:48,333 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F54F40>) completed
2025-06-21 09:06:48,334 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,334 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,334 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F558C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,334 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F558C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F558C0>)
2025-06-21 09:06:48,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F558C0>) completed
2025-06-21 09:06:48,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F552C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,337 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F552C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F552C0>)
2025-06-21 09:06:48,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F552C0>) completed
2025-06-21 09:06:48,338 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,339 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55840>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,339 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55840>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,339 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55840>)
2025-06-21 09:06:48,339 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55840>) completed
2025-06-21 09:06:48,340 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,340 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,340 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55140>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,341 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55140>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,341 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55140>)
2025-06-21 09:06:48,341 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55140>) completed
2025-06-21 09:06:48,341 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,342 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,342 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55BC0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,342 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55BC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,342 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55BC0>)
2025-06-21 09:06:48,342 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55BC0>) completed
2025-06-21 09:06:48,343 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,343 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,343 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F555C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,343 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F555C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,344 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F555C0>)
2025-06-21 09:06:48,344 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F555C0>) completed
2025-06-21 09:06:48,344 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,346 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,347 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,347 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,347 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C5E0>)
2025-06-21 09:06:48,347 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C5E0>) completed
2025-06-21 09:06:48,350 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,350 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,351 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,351 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,352 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F553C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:48,353 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F553C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:48,353 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F553C0>)
2025-06-21 09:06:48,353 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9F553C0>) completed
2025-06-21 09:06:48,354 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F553C0>)
2025-06-21 09:06:48,354 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F553C0>) completed
2025-06-21 09:06:48,355 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,355 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,355 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F565C0>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (25000.0, '2025-06-21 13:06:48.354537', 'da377bb3-349a-45fc-b024-784f5880c352'))
2025-06-21 09:06:48,356 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F565C0>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (25000.0, '2025-06-21 13:06:48.354537', 'da377bb3-349a-45fc-b024-784f5880c352')) completed
2025-06-21 09:06:48,356 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F565C0>)
2025-06-21 09:06:48,357 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F565C0>) completed
2025-06-21 09:06:48,357 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,358 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,358 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>)
2025-06-21 09:06:48,359 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9A1B2E0>) completed
2025-06-21 09:06:48,360 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,360 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:06:48,364 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,365 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED2CA0>
2025-06-21 09:06:48,367 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED2CA0> completed
2025-06-21 09:06:48,367 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,368 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,368 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,368 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,370 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F54EC0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,371 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F54EC0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,371 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F54EC0>)
2025-06-21 09:06:48,371 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F54EC0>) completed
2025-06-21 09:06:48,372 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,372 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,372 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F557C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,372 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F557C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F557C0>)
2025-06-21 09:06:48,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F557C0>) completed
2025-06-21 09:06:48,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,374 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55F40>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,374 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55F40>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,375 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55F40>)
2025-06-21 09:06:48,375 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55F40>) completed
2025-06-21 09:06:48,376 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,377 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,377 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55C40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,378 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55C40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,378 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55C40>)
2025-06-21 09:06:48,378 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55C40>) completed
2025-06-21 09:06:48,379 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,379 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,379 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55B40>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,379 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55B40>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55B40>)
2025-06-21 09:06:48,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55B40>) completed
2025-06-21 09:06:48,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55D40>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,381 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F55D40>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55D40>)
2025-06-21 09:06:48,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F55D40>) completed
2025-06-21 09:06:48,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,383 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F566C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9F566C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,385 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F566C0>)
2025-06-21 09:06:48,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9F566C0>) completed
2025-06-21 09:06:48,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,391 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,394 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:06:48,394 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:06:48,396 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,411 - test_real_trading_flow - DEBUG - OCO call args side: sell
2025-06-21 09:06:48,412 - test_real_trading_flow - DEBUG - OCO call args: call(user_id=UUID('9e00b950-2d60-47ce-83c5-abcdee09de12'), symbol='BTCUSDT', side='sell', quantity=Decimal('0.003333333333333333333333333333'), price=Decimal('61800.000'), stop_price=Decimal('59100.0000'), limit_price=Decimal('61800.000'), trading_mode='real', api_key='key', api_secret='secret')
2025-06-21 09:06:48,413 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,426 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,429 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,443 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,444 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED0360>
2025-06-21 09:06:48,445 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED0360> completed
2025-06-21 09:06:48,446 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,446 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,446 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,446 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,447 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,447 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,448 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA51C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,449 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA51C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,449 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA51C0>)
2025-06-21 09:06:48,449 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA51C0>) completed
2025-06-21 09:06:48,450 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,450 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,450 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA5640>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,451 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA5640>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,451 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA5640>)
2025-06-21 09:06:48,451 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA5640>) completed
2025-06-21 09:06:48,452 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,452 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,453 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA55C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,453 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA55C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,454 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA55C0>)
2025-06-21 09:06:48,454 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA55C0>) completed
2025-06-21 09:06:48,455 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,455 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,455 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA5940>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,456 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA5940>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,456 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA5940>)
2025-06-21 09:06:48,456 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA5940>) completed
2025-06-21 09:06:48,456 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,456 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,456 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA59C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,457 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA59C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,457 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA59C0>)
2025-06-21 09:06:48,457 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA59C0>) completed
2025-06-21 09:06:48,457 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,458 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,458 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA58C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,458 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA58C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,459 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA58C0>)
2025-06-21 09:06:48,459 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA58C0>) completed
2025-06-21 09:06:48,459 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,459 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,459 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA5B40>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,460 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA5B40>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,460 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA5B40>)
2025-06-21 09:06:48,460 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9FA5B40>) completed
2025-06-21 09:06:48,460 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,463 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,463 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,464 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,464 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:48,464 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:48,465 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED3920>
2025-06-21 09:06:48,466 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED3920> completed
2025-06-21 09:06:48,466 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,466 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,467 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,467 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C220>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,467 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,468 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,468 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9FA6040>, '\n            INSERT INTO trades (id, user_id, symbol, mode, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "ea22e344-5253-4e40-85c6-ddd6ccef5d08", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:06:48.465032+00:00"}}', '2025-06-21T13:06:48.465032+00:00', '2025-06-21T13:06:48.465032+00:00', '2025-06-21T13:06:48.465032+00:00'))
2025-06-21 09:06:48,469 - aiosqlite - DEBUG - returning exception NOT NULL constraint failed: trades.status
2025-06-21 09:06:48,773 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,774 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,774 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,774 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,775 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C220>)
2025-06-21 09:06:48,775 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C220>) completed
2025-06-21 09:06:48,776 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:48,778 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9E12F20>
2025-06-21 09:06:48,778 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9E12F20> completed
2025-06-21 09:06:48,779 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FA60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,779 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FA60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,779 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FA60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,779 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7FA60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,780 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,780 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,780 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907640>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:48,781 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907640>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:48,781 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907640>)
2025-06-21 09:06:48,781 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907640>) completed
2025-06-21 09:06:48,782 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,782 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,782 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9079C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:48,782 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9079C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:48,783 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9079C0>)
2025-06-21 09:06:48,783 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9079C0>) completed
2025-06-21 09:06:48,784 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,784 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,784 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9077C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:48,784 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9077C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:48,784 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9077C0>)
2025-06-21 09:06:48,785 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9077C0>) completed
2025-06-21 09:06:48,785 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,786 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,786 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9076C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:48,786 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9076C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:48,787 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9076C0>)
2025-06-21 09:06:48,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9076C0>) completed
2025-06-21 09:06:48,787 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,789 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907740>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:48,789 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907740>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:48,789 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907740>)
2025-06-21 09:06:48,789 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907740>) completed
2025-06-21 09:06:48,790 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,790 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,791 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907540>, 'DELETE FROM market_data', ())
2025-06-21 09:06:48,791 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907540>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:48,791 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907540>)
2025-06-21 09:06:48,791 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907540>) completed
2025-06-21 09:06:48,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,792 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907AC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:48,792 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907AC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:48,793 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907AC0>)
2025-06-21 09:06:48,793 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907AC0>) completed
2025-06-21 09:06:48,793 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,796 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,796 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,796 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,796 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7FA60>)
2025-06-21 09:06:48,797 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7FA60>) completed
2025-06-21 09:06:48,798 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F983F1A0>
2025-06-21 09:06:48,799 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F983F1A0> completed
2025-06-21 09:06:48,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:48,800 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7D6C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:48,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7D6C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:48,800 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7D6C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:48,801 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7D6C0>)
2025-06-21 09:06:48,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7D6C0>) completed
2025-06-21 09:06:48,801 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB906FC0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "c57fd171-7160-43c6-95f2-2aaa312a9cb4", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:06:48.797549+00:00"}}', '2025-06-21T13:06:48.797549+00:00', '2025-06-21T13:06:48.797549+00:00', '2025-06-21T13:06:48.797549+00:00'))
2025-06-21 09:06:48,802 - aiosqlite - DEBUG - returning exception NOT NULL constraint failed: trades.status
2025-06-21 09:06:49,073 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7D6C0>)
2025-06-21 09:06:49,074 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7D6C0>) completed
2025-06-21 09:06:49,074 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7D6C0>)
2025-06-21 09:06:49,075 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7D6C0>) completed
2025-06-21 09:06:49,075 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7D6C0>)
2025-06-21 09:06:49,075 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7D6C0>) completed
2025-06-21 09:06:49,077 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,078 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205C1FE7920>
2025-06-21 09:06:49,079 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205C1FE7920> completed
2025-06-21 09:06:49,079 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E5C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:49,079 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E5C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:49,079 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E5C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:49,080 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E5C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:49,080 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,080 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,080 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C340>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:49,082 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C340>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:49,082 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66C340>)
2025-06-21 09:06:49,083 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66C340>) completed
2025-06-21 09:06:49,083 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,083 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,083 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C140>, 'DELETE FROM trades', ())
2025-06-21 09:06:49,084 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C140>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:49,084 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66C140>)
2025-06-21 09:06:49,084 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66C140>) completed
2025-06-21 09:06:49,085 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,086 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,086 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66DB40>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:49,087 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66DB40>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:49,087 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66DB40>)
2025-06-21 09:06:49,087 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66DB40>) completed
2025-06-21 09:06:49,088 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,088 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,088 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66DA40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:49,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66DA40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:49,089 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66DA40>)
2025-06-21 09:06:49,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66DA40>) completed
2025-06-21 09:06:49,089 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66DAC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:49,090 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66DAC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:49,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66DAC0>)
2025-06-21 09:06:49,090 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66DAC0>) completed
2025-06-21 09:06:49,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,090 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,092 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66D9C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:49,092 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66D9C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:49,092 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66D9C0>)
2025-06-21 09:06:49,092 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66D9C0>) completed
2025-06-21 09:06:49,093 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,093 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,093 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C2C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:49,093 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C2C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:49,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66C2C0>)
2025-06-21 09:06:49,094 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB66C2C0>) completed
2025-06-21 09:06:49,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,096 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,096 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,097 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E5C0>)
2025-06-21 09:06:49,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E5C0>) completed
2025-06-21 09:06:49,098 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9ED0F40>
2025-06-21 09:06:49,099 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9ED0F40> completed
2025-06-21 09:06:49,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E200>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:49,099 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E200>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:49,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E200>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:49,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E200>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:49,100 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E200>)
2025-06-21 09:06:49,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E200>) completed
2025-06-21 09:06:49,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB66C840>, '\n            INSERT INTO trades (id, user_id, symbol, mode, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "cfaddb45-3778-4d3a-b7a1-d9a6465e5dcc", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:06:49.097308+00:00"}}', '2025-06-21T13:06:49.097308+00:00', '2025-06-21T13:06:49.097308+00:00', '2025-06-21T13:06:49.097308+00:00'))
2025-06-21 09:06:49,101 - aiosqlite - DEBUG - returning exception NOT NULL constraint failed: trades.status
2025-06-21 09:06:49,367 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E200>)
2025-06-21 09:06:49,367 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E200>) completed
2025-06-21 09:06:49,368 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E200>)
2025-06-21 09:06:49,368 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E200>) completed
2025-06-21 09:06:49,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E200>)
2025-06-21 09:06:49,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E200>) completed
2025-06-21 09:06:49,370 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,372 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F983DD00>
2025-06-21 09:06:49,373 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F983DD00> completed
2025-06-21 09:06:49,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E7A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:49,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E7A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:49,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E7A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:49,374 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E7A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:49,374 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,374 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,374 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7133C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:49,377 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7133C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:49,378 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7133C0>)
2025-06-21 09:06:49,378 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7133C0>) completed
2025-06-21 09:06:49,378 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,378 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,379 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9DD5EC0>, 'DELETE FROM trades', ())
2025-06-21 09:06:49,379 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9DD5EC0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:49,379 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9DD5EC0>)
2025-06-21 09:06:49,379 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9DD5EC0>) completed
2025-06-21 09:06:49,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713C40>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:49,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713C40>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:49,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713C40>)
2025-06-21 09:06:49,381 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713C40>) completed
2025-06-21 09:06:49,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,381 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7139C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:49,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7139C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:49,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7139C0>)
2025-06-21 09:06:49,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7139C0>) completed
2025-06-21 09:06:49,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,383 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713BC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:49,383 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713BC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:49,383 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713BC0>)
2025-06-21 09:06:49,383 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713BC0>) completed
2025-06-21 09:06:49,384 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,384 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713540>, 'DELETE FROM market_data', ())
2025-06-21 09:06:49,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713540>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:49,385 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713540>)
2025-06-21 09:06:49,385 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713540>) completed
2025-06-21 09:06:49,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713D40>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:49,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB713D40>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:49,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713D40>)
2025-06-21 09:06:49,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB713D40>) completed
2025-06-21 09:06:49,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,389 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E7A0>)
2025-06-21 09:06:49,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E7A0>) completed
2025-06-21 09:06:49,391 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9DBF600>
2025-06-21 09:06:49,392 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9DBF600> completed
2025-06-21 09:06:49,393 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:49,393 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:49,393 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:49,393 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7F790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:49,394 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:49,394 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:49,394 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1DB840>, '\n            INSERT INTO trades (id, user_id, symbol, mode, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "9eeba659-1cdf-4280-b89e-6ab48076836b", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:06:49.391744+00:00"}}', '2025-06-21T13:06:49.391744+00:00', '2025-06-21T13:06:49.391744+00:00', '2025-06-21T13:06:49.391744+00:00'))
2025-06-21 09:06:49,395 - aiosqlite - DEBUG - returning exception NOT NULL constraint failed: trades.status
2025-06-21 09:06:49,659 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:49,659 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:49,660 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:49,660 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:49,660 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7F790>)
2025-06-21 09:06:49,661 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7F790>) completed
2025-06-21 09:06:49,860 - ultibot_ui.services.api_client - DEBUG - APIClient singleton inicializado con base URL: http://test-backend:8000
2025-06-21 09:06:49,860 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,860 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,862 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para cc9041bc-e7a8-47d2-a6cf-8f38d4966aa1, modo: paper
2025-06-21 09:06:49,863 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,864 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,865 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el símbolo BTCUSDT.
2025-06-21 09:06:49,866 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,866 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,867 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el símbolo BTCUSDT.
2025-06-21 09:06:49,867 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,868 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,870 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-21 09:06:49,871 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,872 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,875 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para e654ffa5-244c-44cf-92de-84486205b58c en modo paper.
2025-06-21 09:06:49,875 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para e654ffa5-244c-44cf-92de-84486205b58c en modo real.
2025-06-21 09:06:49,876 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,876 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:49,876 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:49,877 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:49,878 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,878 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:49,878 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:49,879 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:49,879 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:06:49,880 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,880 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:49,880 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:49,880 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,881 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 89b10a2d-020f-4cbf-82e5-d263223bd1ba, modo: paper
2025-06-21 09:06:49,882 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el símbolo BTCUSDT.
2025-06-21 09:06:49,883 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:49,883 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:49,883 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:49,883 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,885 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:49,888 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 3edceaf2-e3ef-4305-9aa0-36e63caa065d, modo: real
2025-06-21 09:06:49,889 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el símbolo BTCUSDT.
2025-06-21 09:06:49,893 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,901 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:49,909 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,056 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,074 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,090 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,108 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,115 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,120 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,122 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205F9F34D60>
2025-06-21 09:06:50,122 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205F9F34D60> completed
2025-06-21 09:06:50,123 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E890>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,123 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E890>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,123 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E890>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,124 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E890>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,124 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,124 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,125 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907240>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,126 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907240>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,126 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907240>)
2025-06-21 09:06:50,126 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907240>) completed
2025-06-21 09:06:50,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,127 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9069C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,127 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9069C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9069C0>)
2025-06-21 09:06:50,127 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9069C0>) completed
2025-06-21 09:06:50,128 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,128 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,128 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9075C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,128 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9075C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,129 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9075C0>)
2025-06-21 09:06:50,129 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9075C0>) completed
2025-06-21 09:06:50,129 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,129 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,130 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB906E40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,130 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB906E40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,130 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB906E40>)
2025-06-21 09:06:50,130 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB906E40>) completed
2025-06-21 09:06:50,131 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,131 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,131 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907140>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB907140>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907140>)
2025-06-21 09:06:50,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB907140>) completed
2025-06-21 09:06:50,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB906140>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB906140>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB906140>)
2025-06-21 09:06:50,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB906140>) completed
2025-06-21 09:06:50,134 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,134 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,134 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9072C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB9072C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,135 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9072C0>)
2025-06-21 09:06:50,136 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB9072C0>) completed
2025-06-21 09:06:50,136 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,139 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E890>)
2025-06-21 09:06:50,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E890>) completed
2025-06-21 09:06:50,150 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA04C680>
2025-06-21 09:06:50,152 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA04C680> completed
2025-06-21 09:06:50,153 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E110>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,153 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E110>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E110>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9E7E110>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,155 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,155 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,155 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA197D40>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA197D40>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA197D40>)
2025-06-21 09:06:50,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA197D40>) completed
2025-06-21 09:06:50,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA197D40>)
2025-06-21 09:06:50,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA197D40>) completed
2025-06-21 09:06:50,162 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,162 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E19540>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('0e96bdec-5332-4a17-a73d-e0eb942ffaaf',))
2025-06-21 09:06:50,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E19540>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('0e96bdec-5332-4a17-a73d-e0eb942ffaaf',)) completed
2025-06-21 09:06:50,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E19540>)
2025-06-21 09:06:50,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9E19540>) completed
2025-06-21 09:06:50,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E19540>)
2025-06-21 09:06:50,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E19540>) completed
2025-06-21 09:06:50,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EABCC0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:50,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9EABCC0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:50,167 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9EABCC0>)
2025-06-21 09:06:50,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205F9EABCC0>) completed
2025-06-21 09:06:50,167 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EABCC0>)
2025-06-21 09:06:50,167 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9EABCC0>) completed
2025-06-21 09:06:50,168 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,169 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,170 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205CB1936C0>, "SELECT * FROM user_configurations WHERE user_id = '0e96bdec-5332-4a17-a73d-e0eb942ffaaf' LIMIT 1", ())
2025-06-21 09:06:50,170 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205CB1936C0>, "SELECT * FROM user_configurations WHERE user_id = '0e96bdec-5332-4a17-a73d-e0eb942ffaaf' LIMIT 1", ()) completed
2025-06-21 09:06:50,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205CB1936C0>)
2025-06-21 09:06:50,171 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205CB1936C0>) completed
2025-06-21 09:06:50,171 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205CB1936C0>)
2025-06-21 09:06:50,172 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205CB1936C0>) completed
2025-06-21 09:06:50,175 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:06:50,176 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:06:50,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,178 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,178 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x00000205FA274840>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('cb034614-d050-4596-99bb-b60b21067bc6'), 'fcecabfc-7300-49ab-a2cf-74b32a0b1d44', '{"id":"cb034614-d050-4596-99bb-b60b21067bc6","user_id":"fcecabfc-7300-49ab-a2cf-74b32a0b1d44","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"7d563f76-714e-4be2-823b-bfd1b48a2e16","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.174369","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"27a52ae0-01f0-4411-bac1-296925576849","opportunityId":"80768b4c-ced7-403f-b3f8-fb81e00d4366","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.174369","opened_at":"2025-06-21T13:06:50.174369","updated_at":"2025-06-21T13:06:50.174369","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:06:50.174369', '2025-06-21 13:06:50.174369', None), (UUID('cb034614-d050-4596-99bb-b60b21067bc6'), 'fcecabfc-7300-49ab-a2cf-74b32a0b1d44', '{"id":"cb034614-d050-4596-99bb-b60b21067bc6","user_id":"fcecabfc-7300-49ab-a2cf-74b32a0b1d44","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"9c9e2db9-86c9-40c2-b30f-eb252063ce30","orderId_exchange":"mock_exchange_order_id_1504aafe-e180-4f07-8040-84c15faeaad9","clientOrderId_exchange":"mock_client_order_id_0a42b332-9933-4fe3-8555-5ebff8ad0eb0","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:06:50.175368","submittedAt":"2025-06-21T13:06:50.175368Z","fillTimestamp":"2025-06-21T13:06:50.175368Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"27a52ae0-01f0-4411-bac1-296925576849","opportunityId":"80768b4c-ced7-403f-b3f8-fb81e00d4366","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2224691882704\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.174369","opened_at":"2025-06-21T13:06:50.174369","updated_at":"2025-06-21T13:06:50.174369","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:06:50.174369', '2025-06-21 13:06:50.174369', None)])
2025-06-21 09:06:50,179 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:06:50,180 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,180 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E110>)
2025-06-21 09:06:50,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9E7E110>) completed
2025-06-21 09:06:50,206 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,207 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA07AB60>
2025-06-21 09:06:50,208 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA07AB60> completed
2025-06-21 09:06:50,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E8D3C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E8D3C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,211 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E8D3C0>)
2025-06-21 09:06:50,211 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E8D3C0>) completed
2025-06-21 09:06:50,212 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,212 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,212 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA275140>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,212 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA275140>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA275140>)
2025-06-21 09:06:50,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA275140>) completed
2025-06-21 09:06:50,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,214 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78B8C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,214 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78B8C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,214 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78B8C0>)
2025-06-21 09:06:50,214 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78B8C0>) completed
2025-06-21 09:06:50,214 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,215 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78B640>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,215 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78B640>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78B640>)
2025-06-21 09:06:50,215 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78B640>) completed
2025-06-21 09:06:50,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78BA40>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78BA40>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78BA40>)
2025-06-21 09:06:50,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78BA40>) completed
2025-06-21 09:06:50,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA2769C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA2769C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA2769C0>)
2025-06-21 09:06:50,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA2769C0>) completed
2025-06-21 09:06:50,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78BAC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB78BAC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78BAC0>)
2025-06-21 09:06:50,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB78BAC0>) completed
2025-06-21 09:06:50,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,225 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,232 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA07B240>
2025-06-21 09:06:50,233 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA07B240> completed
2025-06-21 09:06:50,234 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B66D40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B66D40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B66D40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B66D40>)
2025-06-21 09:06:50,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B66D40>) completed
2025-06-21 09:06:50,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E4C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E4C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA23E4C0>)
2025-06-21 09:06:50,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA23E4C0>) completed
2025-06-21 09:06:50,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E4C0>)
2025-06-21 09:06:50,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E4C0>) completed
2025-06-21 09:06:50,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B66D40>)
2025-06-21 09:06:50,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B66D40>) completed
2025-06-21 09:06:50,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B66D40>)
2025-06-21 09:06:50,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B66D40>) completed
2025-06-21 09:06:50,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B66D40>)
2025-06-21 09:06:50,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B66D40>) completed
2025-06-21 09:06:50,248 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,249 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA04F060>
2025-06-21 09:06:50,250 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA04F060> completed
2025-06-21 09:06:50,250 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,250 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,250 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,251 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B647C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,251 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,251 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,252 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BD40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,253 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205F9E1BD40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,254 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BD40>)
2025-06-21 09:06:50,254 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205F9E1BD40>) completed
2025-06-21 09:06:50,254 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,255 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,255 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E5C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,255 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E5C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,255 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E5C0>)
2025-06-21 09:06:50,256 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E5C0>) completed
2025-06-21 09:06:50,256 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,256 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,256 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E640>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,257 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E640>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E640>)
2025-06-21 09:06:50,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E640>) completed
2025-06-21 09:06:50,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,259 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DEC0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DEC0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,259 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DEC0>)
2025-06-21 09:06:50,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DEC0>) completed
2025-06-21 09:06:50,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E6C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E6C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E6C0>)
2025-06-21 09:06:50,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E6C0>) completed
2025-06-21 09:06:50,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E740>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E740>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E740>)
2025-06-21 09:06:50,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E740>) completed
2025-06-21 09:06:50,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA274CC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA274CC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA274CC0>)
2025-06-21 09:06:50,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA274CC0>) completed
2025-06-21 09:06:50,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B647C0>)
2025-06-21 09:06:50,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B647C0>) completed
2025-06-21 09:06:50,274 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA2640E0>
2025-06-21 09:06:50,276 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA2640E0> completed
2025-06-21 09:06:50,276 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,276 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,277 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3CC70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,277 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C6240>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,278 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C6240>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C6240>)
2025-06-21 09:06:50,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C6240>) completed
2025-06-21 09:06:50,279 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C6240>)
2025-06-21 09:06:50,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C6240>) completed
2025-06-21 09:06:50,284 - test_strategy_ai_trading_flow - INFO - AI analysis failed as expected, falling back to autonomous.
2025-06-21 09:06:50,285 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,286 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C73C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('1be77978-6c1a-4c80-b3ca-9b48a34ab8ce',))
2025-06-21 09:06:50,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C73C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('1be77978-6c1a-4c80-b3ca-9b48a34ab8ce',)) completed
2025-06-21 09:06:50,287 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C73C0>)
2025-06-21 09:06:50,287 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C73C0>) completed
2025-06-21 09:06:50,287 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C73C0>)
2025-06-21 09:06:50,287 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C73C0>) completed
2025-06-21 09:06:50,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,289 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,289 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C7AC0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:50,289 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C7AC0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:50,290 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C7AC0>)
2025-06-21 09:06:50,290 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C7AC0>) completed
2025-06-21 09:06:50,290 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C7AC0>)
2025-06-21 09:06:50,290 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C7AC0>) completed
2025-06-21 09:06:50,293 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,294 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,294 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C7F40>, 'INSERT INTO user_configurations (id, user_id, telegram_chat_id, notification_preferences, enable_telegram_notifications, default_paper_trading_capital, paper_trading_active, paper_trading_assets, watchlists, favorite_pairs, risk_profile, risk_profile_settings, real_trading_settings, ai_strategy_configurations, ai_analysis_confidence_thresholds, mcp_server_preferences, selected_theme, dashboard_layout_profiles, active_dashboard_layout_profile_id, dashboard_layout_config, cloud_sync_preferences, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3450e279-b2a1-4d15-9450-00827a2fc27e', '00000000-0000-0000-0000-000000000001', None, '[]', 0, 10000.0, 1, None, '[]', '["BTCUSDT", "ETHUSDT", "BNBUSDT"]', 'moderate', '{"daily_capital_risk_percentage":0.01,"per_trade_capital_risk_percentage":0.005,"max_drawdown_percentage":0.1}', '{"real_trading_mode_active":false,"real_trades_executed_count":0,"max_concurrent_operations":null,"daily_loss_limit_absolute":null,"daily_profit_target_absolute":null,"asset_specific_stop_loss":null,"auto_pause_trading_conditions":null,"daily_capital_risked_usd":"0.0","last_daily_reset":"2025-06-21T13:06:50.288755Z"}', '[]', '{"paper_trading":0.7,"real_trading":0.8}', '[]', 'dark', None, None, None, None, '2025-06-21 13:06:50.291757', '2025-06-21 13:06:50.291757'))
2025-06-21 09:06:50,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C7F40>, 'INSERT INTO user_configurations (id, user_id, telegram_chat_id, notification_preferences, enable_telegram_notifications, default_paper_trading_capital, paper_trading_active, paper_trading_assets, watchlists, favorite_pairs, risk_profile, risk_profile_settings, real_trading_settings, ai_strategy_configurations, ai_analysis_confidence_thresholds, mcp_server_preferences, selected_theme, dashboard_layout_profiles, active_dashboard_layout_profile_id, dashboard_layout_config, cloud_sync_preferences, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3450e279-b2a1-4d15-9450-00827a2fc27e', '00000000-0000-0000-0000-000000000001', None, '[]', 0, 10000.0, 1, None, '[]', '["BTCUSDT", "ETHUSDT", "BNBUSDT"]', 'moderate', '{"daily_capital_risk_percentage":0.01,"per_trade_capital_risk_percentage":0.005,"max_drawdown_percentage":0.1}', '{"real_trading_mode_active":false,"real_trades_executed_count":0,"max_concurrent_operations":null,"daily_loss_limit_absolute":null,"daily_profit_target_absolute":null,"asset_specific_stop_loss":null,"auto_pause_trading_conditions":null,"daily_capital_risked_usd":"0.0","last_daily_reset":"2025-06-21T13:06:50.288755Z"}', '[]', '{"paper_trading":0.7,"real_trading":0.8}', '[]', 'dark', None, None, None, None, '2025-06-21 13:06:50.291757', '2025-06-21 13:06:50.291757')) completed
2025-06-21 09:06:50,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C7F40>)
2025-06-21 09:06:50,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C7F40>) completed
2025-06-21 09:06:50,297 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,297 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB755040>, 'UPDATE opportunities SET status=?, status_reason_code=?, status_reason_text=?, updated_at=? WHERE opportunities.id = ?', ('under_evaluation', '1 potential trade decision(s) generated.', '1 potential trade decision(s) generated.', '2025-06-21 13:06:50.293757', '65c62731-088c-43e1-a728-04d30e736caa'))
2025-06-21 09:06:50,298 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB755040>, 'UPDATE opportunities SET status=?, status_reason_code=?, status_reason_text=?, updated_at=? WHERE opportunities.id = ?', ('under_evaluation', '1 potential trade decision(s) generated.', '1 potential trade decision(s) generated.', '2025-06-21 13:06:50.293757', '65c62731-088c-43e1-a728-04d30e736caa')) completed
2025-06-21 09:06:50,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB755040>)
2025-06-21 09:06:50,299 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB755040>) completed
2025-06-21 09:06:50,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3CC70>)
2025-06-21 09:06:50,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3CC70>) completed
2025-06-21 09:06:50,306 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,307 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA04FC40>
2025-06-21 09:06:50,308 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA04FC40> completed
2025-06-21 09:06:50,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B667A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B667A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B667A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9B667A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E5C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,310 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E5C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,310 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E5C0>)
2025-06-21 09:06:50,311 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E5C0>) completed
2025-06-21 09:06:50,311 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,311 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,311 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23F8C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23F8C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23F8C0>)
2025-06-21 09:06:50,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23F8C0>) completed
2025-06-21 09:06:50,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E6C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E6C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E6C0>)
2025-06-21 09:06:50,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E6C0>) completed
2025-06-21 09:06:50,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E640>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E640>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E640>)
2025-06-21 09:06:50,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E640>) completed
2025-06-21 09:06:50,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DEC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DEC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DEC0>)
2025-06-21 09:06:50,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DEC0>) completed
2025-06-21 09:06:50,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DBC0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DBC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DBC0>)
2025-06-21 09:06:50,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DBC0>) completed
2025-06-21 09:06:50,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,320 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E740>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E740>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E740>)
2025-06-21 09:06:50,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E740>) completed
2025-06-21 09:06:50,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,324 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,324 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,324 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,325 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B667A0>)
2025-06-21 09:06:50,325 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9B667A0>) completed
2025-06-21 09:06:50,332 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA266840>
2025-06-21 09:06:50,333 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA266840> completed
2025-06-21 09:06:50,334 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3D210>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,334 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3D210>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,334 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3D210>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3D210>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,335 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,337 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6602C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,337 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6602C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,338 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6602C0>)
2025-06-21 09:06:50,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6602C0>) completed
2025-06-21 09:06:50,338 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6602C0>)
2025-06-21 09:06:50,338 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6602C0>) completed
2025-06-21 09:06:50,345 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,345 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,345 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C52C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('5922111a-432e-4faa-ab29-5a340db308fd',))
2025-06-21 09:06:50,345 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C52C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('5922111a-432e-4faa-ab29-5a340db308fd',)) completed
2025-06-21 09:06:50,346 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C52C0>)
2025-06-21 09:06:50,346 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C52C0>) completed
2025-06-21 09:06:50,346 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C52C0>)
2025-06-21 09:06:50,346 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C52C0>) completed
2025-06-21 09:06:50,347 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,347 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,348 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C70C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:50,348 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C70C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:50,348 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C70C0>)
2025-06-21 09:06:50,348 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C70C0>) completed
2025-06-21 09:06:50,348 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C70C0>)
2025-06-21 09:06:50,349 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C70C0>) completed
2025-06-21 09:06:50,349 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,350 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,350 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C7540>, "SELECT * FROM user_configurations WHERE user_id = '5922111a-432e-4faa-ab29-5a340db308fd' LIMIT 1", ())
2025-06-21 09:06:50,350 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA1C7540>, "SELECT * FROM user_configurations WHERE user_id = '5922111a-432e-4faa-ab29-5a340db308fd' LIMIT 1", ()) completed
2025-06-21 09:06:50,351 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C7540>)
2025-06-21 09:06:50,351 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FA1C7540>) completed
2025-06-21 09:06:50,351 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C7540>)
2025-06-21 09:06:50,351 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA1C7540>) completed
2025-06-21 09:06:50,355 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:06:50,356 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:06:50,357 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,357 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,358 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x00000205FA23E0C0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('48eb1714-1107-4b3d-ac87-0f7c7f186679'), '07b02845-75a4-49ae-8b1a-3d77d236587e', '{"id":"48eb1714-1107-4b3d-ac87-0f7c7f186679","user_id":"07b02845-75a4-49ae-8b1a-3d77d236587e","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"0be4be5e-6cb5-44bf-878e-8374a115f8a5","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.354430","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"c8c3448d-4bff-4a95-9ff4-b1aee8915ec3","opportunityId":"ac440532-bbf4-4155-a540-709610ee168a","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.354430","opened_at":"2025-06-21T13:06:50.354430","updated_at":"2025-06-21T13:06:50.354430","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:06:50.354430', '2025-06-21 13:06:50.354430', None), (UUID('48eb1714-1107-4b3d-ac87-0f7c7f186679'), '07b02845-75a4-49ae-8b1a-3d77d236587e', '{"id":"48eb1714-1107-4b3d-ac87-0f7c7f186679","user_id":"07b02845-75a4-49ae-8b1a-3d77d236587e","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"abf3fe7f-0b7f-4ed5-8c89-e36577a32037","orderId_exchange":"mock_exchange_order_id_e46de244-08e3-4a49-beea-8b07536fe430","clientOrderId_exchange":"mock_client_order_id_37855f5a-2c57-4cac-83d5-e6393760a7bc","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:06:50.355429","submittedAt":"2025-06-21T13:06:50.355429Z","fillTimestamp":"2025-06-21T13:06:50.355429Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"c8c3448d-4bff-4a95-9ff4-b1aee8915ec3","opportunityId":"ac440532-bbf4-4155-a540-709610ee168a","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2224694672016\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.354430","opened_at":"2025-06-21T13:06:50.354430","updated_at":"2025-06-21T13:06:50.354430","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:06:50.354430', '2025-06-21 13:06:50.354430', None)])
2025-06-21 09:06:50,359 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:06:50,359 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,360 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,376 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,377 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,377 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3D210>)
2025-06-21 09:06:50,377 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3D210>) completed
2025-06-21 09:06:50,378 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,379 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA266020>
2025-06-21 09:06:50,380 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA266020> completed
2025-06-21 09:06:50,380 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3DA80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,380 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3DA80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3DA80>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,381 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3DA80>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,381 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,381 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E140>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,382 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E140>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,382 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E140>)
2025-06-21 09:06:50,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E140>) completed
2025-06-21 09:06:50,384 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,384 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,385 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E9C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,385 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E9C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E9C0>)
2025-06-21 09:06:50,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E9C0>) completed
2025-06-21 09:06:50,386 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,386 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DFC0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DFC0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,387 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DFC0>)
2025-06-21 09:06:50,387 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DFC0>) completed
2025-06-21 09:06:50,388 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,388 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,388 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23EFC0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,388 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23EFC0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,389 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23EFC0>)
2025-06-21 09:06:50,389 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23EFC0>) completed
2025-06-21 09:06:50,389 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,389 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E3C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23E3C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,390 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E3C0>)
2025-06-21 09:06:50,390 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23E3C0>) completed
2025-06-21 09:06:50,391 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,391 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23F0C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23F0C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,391 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23F0C0>)
2025-06-21 09:06:50,391 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23F0C0>) completed
2025-06-21 09:06:50,393 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,393 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,393 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23D9C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,393 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23D9C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,393 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23D9C0>)
2025-06-21 09:06:50,394 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23D9C0>) completed
2025-06-21 09:06:50,394 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,396 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,396 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,396 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,396 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3DA80>)
2025-06-21 09:06:50,397 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3DA80>) completed
2025-06-21 09:06:50,406 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FA264680>
2025-06-21 09:06:50,406 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FA264680> completed
2025-06-21 09:06:50,407 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,407 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,407 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F010>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,408 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F010>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,408 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,408 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,408 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7560C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,409 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7560C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,409 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB7560C0>)
2025-06-21 09:06:50,409 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB7560C0>) completed
2025-06-21 09:06:50,409 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7560C0>)
2025-06-21 09:06:50,410 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7560C0>) completed
2025-06-21 09:06:50,415 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,415 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,415 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688240>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('f21c6d32-401c-47bb-a67a-9368aaa7b436',))
2025-06-21 09:06:50,415 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688240>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('f21c6d32-401c-47bb-a67a-9368aaa7b436',)) completed
2025-06-21 09:06:50,416 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB688240>)
2025-06-21 09:06:50,416 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB688240>) completed
2025-06-21 09:06:50,416 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688240>)
2025-06-21 09:06:50,416 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688240>) completed
2025-06-21 09:06:50,418 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,418 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,418 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688840>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:50,418 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688840>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:50,419 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB688840>)
2025-06-21 09:06:50,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB688840>) completed
2025-06-21 09:06:50,419 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688840>)
2025-06-21 09:06:50,420 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688840>) completed
2025-06-21 09:06:50,421 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,421 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,421 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6887C0>, "SELECT * FROM user_configurations WHERE user_id = 'f21c6d32-401c-47bb-a67a-9368aaa7b436' LIMIT 1", ())
2025-06-21 09:06:50,422 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6887C0>, "SELECT * FROM user_configurations WHERE user_id = 'f21c6d32-401c-47bb-a67a-9368aaa7b436' LIMIT 1", ()) completed
2025-06-21 09:06:50,422 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6887C0>)
2025-06-21 09:06:50,422 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6887C0>) completed
2025-06-21 09:06:50,422 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6887C0>)
2025-06-21 09:06:50,423 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6887C0>) completed
2025-06-21 09:06:50,426 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:06:50,427 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:06:50,428 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,428 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,429 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x00000205FB68B140>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('0e27adc3-5624-4efc-8951-20473224d4ac'), 'fb906ad1-95aa-4abc-8cab-3f9bf5461420', '{"id":"0e27adc3-5624-4efc-8951-20473224d4ac","user_id":"fb906ad1-95aa-4abc-8cab-3f9bf5461420","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"d99c9e8c-9947-40df-ba77-1355787f1ab2","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.425102","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"7d463a83-054c-4e7e-b03e-3a92649c9699","opportunityId":"2d18a9d3-04ef-4f68-a21c-59e92a393e50","aiAnalysisConfidence":"0.7","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.425102","opened_at":"2025-06-21T13:06:50.425102","updated_at":"2025-06-21T13:06:50.425102","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:06:50.425102', '2025-06-21 13:06:50.425102', None), (UUID('0e27adc3-5624-4efc-8951-20473224d4ac'), 'fb906ad1-95aa-4abc-8cab-3f9bf5461420', '{"id":"0e27adc3-5624-4efc-8951-20473224d4ac","user_id":"fb906ad1-95aa-4abc-8cab-3f9bf5461420","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"cf371cc8-0f1d-4fec-9182-867ee8d38d55","orderId_exchange":"mock_exchange_order_id_5adad0bd-12ec-46cf-bcc4-66dfcb92e847","clientOrderId_exchange":"mock_client_order_id_b5e5888c-743a-4d9a-aa4f-7963d6b2850e","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:06:50.426102","submittedAt":"2025-06-21T13:06:50.426102Z","fillTimestamp":"2025-06-21T13:06:50.426102Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"7d463a83-054c-4e7e-b03e-3a92649c9699","opportunityId":"2d18a9d3-04ef-4f68-a21c-59e92a393e50","aiAnalysisConfidence":"0.7","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2224690237072\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.425102","opened_at":"2025-06-21T13:06:50.425102","updated_at":"2025-06-21T13:06:50.425102","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:06:50.425102', '2025-06-21 13:06:50.425102', None)])
2025-06-21 09:06:50,430 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:06:50,430 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,430 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,446 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,446 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,447 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3F010>)
2025-06-21 09:06:50,447 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3F010>) completed
2025-06-21 09:06:50,448 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,449 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB6611C0>
2025-06-21 09:06:50,450 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB6611C0> completed
2025-06-21 09:06:50,450 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3ED40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,450 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3ED40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,451 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3ED40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,451 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3ED40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,452 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,452 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,452 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7560C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,453 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7560C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,454 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7560C0>)
2025-06-21 09:06:50,454 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7560C0>) completed
2025-06-21 09:06:50,454 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,455 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,455 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68B1C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,455 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68B1C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,456 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68B1C0>)
2025-06-21 09:06:50,456 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68B1C0>) completed
2025-06-21 09:06:50,456 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,457 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,457 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB757C40>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,457 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB757C40>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,457 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB757C40>)
2025-06-21 09:06:50,457 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB757C40>) completed
2025-06-21 09:06:50,458 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,458 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,458 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A140>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,458 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A140>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,459 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A140>)
2025-06-21 09:06:50,459 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A140>) completed
2025-06-21 09:06:50,459 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,459 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,460 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688840>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,460 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688840>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,460 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688840>)
2025-06-21 09:06:50,460 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688840>) completed
2025-06-21 09:06:50,460 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,461 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,461 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688240>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,461 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688240>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,461 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688240>)
2025-06-21 09:06:50,461 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688240>) completed
2025-06-21 09:06:50,462 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,462 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,462 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DEC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,462 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FA23DEC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,462 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DEC0>)
2025-06-21 09:06:50,463 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FA23DEC0>) completed
2025-06-21 09:06:50,463 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,465 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,465 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,465 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,465 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3ED40>)
2025-06-21 09:06:50,466 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3ED40>) completed
2025-06-21 09:06:50,474 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB661D00>
2025-06-21 09:06:50,476 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB661D00> completed
2025-06-21 09:06:50,476 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3EF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,476 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3EF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,476 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3EF20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,477 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3EF20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,477 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,477 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,477 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB666640>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,478 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB666640>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,478 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB666640>)
2025-06-21 09:06:50,478 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB666640>) completed
2025-06-21 09:06:50,478 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB666640>)
2025-06-21 09:06:50,479 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB666640>) completed
2025-06-21 09:06:50,484 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,484 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,484 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6678C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('2bde549e-c143-4989-8fc6-5d99e2e6c40a',))
2025-06-21 09:06:50,485 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6678C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('2bde549e-c143-4989-8fc6-5d99e2e6c40a',)) completed
2025-06-21 09:06:50,485 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6678C0>)
2025-06-21 09:06:50,485 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6678C0>) completed
2025-06-21 09:06:50,487 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6678C0>)
2025-06-21 09:06:50,487 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6678C0>) completed
2025-06-21 09:06:50,488 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,488 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,488 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB667F40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:06:50,489 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB667F40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:06:50,489 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB667F40>)
2025-06-21 09:06:50,489 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB667F40>) completed
2025-06-21 09:06:50,489 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB667F40>)
2025-06-21 09:06:50,489 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB667F40>) completed
2025-06-21 09:06:50,490 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,490 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,491 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB667EC0>, "SELECT * FROM user_configurations WHERE user_id = '2bde549e-c143-4989-8fc6-5d99e2e6c40a' LIMIT 1", ())
2025-06-21 09:06:50,491 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB667EC0>, "SELECT * FROM user_configurations WHERE user_id = '2bde549e-c143-4989-8fc6-5d99e2e6c40a' LIMIT 1", ()) completed
2025-06-21 09:06:50,491 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB667EC0>)
2025-06-21 09:06:50,491 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB667EC0>) completed
2025-06-21 09:06:50,492 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB667EC0>)
2025-06-21 09:06:50,492 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB667EC0>) completed
2025-06-21 09:06:50,495 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:06:50,496 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:06:50,497 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,497 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,498 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x00000205FB742740>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('318eb362-c1bb-4d91-95eb-d8140331f523'), 'df15b315-99cc-4092-b7e4-86c1669ccbc0', '{"id":"318eb362-c1bb-4d91-95eb-d8140331f523","user_id":"df15b315-99cc-4092-b7e4-86c1669ccbc0","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"83b830f2-fa14-4b5a-91e8-1fbab1d3fca6","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.494467","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"dca9520d-c14e-422e-b66e-46b9b26adff5","opportunityId":"6b7c3d35-0cf4-486a-86fa-621a41c2ede4","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.494467","opened_at":"2025-06-21T13:06:50.494467","updated_at":"2025-06-21T13:06:50.494467","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:06:50.494467', '2025-06-21 13:06:50.494467', None), (UUID('318eb362-c1bb-4d91-95eb-d8140331f523'), 'df15b315-99cc-4092-b7e4-86c1669ccbc0', '{"id":"318eb362-c1bb-4d91-95eb-d8140331f523","user_id":"df15b315-99cc-4092-b7e4-86c1669ccbc0","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"ddd44108-4def-4b90-9cf5-99475b53009d","orderId_exchange":"mock_exchange_order_id_322fd421-67f9-4c93-9661-5bc892412948","clientOrderId_exchange":"mock_client_order_id_b45c0875-041f-4acc-8937-1bf7ee2fc72a","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:06:50.495469","submittedAt":"2025-06-21T13:06:50.495469Z","fillTimestamp":"2025-06-21T13:06:50.495469Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"dca9520d-c14e-422e-b66e-46b9b26adff5","opportunityId":"6b7c3d35-0cf4-486a-86fa-621a41c2ede4","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2224716703376\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.494467","opened_at":"2025-06-21T13:06:50.494467","updated_at":"2025-06-21T13:06:50.494467","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:06:50.494467', '2025-06-21 13:06:50.494467', None)])
2025-06-21 09:06:50,499 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:06:50,499 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,500 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,516 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,516 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,517 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3EF20>)
2025-06-21 09:06:50,517 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3EF20>) completed
2025-06-21 09:06:50,518 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,520 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB663C40>
2025-06-21 09:06:50,520 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB663C40> completed
2025-06-21 09:06:50,521 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,521 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,522 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3F790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,522 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,523 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688240>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,524 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB688240>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,524 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688240>)
2025-06-21 09:06:50,524 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB688240>) completed
2025-06-21 09:06:50,525 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,525 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742AC0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742AC0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,525 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742AC0>)
2025-06-21 09:06:50,525 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742AC0>) completed
2025-06-21 09:06:50,527 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,527 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,527 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A5C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,527 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A5C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A5C0>)
2025-06-21 09:06:50,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A5C0>) completed
2025-06-21 09:06:50,528 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A140>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A140>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A140>)
2025-06-21 09:06:50,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A140>) completed
2025-06-21 09:06:50,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB741840>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,530 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB741840>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,530 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB741840>)
2025-06-21 09:06:50,531 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB741840>) completed
2025-06-21 09:06:50,531 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,531 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,531 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742B40>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,532 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742B40>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,532 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742B40>)
2025-06-21 09:06:50,532 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742B40>) completed
2025-06-21 09:06:50,532 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,533 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,533 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6883C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,533 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6883C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,533 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6883C0>)
2025-06-21 09:06:50,534 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6883C0>) completed
2025-06-21 09:06:50,534 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,536 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,537 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,538 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,538 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3F790>)
2025-06-21 09:06:50,538 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3F790>) completed
2025-06-21 09:06:50,546 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB74C900>
2025-06-21 09:06:50,547 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB74C900> completed
2025-06-21 09:06:50,547 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E8D60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,547 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E8D60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,548 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E8D60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,548 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E8D60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,548 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E8D60>)
2025-06-21 09:06:50,548 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E8D60>) completed
2025-06-21 09:06:50,549 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F6040>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,549 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F6040>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,550 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6F6040>)
2025-06-21 09:06:50,550 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB6F6040>) completed
2025-06-21 09:06:50,550 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F6040>)
2025-06-21 09:06:50,550 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F6040>) completed
2025-06-21 09:06:50,559 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E8D60>)
2025-06-21 09:06:50,559 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E8D60>) completed
2025-06-21 09:06:50,560 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F7440>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('4033dec1-9e7f-4ecd-91e0-6b7db89ada2b'), 'ea4f4bfd-ac23-439d-9ad9-fe875ad1054e', '{"id":"4033dec1-9e7f-4ecd-91e0-6b7db89ada2b","user_id":"ea4f4bfd-ac23-439d-9ad9-fe875ad1054e","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"d013d175-52af-4602-997a-c9ddd088a72a","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.556593","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"4bf7d24d-b7e6-4a67-b83e-34beb82cbb0d","opportunityId":"db9edd75-d5e6-4d71-85f3-7050345a0a00","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.556593","opened_at":"2025-06-21T13:06:50.556593","updated_at":"2025-06-21T13:06:50.556593","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:06:50.556593', '2025-06-21 13:06:50.556593', None))
2025-06-21 09:06:50,561 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F7440>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('4033dec1-9e7f-4ecd-91e0-6b7db89ada2b'), 'ea4f4bfd-ac23-439d-9ad9-fe875ad1054e', '{"id":"4033dec1-9e7f-4ecd-91e0-6b7db89ada2b","user_id":"ea4f4bfd-ac23-439d-9ad9-fe875ad1054e","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"d013d175-52af-4602-997a-c9ddd088a72a","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.556593","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"4bf7d24d-b7e6-4a67-b83e-34beb82cbb0d","opportunityId":"db9edd75-d5e6-4d71-85f3-7050345a0a00","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.556593","opened_at":"2025-06-21T13:06:50.556593","updated_at":"2025-06-21T13:06:50.556593","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:06:50.556593', '2025-06-21 13:06:50.556593', None)) completed
2025-06-21 09:06:50,561 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F7440>)
2025-06-21 09:06:50,561 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F7440>) completed
2025-06-21 09:06:50,562 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1E8D60>)
2025-06-21 09:06:50,563 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1E8D60>) completed
2025-06-21 09:06:50,564 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1E8D60>)
2025-06-21 09:06:50,564 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1E8D60>) completed
2025-06-21 09:06:50,565 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1E8D60>)
2025-06-21 09:06:50,565 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1E8D60>) completed
2025-06-21 09:06:50,567 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,569 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB660720>
2025-06-21 09:06:50,571 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB660720> completed
2025-06-21 09:06:50,571 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C040>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,572 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C040>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,572 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C040>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,572 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3C040>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,573 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,573 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,573 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB741840>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,574 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB741840>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,574 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB741840>)
2025-06-21 09:06:50,574 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB741840>) completed
2025-06-21 09:06:50,575 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,575 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,575 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A5C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,576 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB68A5C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,576 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A5C0>)
2025-06-21 09:06:50,576 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB68A5C0>) completed
2025-06-21 09:06:50,576 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,576 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,576 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742CC0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,577 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742CC0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,577 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742CC0>)
2025-06-21 09:06:50,577 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742CC0>) completed
2025-06-21 09:06:50,577 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,577 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,578 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742B40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,578 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB742B40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,578 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742B40>)
2025-06-21 09:06:50,578 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB742B40>) completed
2025-06-21 09:06:50,579 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,579 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,579 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7439C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,579 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7439C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,580 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7439C0>)
2025-06-21 09:06:50,580 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7439C0>) completed
2025-06-21 09:06:50,580 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,580 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,581 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7427C0>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,581 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB7427C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,581 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7427C0>)
2025-06-21 09:06:50,581 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB7427C0>) completed
2025-06-21 09:06:50,582 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,582 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,582 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6659C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,582 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6659C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,582 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6659C0>)
2025-06-21 09:06:50,582 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6659C0>) completed
2025-06-21 09:06:50,584 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,586 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,586 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,587 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,587 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C040>)
2025-06-21 09:06:50,587 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3C040>) completed
2025-06-21 09:06:50,595 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB74D440>
2025-06-21 09:06:50,597 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB74D440> completed
2025-06-21 09:06:50,598 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EAF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,598 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EAF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,598 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EAF20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,599 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EAF20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,599 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1EAF20>)
2025-06-21 09:06:50,599 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1EAF20>) completed
2025-06-21 09:06:50,600 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5A4FC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,600 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5A4FC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,601 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB5A4FC0>)
2025-06-21 09:06:50,601 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB5A4FC0>) completed
2025-06-21 09:06:50,601 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5A4FC0>)
2025-06-21 09:06:50,602 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5A4FC0>) completed
2025-06-21 09:06:50,609 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1EAF20>)
2025-06-21 09:06:50,609 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1EAF20>) completed
2025-06-21 09:06:50,609 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5FC0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('a46dd968-3546-48ea-b393-159c374ca490'), '922308c0-6356-4693-971a-d59de0ee8e92', '{"id":"a46dd968-3546-48ea-b393-159c374ca490","user_id":"922308c0-6356-4693-971a-d59de0ee8e92","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"e022ecd2-1f75-4447-b288-780779dfe9a1","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.606517","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"75334c53-e53a-49c7-aa5c-05c0ba744bd3","opportunityId":"4646d360-ebd5-4206-bd23-5c0072450060","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":null,"trailingStopActivationPrice":null,"trailingStopCallbackRate":"0.005","currentStopPrice_tsl":null,"riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.606517","opened_at":"2025-06-21T13:06:50.606517","updated_at":"2025-06-21T13:06:50.606517","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:06:50.606517', '2025-06-21 13:06:50.606517', None))
2025-06-21 09:06:50,610 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5FC0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('a46dd968-3546-48ea-b393-159c374ca490'), '922308c0-6356-4693-971a-d59de0ee8e92', '{"id":"a46dd968-3546-48ea-b393-159c374ca490","user_id":"922308c0-6356-4693-971a-d59de0ee8e92","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"e022ecd2-1f75-4447-b288-780779dfe9a1","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:06:50.606517","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"75334c53-e53a-49c7-aa5c-05c0ba744bd3","opportunityId":"4646d360-ebd5-4206-bd23-5c0072450060","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":null,"trailingStopActivationPrice":null,"trailingStopCallbackRate":"0.005","currentStopPrice_tsl":null,"riskRewardAdjustments":[],"created_at":"2025-06-21T13:06:50.606517","opened_at":"2025-06-21T13:06:50.606517","updated_at":"2025-06-21T13:06:50.606517","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:06:50.606517', '2025-06-21 13:06:50.606517', None)) completed
2025-06-21 09:06:50,610 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5FC0>)
2025-06-21 09:06:50,611 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5FC0>) completed
2025-06-21 09:06:50,611 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1EAF20>)
2025-06-21 09:06:50,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1EAF20>) completed
2025-06-21 09:06:50,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1EAF20>)
2025-06-21 09:06:50,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1EAF20>) completed
2025-06-21 09:06:50,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1EAF20>)
2025-06-21 09:06:50,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1EAF20>) completed
2025-06-21 09:06:50,615 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,616 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB6616C0>
2025-06-21 09:06:50,618 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB6616C0> completed
2025-06-21 09:06:50,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3E7A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3E7A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3E7A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205F9F3E7A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,619 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,619 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,619 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F57C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:50,620 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F57C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:50,621 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F57C0>)
2025-06-21 09:06:50,621 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F57C0>) completed
2025-06-21 09:06:50,621 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,621 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5B40>, 'DELETE FROM trades', ())
2025-06-21 09:06:50,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5B40>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:50,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5B40>)
2025-06-21 09:06:50,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5B40>) completed
2025-06-21 09:06:50,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,623 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5440>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:50,624 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5440>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:50,624 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5440>)
2025-06-21 09:06:50,624 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5440>) completed
2025-06-21 09:06:50,624 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,625 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,625 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F61C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:50,625 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F61C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:50,625 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F61C0>)
2025-06-21 09:06:50,626 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F61C0>) completed
2025-06-21 09:06:50,626 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,626 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F7640>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:50,627 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F7640>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:50,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F7640>)
2025-06-21 09:06:50,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F7640>) completed
2025-06-21 09:06:50,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,629 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5840>, 'DELETE FROM market_data', ())
2025-06-21 09:06:50,629 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F5840>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:50,629 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5840>)
2025-06-21 09:06:50,629 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F5840>) completed
2025-06-21 09:06:50,630 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,630 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,630 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F69C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:50,630 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB6F69C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:50,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F69C0>)
2025-06-21 09:06:50,631 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB6F69C0>) completed
2025-06-21 09:06:50,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,633 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3E7A0>)
2025-06-21 09:06:50,634 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205F9F3E7A0>) completed
2025-06-21 09:06:50,642 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB74C400>
2025-06-21 09:06:50,643 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB74C400> completed
2025-06-21 09:06:50,643 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EB010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:50,643 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EB010>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:50,644 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EB010>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:50,644 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1EB010>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:50,644 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1EB010>)
2025-06-21 09:06:50,645 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1EB010>) completed
2025-06-21 09:06:50,645 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5A7CC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:06:50,645 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5A7CC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:06:50,646 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB5A7CC0>)
2025-06-21 09:06:50,646 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000205FB5A7CC0>) completed
2025-06-21 09:06:50,646 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5A7CC0>)
2025-06-21 09:06:50,646 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5A7CC0>) completed
2025-06-21 09:06:50,651 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1EB010>)
2025-06-21 09:06:50,651 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1EB010>) completed
2025-06-21 09:06:50,652 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1EB010>)
2025-06-21 09:06:50,652 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1EB010>) completed
2025-06-21 09:06:50,652 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1EB010>)
2025-06-21 09:06:50,653 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1EB010>) completed
2025-06-21 09:06:50,675 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:50,679 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-21 09:06:50,680 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-21 09:06:50,682 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-21 09:06:50,683 - ultibot_ui.main - INFO - Initializing or finding application window...
2025-06-21 09:06:50,684 - ultibot_ui.main - INFO - No existing MainWindow found. Creating a new one.
2025-06-21 09:06:50,684 - ultibot_ui.main - INFO - Stylesheet loaded successfully.
2025-06-21 09:06:50,685 - ultibot_ui.main - INFO - Fetching initial user configuration...
2025-06-21 09:06:50,685 - ultibot_ui.main - INFO - Configuration received for user ID: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
2025-06-21 09:06:50,686 - ultibot_ui.main - INFO - Main window created and shown.
2025-06-21 09:06:50,782 - ultibot_ui.main - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-21 09:06:50,782 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-21 09:06:50,797 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-21 09:06:50,799 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-21 09:06:50,799 - ultibot_ui.main - INFO - Iniciando cierre de la aplicación.
2025-06-21 09:06:50,799 - ultibot_ui.main - INFO - Aplicación cerrada.
2025-06-21 09:06:50,800 - qasync._QEventLoop - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-343' coro=<cleanup_resources() running at C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\main.py:104>>
2025-06-21 09:06:50,806 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,000 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,195 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,401 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,614 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,622 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,626 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,630 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,635 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,639 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,643 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,646 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,651 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,655 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,658 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000205FB602D40>
2025-06-21 09:06:51,659 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000205FB602D40> completed
2025-06-21 09:06:51,659 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E9C60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True)
2025-06-21 09:06:51,659 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E9C60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x00000205F9E12700>, deterministic=True) completed
2025-06-21 09:06:51,659 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E9C60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:06:51,660 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x00000205FA1E9C60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:06:51,660 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,660 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,661 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B2640>, 'DELETE FROM user_configurations', ())
2025-06-21 09:06:51,663 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B2640>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:06:51,663 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B2640>)
2025-06-21 09:06:51,663 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B2640>) completed
2025-06-21 09:06:51,664 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,664 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,664 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B19C0>, 'DELETE FROM trades', ())
2025-06-21 09:06:51,664 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B19C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:06:51,665 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B19C0>)
2025-06-21 09:06:51,665 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B19C0>) completed
2025-06-21 09:06:51,665 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,665 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,666 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B1A40>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:06:51,666 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B1A40>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:06:51,666 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B1A40>)
2025-06-21 09:06:51,666 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B1A40>) completed
2025-06-21 09:06:51,667 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,667 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,667 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B1B40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:06:51,667 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B1B40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:06:51,667 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B1B40>)
2025-06-21 09:06:51,668 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B1B40>) completed
2025-06-21 09:06:51,668 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,668 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,668 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B1C40>, 'DELETE FROM opportunities', ())
2025-06-21 09:06:51,669 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B1C40>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:06:51,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B1C40>)
2025-06-21 09:06:51,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B1C40>) completed
2025-06-21 09:06:51,670 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,670 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B2240>, 'DELETE FROM market_data', ())
2025-06-21 09:06:51,671 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B2240>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:06:51,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B2240>)
2025-06-21 09:06:51,671 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B2240>) completed
2025-06-21 09:06:51,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,671 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,672 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B05C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:06:51,672 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000205FB5B05C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:06:51,672 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B05C0>)
2025-06-21 09:06:51,672 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000205FB5B05C0>) completed
2025-06-21 09:06:51,673 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,675 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,675 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,675 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,676 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1E9C60>)
2025-06-21 09:06:51,676 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000205FA1E9C60>) completed
2025-06-21 09:06:51,685 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,689 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,694 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,697 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,699 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,703 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,717 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,727 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,733 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,741 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,750 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,758 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,765 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,774 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,780 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,787 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,792 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,796 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,802 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,808 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,813 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,817 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,824 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,829 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,834 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,842 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,849 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,856 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,862 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,868 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,875 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,879 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,883 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,889 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,895 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,908 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,908 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,909 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,909 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,910 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-21 09:06:51,911 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,911 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,912 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,912 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:06:51,913 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,913 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,914 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,914 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,915 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,915 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,916 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,916 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:06:51,917 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,917 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,917 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,918 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,918 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,920 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,920 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,920 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,921 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,922 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,923 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,923 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,923 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2224716311824'>
2025-06-21 09:06:51,924 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,924 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2224716311824'>
2025-06-21 09:06:51,924 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:06:51,925 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,925 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,925 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-21 09:06:51,927 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,927 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-21 09:06:51,927 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: failing_callback
2025-06-21 09:06:51,928 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,928 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,929 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,929 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,929 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,929 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-21 09:06:51,930 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,931 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,931 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-21 09:06:51,932 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,932 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,932 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:51,933 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,934 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,934 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:51,934 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,934 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,935 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,935 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:51,936 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:06:51,937 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:06:51,937 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:06:51,937 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:06:51,940 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,946 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,950 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,956 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,979 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:51,992 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,005 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,020 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,032 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,044 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,057 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,069 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:06:52,078 - tests.conftest - INFO - Motor de base de datos dispuesto.
2025-06-21 09:06:52,078 - tests.conftest - WARNING - Intento 1/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp0385t10c. Reintentando en 0.2s...
2025-06-21 09:06:52,280 - tests.conftest - WARNING - Intento 2/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp0385t10c. Reintentando en 0.2s...
2025-06-21 09:06:52,482 - tests.conftest - WARNING - Intento 3/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp0385t10c. Reintentando en 0.2s...
2025-06-21 09:06:52,683 - tests.conftest - WARNING - Intento 4/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp0385t10c. Reintentando en 0.2s...
2025-06-21 09:06:52,884 - tests.conftest - WARNING - Intento 5/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp0385t10c. Reintentando en 0.2s...
2025-06-21 09:06:53,086 - tests.conftest - ERROR - No se pudo eliminar el directorio temporal C:\Users\zamor\AppData\Local\Temp\tmp0385t10c después de 5 intentos.
2025-06-21 09:06:53,807 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-21 09:10:28,893 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:28,895 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:28,895 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:28,923 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B3C3380>
2025-06-21 09:10:28,925 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B3C3380> completed
2025-06-21 09:10:28,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B39B2E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B3C1B20>, deterministic=True)
2025-06-21 09:10:28,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B39B2E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B3C1B20>, deterministic=True) completed
2025-06-21 09:10:28,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B39B2E0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:28,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B39B2E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:28,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB4C0>, 'PRAGMA read_uncommitted', [])
2025-06-21 09:10:28,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB4C0>, 'PRAGMA read_uncommitted', []) completed
2025-06-21 09:10:28,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB4C0>)
2025-06-21 09:10:28,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB4C0>) completed
2025-06-21 09:10:28,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB4C0>)
2025-06-21 09:10:28,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB4C0>) completed
2025-06-21 09:10:28,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB5C0>, 'PRAGMA main.table_info("api_credentials")', ())
2025-06-21 09:10:28,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB5C0>, 'PRAGMA main.table_info("api_credentials")', ()) completed
2025-06-21 09:10:28,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB5C0>)
2025-06-21 09:10:28,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB5C0>) completed
2025-06-21 09:10:28,931 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB5C0>)
2025-06-21 09:10:28,931 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB5C0>) completed
2025-06-21 09:10:28,931 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,931 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB340>, 'PRAGMA main.table_info("user_configurations")', ())
2025-06-21 09:10:28,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB340>, 'PRAGMA main.table_info("user_configurations")', ()) completed
2025-06-21 09:10:28,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB340>)
2025-06-21 09:10:28,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB340>) completed
2025-06-21 09:10:28,933 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB340>)
2025-06-21 09:10:28,933 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB340>) completed
2025-06-21 09:10:28,933 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,933 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB640>, 'PRAGMA main.table_info("trades")', ())
2025-06-21 09:10:28,934 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB640>, 'PRAGMA main.table_info("trades")', ()) completed
2025-06-21 09:10:28,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB640>)
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB640>) completed
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB640>)
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB640>) completed
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB740>, 'PRAGMA main.table_info("portfolio_snapshots")', ())
2025-06-21 09:10:28,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB740>, 'PRAGMA main.table_info("portfolio_snapshots")', ()) completed
2025-06-21 09:10:28,937 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB740>)
2025-06-21 09:10:28,937 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB740>) completed
2025-06-21 09:10:28,937 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB740>)
2025-06-21 09:10:28,937 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB740>) completed
2025-06-21 09:10:28,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB8C0>, 'PRAGMA main.table_info("opportunities")', ())
2025-06-21 09:10:28,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB8C0>, 'PRAGMA main.table_info("opportunities")', ()) completed
2025-06-21 09:10:28,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB8C0>)
2025-06-21 09:10:28,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB8C0>) completed
2025-06-21 09:10:28,940 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB8C0>)
2025-06-21 09:10:28,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB8C0>) completed
2025-06-21 09:10:28,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB9C0>, 'PRAGMA main.table_info("strategy_configurations")', ())
2025-06-21 09:10:28,942 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BB9C0>, 'PRAGMA main.table_info("strategy_configurations")', ()) completed
2025-06-21 09:10:28,942 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB9C0>)
2025-06-21 09:10:28,942 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BB9C0>) completed
2025-06-21 09:10:28,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB9C0>)
2025-06-21 09:10:28,943 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BB9C0>) completed
2025-06-21 09:10:28,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,943 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BBAC0>, 'PRAGMA main.table_info("market_data")', ())
2025-06-21 09:10:28,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B3BBAC0>, 'PRAGMA main.table_info("market_data")', ()) completed
2025-06-21 09:10:28,944 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BBAC0>)
2025-06-21 09:10:28,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B3BBAC0>) completed
2025-06-21 09:10:28,944 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BBAC0>)
2025-06-21 09:10:28,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B3BBAC0>) completed
2025-06-21 09:10:28,945 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:28,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:28,946 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,353 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,353 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,353 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B628840>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', '', 'closed', 100, 0))
2025-06-21 09:10:29,354 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:29,354 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,355 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,355 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,355 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,357 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,357 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,644 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,652 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,652 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,653 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C50C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 'closed', 100, 0))
2025-06-21 09:10:29,653 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:29,654 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,654 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,654 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,654 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,655 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,655 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,664 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,671 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,672 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C79C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'real', 'closed', 100, 0))
2025-06-21 09:10:29,672 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:29,673 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,673 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,674 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,674 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,674 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,674 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=real "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,684 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,690 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,690 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8018C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', '', 'closed', 100, 0))
2025-06-21 09:10:29,691 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:29,692 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,692 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,692 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,693 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,694 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,694 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,704 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,711 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,712 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,712 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D03C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', 'paper', 'closed', 100, 0))
2025-06-21 09:10:29,712 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:29,713 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,713 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,713 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,713 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,715 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,715 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=paper "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,724 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,728 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:10:29,728 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies?mode=invalid_mode "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:10:29,729 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,735 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,735 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,735 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D2FC0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.mode = ? AND trades.position_status = ? ORDER BY trades.created_at DESC\n LIMIT ? OFFSET ?', ('00000000-0000-0000-0000-000000000001', '', 'closed', 100, 0))
2025-06-21 09:10:29,736 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:29,736 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,736 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,736 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,736 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,738 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,738 - httpx - INFO - HTTP Request: GET http://test/api/v1/performance/strategies "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:29,748 - tests.conftest - INFO - db_engine fixture: Usando DATABASE_URL: sqlite+aiosqlite:///C:/Users/zamor/AppData/Local/Temp/tmp_9fvm8u_/test_db.sqlite
2025-06-21 09:10:29,749 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B7CA2A0>
2025-06-21 09:10:29,750 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B7CA2A0> completed
2025-06-21 09:10:29,750 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FF790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:29,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FF790>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:29,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FF790>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:29,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FF790>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:29,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D39C0>, 'PRAGMA read_uncommitted', [])
2025-06-21 09:10:29,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D39C0>, 'PRAGMA read_uncommitted', []) completed
2025-06-21 09:10:29,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D39C0>)
2025-06-21 09:10:29,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D39C0>) completed
2025-06-21 09:10:29,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D39C0>)
2025-06-21 09:10:29,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D39C0>) completed
2025-06-21 09:10:29,753 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,753 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,754 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3BC0>, 'PRAGMA main.table_info("api_credentials")', ())
2025-06-21 09:10:29,754 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3BC0>, 'PRAGMA main.table_info("api_credentials")', ()) completed
2025-06-21 09:10:29,754 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D3BC0>)
2025-06-21 09:10:29,754 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D3BC0>) completed
2025-06-21 09:10:29,755 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3BC0>)
2025-06-21 09:10:29,755 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3BC0>) completed
2025-06-21 09:10:29,755 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,755 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,756 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D1940>, 'PRAGMA temp.table_info("api_credentials")', ())
2025-06-21 09:10:29,756 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D1940>, 'PRAGMA temp.table_info("api_credentials")', ()) completed
2025-06-21 09:10:29,757 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D1940>)
2025-06-21 09:10:29,758 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D1940>) completed
2025-06-21 09:10:29,758 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D1940>)
2025-06-21 09:10:29,758 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D1940>) completed
2025-06-21 09:10:29,758 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,759 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3EC0>, 'PRAGMA main.table_info("user_configurations")', ())
2025-06-21 09:10:29,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3EC0>, 'PRAGMA main.table_info("user_configurations")', ()) completed
2025-06-21 09:10:29,759 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D3EC0>)
2025-06-21 09:10:29,760 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D3EC0>) completed
2025-06-21 09:10:29,760 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3EC0>)
2025-06-21 09:10:29,760 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3EC0>) completed
2025-06-21 09:10:29,761 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,761 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,761 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3E40>, 'PRAGMA temp.table_info("user_configurations")', ())
2025-06-21 09:10:29,761 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3E40>, 'PRAGMA temp.table_info("user_configurations")', ()) completed
2025-06-21 09:10:29,761 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D3E40>)
2025-06-21 09:10:29,762 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D3E40>) completed
2025-06-21 09:10:29,762 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3E40>)
2025-06-21 09:10:29,762 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3E40>) completed
2025-06-21 09:10:29,762 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,763 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,763 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC040>, 'PRAGMA main.table_info("trades")', ())
2025-06-21 09:10:29,763 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC040>, 'PRAGMA main.table_info("trades")', ()) completed
2025-06-21 09:10:29,763 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC040>)
2025-06-21 09:10:29,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC040>) completed
2025-06-21 09:10:29,764 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC040>)
2025-06-21 09:10:29,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC040>) completed
2025-06-21 09:10:29,764 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,765 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC240>, 'PRAGMA temp.table_info("trades")', ())
2025-06-21 09:10:29,765 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC240>, 'PRAGMA temp.table_info("trades")', ()) completed
2025-06-21 09:10:29,765 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC240>)
2025-06-21 09:10:29,765 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC240>) completed
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC240>)
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC240>) completed
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC2C0>, 'PRAGMA main.table_info("portfolio_snapshots")', ())
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC2C0>, 'PRAGMA main.table_info("portfolio_snapshots")', ()) completed
2025-06-21 09:10:29,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC2C0>)
2025-06-21 09:10:29,767 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC2C0>) completed
2025-06-21 09:10:29,767 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC2C0>)
2025-06-21 09:10:29,767 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC2C0>) completed
2025-06-21 09:10:29,767 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,767 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,768 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC340>, 'PRAGMA temp.table_info("portfolio_snapshots")', ())
2025-06-21 09:10:29,768 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC340>, 'PRAGMA temp.table_info("portfolio_snapshots")', ()) completed
2025-06-21 09:10:29,768 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC340>)
2025-06-21 09:10:29,768 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC340>) completed
2025-06-21 09:10:29,769 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC340>)
2025-06-21 09:10:29,769 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC340>) completed
2025-06-21 09:10:29,769 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,769 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,769 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC440>, 'PRAGMA main.table_info("opportunities")', ())
2025-06-21 09:10:29,770 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC440>, 'PRAGMA main.table_info("opportunities")', ()) completed
2025-06-21 09:10:29,770 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC440>)
2025-06-21 09:10:29,770 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC440>) completed
2025-06-21 09:10:29,770 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC440>)
2025-06-21 09:10:29,771 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC440>) completed
2025-06-21 09:10:29,771 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,771 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,771 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC140>, 'PRAGMA temp.table_info("opportunities")', ())
2025-06-21 09:10:29,771 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC140>, 'PRAGMA temp.table_info("opportunities")', ()) completed
2025-06-21 09:10:29,772 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC140>)
2025-06-21 09:10:29,772 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC140>) completed
2025-06-21 09:10:29,772 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC140>)
2025-06-21 09:10:29,772 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC140>) completed
2025-06-21 09:10:29,773 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,773 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,774 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC3C0>, 'PRAGMA main.table_info("strategy_configurations")', ())
2025-06-21 09:10:29,774 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC3C0>, 'PRAGMA main.table_info("strategy_configurations")', ()) completed
2025-06-21 09:10:29,774 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC3C0>)
2025-06-21 09:10:29,775 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC3C0>) completed
2025-06-21 09:10:29,775 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC3C0>)
2025-06-21 09:10:29,775 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC3C0>) completed
2025-06-21 09:10:29,775 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,775 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,776 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC540>, 'PRAGMA temp.table_info("strategy_configurations")', ())
2025-06-21 09:10:29,776 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC540>, 'PRAGMA temp.table_info("strategy_configurations")', ()) completed
2025-06-21 09:10:29,776 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC540>)
2025-06-21 09:10:29,776 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC540>) completed
2025-06-21 09:10:29,777 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC540>)
2025-06-21 09:10:29,777 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC540>) completed
2025-06-21 09:10:29,777 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,777 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,777 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC640>, 'PRAGMA main.table_info("market_data")', ())
2025-06-21 09:10:29,778 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC640>, 'PRAGMA main.table_info("market_data")', ()) completed
2025-06-21 09:10:29,778 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC640>)
2025-06-21 09:10:29,778 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC640>) completed
2025-06-21 09:10:29,778 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC640>)
2025-06-21 09:10:29,779 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC640>) completed
2025-06-21 09:10:29,779 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,779 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,779 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC6C0>, 'PRAGMA temp.table_info("market_data")', ())
2025-06-21 09:10:29,780 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC6C0>, 'PRAGMA temp.table_info("market_data")', ()) completed
2025-06-21 09:10:29,780 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC6C0>)
2025-06-21 09:10:29,780 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC6C0>) completed
2025-06-21 09:10:29,780 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC6C0>)
2025-06-21 09:10:29,781 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC6C0>) completed
2025-06-21 09:10:29,781 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,782 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,782 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3840>, '\nCREATE TABLE api_credentials (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tservice_name VARCHAR NOT NULL, \n\tcredential_label VARCHAR NOT NULL, \n\tencrypted_api_key TEXT NOT NULL, \n\tencrypted_api_secret TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:10:29,785 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3840>, '\nCREATE TABLE api_credentials (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tservice_name VARCHAR NOT NULL, \n\tcredential_label VARCHAR NOT NULL, \n\tencrypted_api_key TEXT NOT NULL, \n\tencrypted_api_secret TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:10:29,785 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3840>)
2025-06-21 09:10:29,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3840>) completed
2025-06-21 09:10:29,787 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,787 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC4C0>, '\nCREATE TABLE user_configurations (\n\tid VARCHAR NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\ttelegram_chat_id VARCHAR, \n\tnotification_preferences TEXT, \n\tenable_telegram_notifications BOOLEAN NOT NULL, \n\tdefault_paper_trading_capital NUMERIC(18, 8) NOT NULL, \n\tpaper_trading_active BOOLEAN NOT NULL, \n\tpaper_trading_assets TEXT, \n\twatchlists TEXT, \n\tfavorite_pairs TEXT, \n\trisk_profile TEXT, \n\trisk_profile_settings TEXT, \n\treal_trading_settings TEXT, \n\tai_strategy_configurations TEXT, \n\tai_analysis_confidence_thresholds TEXT, \n\tmcp_server_preferences TEXT, \n\tselected_theme VARCHAR, \n\tdashboard_layout_profiles TEXT, \n\tactive_dashboard_layout_profile_id VARCHAR, \n\tdashboard_layout_config TEXT, \n\tcloud_sync_preferences TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tUNIQUE (user_id)\n)\n\n', ())
2025-06-21 09:10:29,790 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC4C0>, '\nCREATE TABLE user_configurations (\n\tid VARCHAR NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\ttelegram_chat_id VARCHAR, \n\tnotification_preferences TEXT, \n\tenable_telegram_notifications BOOLEAN NOT NULL, \n\tdefault_paper_trading_capital NUMERIC(18, 8) NOT NULL, \n\tpaper_trading_active BOOLEAN NOT NULL, \n\tpaper_trading_assets TEXT, \n\twatchlists TEXT, \n\tfavorite_pairs TEXT, \n\trisk_profile TEXT, \n\trisk_profile_settings TEXT, \n\treal_trading_settings TEXT, \n\tai_strategy_configurations TEXT, \n\tai_analysis_confidence_thresholds TEXT, \n\tmcp_server_preferences TEXT, \n\tselected_theme VARCHAR, \n\tdashboard_layout_profiles TEXT, \n\tactive_dashboard_layout_profile_id VARCHAR, \n\tdashboard_layout_config TEXT, \n\tcloud_sync_preferences TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id), \n\tUNIQUE (user_id)\n)\n\n', ()) completed
2025-06-21 09:10:29,791 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC4C0>)
2025-06-21 09:10:29,791 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC4C0>) completed
2025-06-21 09:10:29,791 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,792 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D2240>, '\nCREATE TABLE trades (\n\tid VARCHAR NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tstatus VARCHAR NOT NULL, \n\tposition_status VARCHAR NOT NULL, \n\tmode VARCHAR NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tclosed_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:10:29,794 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D2240>, '\nCREATE TABLE trades (\n\tid VARCHAR NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tstatus VARCHAR NOT NULL, \n\tposition_status VARCHAR NOT NULL, \n\tmode VARCHAR NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tclosed_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:10:29,794 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D2240>)
2025-06-21 09:10:29,794 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D2240>) completed
2025-06-21 09:10:29,795 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,795 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,795 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3DC0>, '\nCREATE TABLE portfolio_snapshots (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tdata TEXT NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:10:29,797 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3DC0>, '\nCREATE TABLE portfolio_snapshots (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tdata TEXT NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:10:29,798 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3DC0>)
2025-06-21 09:10:29,798 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3DC0>) completed
2025-06-21 09:10:29,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,799 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3040>, '\nCREATE TABLE opportunities (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tdetected_at DATETIME NOT NULL, \n\tsource_type VARCHAR NOT NULL, \n\tsource_name VARCHAR NOT NULL, \n\tsource_data TEXT, \n\tinitial_signal TEXT, \n\tsystem_calculated_priority_score FLOAT, \n\tlast_priority_calculation_at DATETIME, \n\tstatus VARCHAR NOT NULL, \n\tstatus_reason_code VARCHAR, \n\tstatus_reason_text TEXT, \n\tai_analysis TEXT, \n\tinvestigation_details TEXT, \n\tuser_feedback TEXT, \n\tlinked_trade_ids TEXT, \n\texpires_at DATETIME, \n\texpiration_logic TEXT, \n\tpost_trade_feedback TEXT, \n\tpost_facto_simulation_results TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tstrategy_id TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:10:29,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3040>, '\nCREATE TABLE opportunities (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tdetected_at DATETIME NOT NULL, \n\tsource_type VARCHAR NOT NULL, \n\tsource_name VARCHAR NOT NULL, \n\tsource_data TEXT, \n\tinitial_signal TEXT, \n\tsystem_calculated_priority_score FLOAT, \n\tlast_priority_calculation_at DATETIME, \n\tstatus VARCHAR NOT NULL, \n\tstatus_reason_code VARCHAR, \n\tstatus_reason_text TEXT, \n\tai_analysis TEXT, \n\tinvestigation_details TEXT, \n\tuser_feedback TEXT, \n\tlinked_trade_ids TEXT, \n\texpires_at DATETIME, \n\texpiration_logic TEXT, \n\tpost_trade_feedback TEXT, \n\tpost_facto_simulation_results TEXT, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tstrategy_id TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:10:29,801 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3040>)
2025-06-21 09:10:29,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3040>) completed
2025-06-21 09:10:29,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EE940>, '\nCREATE TABLE strategy_configurations (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tconfig_name VARCHAR NOT NULL, \n\tbase_strategy_type VARCHAR NOT NULL, \n\tis_active_paper_mode BOOLEAN NOT NULL, \n\tis_active_real_mode BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:10:29,804 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EE940>, '\nCREATE TABLE strategy_configurations (\n\tid TEXT NOT NULL, \n\tuser_id TEXT NOT NULL, \n\tdata TEXT NOT NULL, \n\tconfig_name VARCHAR NOT NULL, \n\tbase_strategy_type VARCHAR NOT NULL, \n\tis_active_paper_mode BOOLEAN NOT NULL, \n\tis_active_real_mode BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:10:29,804 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EE940>)
2025-06-21 09:10:29,805 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EE940>) completed
2025-06-21 09:10:29,805 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,805 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,806 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EFD40>, '\nCREATE TABLE market_data (\n\tid INTEGER NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tprice NUMERIC(18, 8) NOT NULL, \n\tvolume NUMERIC(18, 8) NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tsource VARCHAR NOT NULL, \n\thigh_24h NUMERIC(18, 8), \n\tlow_24h NUMERIC(18, 8), \n\tchange_24h NUMERIC(18, 8), \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-06-21 09:10:29,808 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EFD40>, '\nCREATE TABLE market_data (\n\tid INTEGER NOT NULL, \n\tsymbol VARCHAR NOT NULL, \n\tprice NUMERIC(18, 8) NOT NULL, \n\tvolume NUMERIC(18, 8) NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tsource VARCHAR NOT NULL, \n\thigh_24h NUMERIC(18, 8), \n\tlow_24h NUMERIC(18, 8), \n\tchange_24h NUMERIC(18, 8), \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-06-21 09:10:29,809 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EFD40>)
2025-06-21 09:10:29,809 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EFD40>) completed
2025-06-21 09:10:29,809 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,809 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,809 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EED40>, 'CREATE INDEX ix_market_data_symbol ON market_data (symbol)', ())
2025-06-21 09:10:29,812 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EED40>, 'CREATE INDEX ix_market_data_symbol ON market_data (symbol)', ()) completed
2025-06-21 09:10:29,813 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EED40>)
2025-06-21 09:10:29,813 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EED40>) completed
2025-06-21 09:10:29,813 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,814 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,814 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC0C0>, "SELECT name FROM sqlite_master WHERE type='table';", ())
2025-06-21 09:10:29,814 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC0C0>, "SELECT name FROM sqlite_master WHERE type='table';", ()) completed
2025-06-21 09:10:29,814 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC0C0>)
2025-06-21 09:10:29,815 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC0C0>) completed
2025-06-21 09:10:29,815 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC0C0>)
2025-06-21 09:10:29,815 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC0C0>) completed
2025-06-21 09:10:29,815 - tests.conftest - INFO - Tablas creadas en la base de datos: ['api_credentials', 'user_configurations', 'trades', 'portfolio_snapshots', 'opportunities', 'strategy_configurations', 'market_data']
2025-06-21 09:10:29,816 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,816 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,816 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,816 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,817 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FF790>)
2025-06-21 09:10:29,817 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FF790>) completed
2025-06-21 09:10:29,818 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,819 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B7CAFC0>
2025-06-21 09:10:29,820 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B7CAFC0> completed
2025-06-21 09:10:29,820 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FFB50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:29,820 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FFB50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:29,821 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FFB50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:29,821 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FFB50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:29,821 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,821 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,822 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8611C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:29,822 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8611C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:29,823 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8611C0>)
2025-06-21 09:10:29,823 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8611C0>) completed
2025-06-21 09:10:29,824 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,824 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,824 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8614C0>, 'DELETE FROM trades', ())
2025-06-21 09:10:29,824 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8614C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:29,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8614C0>)
2025-06-21 09:10:29,825 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8614C0>) completed
2025-06-21 09:10:29,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,825 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8619C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:29,827 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8619C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:29,827 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8619C0>)
2025-06-21 09:10:29,827 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8619C0>) completed
2025-06-21 09:10:29,828 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,828 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,828 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B861340>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:29,828 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B861340>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:29,829 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B861340>)
2025-06-21 09:10:29,829 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B861340>) completed
2025-06-21 09:10:29,829 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,830 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B860440>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:29,830 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B860440>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:29,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B860440>)
2025-06-21 09:10:29,830 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B860440>) completed
2025-06-21 09:10:29,831 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,831 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EEF40>, 'DELETE FROM market_data', ())
2025-06-21 09:10:29,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EEF40>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:29,832 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EEF40>)
2025-06-21 09:10:29,832 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EEF40>) completed
2025-06-21 09:10:29,832 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,832 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,832 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B861C40>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:29,833 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B861C40>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:29,833 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B861C40>)
2025-06-21 09:10:29,833 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B861C40>) completed
2025-06-21 09:10:29,833 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,834 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FFB50>)
2025-06-21 09:10:29,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FFB50>) completed
2025-06-21 09:10:29,840 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,840 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,840 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D0540>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:29,841 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D0540>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:29,841 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D0540>)
2025-06-21 09:10:29,841 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7D0540>) completed
2025-06-21 09:10:29,841 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D0540>)
2025-06-21 09:10:29,842 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D0540>) completed
2025-06-21 09:10:29,842 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,843 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,843 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,843 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,845 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,845 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,851 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,852 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D5120>
2025-06-21 09:10:29,853 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D5120> completed
2025-06-21 09:10:29,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C130>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:29,853 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C130>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:29,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C130>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:29,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C130>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:29,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B861040>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:29,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B861040>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:29,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B861040>)
2025-06-21 09:10:29,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B861040>) completed
2025-06-21 09:10:29,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC3C0>, 'DELETE FROM trades', ())
2025-06-21 09:10:29,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC3C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:29,858 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC3C0>)
2025-06-21 09:10:29,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC3C0>) completed
2025-06-21 09:10:29,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC2C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:29,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC2C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:29,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC2C0>)
2025-06-21 09:10:29,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC2C0>) completed
2025-06-21 09:10:29,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC240>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:29,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC240>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:29,861 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC240>)
2025-06-21 09:10:29,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC240>) completed
2025-06-21 09:10:29,861 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,862 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,862 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC440>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:29,862 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC440>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:29,862 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC440>)
2025-06-21 09:10:29,863 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC440>) completed
2025-06-21 09:10:29,863 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,863 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,863 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC040>, 'DELETE FROM market_data', ())
2025-06-21 09:10:29,864 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC040>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:29,864 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC040>)
2025-06-21 09:10:29,864 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC040>) completed
2025-06-21 09:10:29,864 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3EC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:29,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3EC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:29,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3EC0>)
2025-06-21 09:10:29,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3EC0>) completed
2025-06-21 09:10:29,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,869 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,869 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88C130>)
2025-06-21 09:10:29,869 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88C130>) completed
2025-06-21 09:10:29,871 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,871 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC140>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:29,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC140>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:29,875 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC140>)
2025-06-21 09:10:29,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8EC140>) completed
2025-06-21 09:10:29,876 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC140>)
2025-06-21 09:10:29,876 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC140>) completed
2025-06-21 09:10:29,877 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,877 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3040>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (500.5, '2025-06-21 13:10:29.876239', 'da377bb3-349a-45fc-b024-784f5880c352'))
2025-06-21 09:10:29,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3040>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (500.5, '2025-06-21 13:10:29.876239', 'da377bb3-349a-45fc-b024-784f5880c352')) completed
2025-06-21 09:10:29,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3040>)
2025-06-21 09:10:29,879 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3040>) completed
2025-06-21 09:10:29,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,881 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,881 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,882 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,883 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,883 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,884 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,884 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,885 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,888 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D6340>
2025-06-21 09:10:29,889 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D6340> completed
2025-06-21 09:10:29,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CB80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:29,889 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CB80>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:29,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CB80>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:29,889 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CB80>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:29,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,890 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D1940>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:29,891 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D1940>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:29,892 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D1940>)
2025-06-21 09:10:29,892 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D1940>) completed
2025-06-21 09:10:29,892 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,893 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,893 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3DC0>, 'DELETE FROM trades', ())
2025-06-21 09:10:29,893 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3DC0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:29,893 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3DC0>)
2025-06-21 09:10:29,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3DC0>) completed
2025-06-21 09:10:29,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3840>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:29,895 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3840>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:29,895 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3840>)
2025-06-21 09:10:29,895 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3840>) completed
2025-06-21 09:10:29,895 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,896 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3E40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:29,896 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3E40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:29,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3E40>)
2025-06-21 09:10:29,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3E40>) completed
2025-06-21 09:10:29,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D0540>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:29,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D0540>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:29,898 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D0540>)
2025-06-21 09:10:29,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D0540>) completed
2025-06-21 09:10:29,898 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3EC0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:29,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D3EC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:29,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3EC0>)
2025-06-21 09:10:29,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D3EC0>) completed
2025-06-21 09:10:29,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D32C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:29,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7D32C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:29,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D32C0>)
2025-06-21 09:10:29,901 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7D32C0>) completed
2025-06-21 09:10:29,901 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,902 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88CB80>)
2025-06-21 09:10:29,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88CB80>) completed
2025-06-21 09:10:29,907 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,907 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,909 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,909 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,909 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5640>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:29,909 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5640>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:29,910 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8E5640>)
2025-06-21 09:10:29,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8E5640>) completed
2025-06-21 09:10:29,910 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5640>)
2025-06-21 09:10:29,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5640>) completed
2025-06-21 09:10:29,911 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,911 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,912 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC240>, 'UPDATE user_configurations SET updated_at=? WHERE user_configurations.id = ?', ('2025-06-21 13:10:29.911334', 'da377bb3-349a-45fc-b024-784f5880c352'))
2025-06-21 09:10:29,912 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC240>, 'UPDATE user_configurations SET updated_at=? WHERE user_configurations.id = ?', ('2025-06-21 13:10:29.911334', 'da377bb3-349a-45fc-b024-784f5880c352')) completed
2025-06-21 09:10:29,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC240>)
2025-06-21 09:10:29,913 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC240>) completed
2025-06-21 09:10:29,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,917 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,917 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,921 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,922 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D44A0>
2025-06-21 09:10:29,924 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D44A0> completed
2025-06-21 09:10:29,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D3F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:29,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D3F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:29,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D3F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:29,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D3F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:29,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E4FC0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:29,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E4FC0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:29,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E4FC0>)
2025-06-21 09:10:29,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E4FC0>) completed
2025-06-21 09:10:29,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5940>, 'DELETE FROM trades', ())
2025-06-21 09:10:29,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5940>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:29,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5940>)
2025-06-21 09:10:29,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5940>) completed
2025-06-21 09:10:29,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5340>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:29,931 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5340>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:29,931 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5340>)
2025-06-21 09:10:29,931 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5340>) completed
2025-06-21 09:10:29,931 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,931 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E58C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:29,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E58C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:29,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E58C0>)
2025-06-21 09:10:29,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E58C0>) completed
2025-06-21 09:10:29,933 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,933 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,933 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E51C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:29,933 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E51C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:29,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E51C0>)
2025-06-21 09:10:29,934 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E51C0>) completed
2025-06-21 09:10:29,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,934 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5C40>, 'DELETE FROM market_data', ())
2025-06-21 09:10:29,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5C40>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:29,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5C40>)
2025-06-21 09:10:29,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5C40>) completed
2025-06-21 09:10:29,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5540>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:29,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5540>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:29,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5540>)
2025-06-21 09:10:29,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5540>) completed
2025-06-21 09:10:29,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88D3F0>)
2025-06-21 09:10:29,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88D3F0>) completed
2025-06-21 09:10:29,942 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,942 - httpx - INFO - HTTP Request: GET http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,944 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,944 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5440>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:29,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5440>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:29,945 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8E5440>)
2025-06-21 09:10:29,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B8E5440>) completed
2025-06-21 09:10:29,945 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5440>)
2025-06-21 09:10:29,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5440>) completed
2025-06-21 09:10:29,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,946 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,947 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E6640>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (25000.0, '2025-06-21 13:10:29.946591', 'da377bb3-349a-45fc-b024-784f5880c352'))
2025-06-21 09:10:29,947 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E6640>, 'UPDATE user_configurations SET default_paper_trading_capital=?, updated_at=? WHERE user_configurations.id = ?', (25000.0, '2025-06-21 13:10:29.946591', 'da377bb3-349a-45fc-b024-784f5880c352')) completed
2025-06-21 09:10:29,948 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E6640>)
2025-06-21 09:10:29,948 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E6640>) completed
2025-06-21 09:10:29,948 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,950 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,950 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:29,950 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:29,951 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,951 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 200 OK"
2025-06-21 09:10:29,956 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,958 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D6CA0>
2025-06-21 09:10:29,959 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D6CA0> completed
2025-06-21 09:10:29,959 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:29,959 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:29,960 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:29,960 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:29,960 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,960 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E4F40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:29,962 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E4F40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:29,962 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E4F40>)
2025-06-21 09:10:29,962 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E4F40>) completed
2025-06-21 09:10:29,963 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,963 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,963 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5840>, 'DELETE FROM trades', ())
2025-06-21 09:10:29,963 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5840>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:29,964 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5840>)
2025-06-21 09:10:29,964 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5840>) completed
2025-06-21 09:10:29,964 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,964 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5FC0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:29,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5FC0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:29,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5FC0>)
2025-06-21 09:10:29,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5FC0>) completed
2025-06-21 09:10:29,966 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,966 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,966 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5CC0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:29,966 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5CC0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:29,966 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5CC0>)
2025-06-21 09:10:29,967 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5CC0>) completed
2025-06-21 09:10:29,967 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,967 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,967 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5BC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:29,967 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5BC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:29,967 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5BC0>)
2025-06-21 09:10:29,968 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5BC0>) completed
2025-06-21 09:10:29,968 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,968 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,968 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5DC0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:29,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E5DC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:29,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5DC0>)
2025-06-21 09:10:29,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E5DC0>) completed
2025-06-21 09:10:29,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E6740>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:29,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E6740>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:29,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E6740>)
2025-06-21 09:10:29,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E6740>) completed
2025-06-21 09:10:29,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,972 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:29,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:29,977 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:10:29,977 - httpx - INFO - HTTP Request: PATCH http://test/api/v1/config "HTTP/1.1 422 Unprocessable Entity"
2025-06-21 09:10:29,979 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:29,994 - test_real_trading_flow - DEBUG - OCO call args side: sell
2025-06-21 09:10:29,994 - test_real_trading_flow - DEBUG - OCO call args: call(user_id=UUID('866b8b63-d572-4603-8cbc-0b1e5139afc3'), symbol='BTCUSDT', side='sell', quantity=Decimal('0.003333333333333333333333333333'), price=Decimal('61800.000'), stop_price=Decimal('59100.0000'), limit_price=Decimal('61800.000'), trading_mode='real', api_key='key', api_secret='secret')
2025-06-21 09:10:29,996 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,008 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,010 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,025 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,027 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D4360>
2025-06-21 09:10:30,028 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D4360> completed
2025-06-21 09:10:30,029 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,029 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,029 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,030 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,030 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,030 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,031 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925240>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,032 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925240>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,032 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925240>)
2025-06-21 09:10:30,032 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925240>) completed
2025-06-21 09:10:30,033 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,033 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,033 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9256C0>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,033 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9256C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,034 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9256C0>)
2025-06-21 09:10:30,034 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9256C0>) completed
2025-06-21 09:10:30,034 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,034 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,034 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925640>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,035 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925640>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,035 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925640>)
2025-06-21 09:10:30,035 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925640>) completed
2025-06-21 09:10:30,035 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,036 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9259C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9259C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,036 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9259C0>)
2025-06-21 09:10:30,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9259C0>) completed
2025-06-21 09:10:30,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,037 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925A40>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,037 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925A40>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925A40>)
2025-06-21 09:10:30,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925A40>) completed
2025-06-21 09:10:30,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,039 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925940>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,039 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925940>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,039 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925940>)
2025-06-21 09:10:30,040 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925940>) completed
2025-06-21 09:10:30,040 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,040 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,040 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925BC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,040 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B925BC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925BC0>)
2025-06-21 09:10:30,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B925BC0>) completed
2025-06-21 09:10:30,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,044 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,044 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,045 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,045 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,045 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,046 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D7920>
2025-06-21 09:10:30,047 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D7920> completed
2025-06-21 09:10:30,047 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,047 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88ED40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:30,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:30,049 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B926140>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "bef5ab07-1fd6-466e-ae9f-1522ea3744e5", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.046068+00:00"}}', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00'))
2025-06-21 09:10:30,049 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B926140>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "bef5ab07-1fd6-466e-ae9f-1522ea3744e5", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.046068+00:00"}}', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00')) completed
2025-06-21 09:10:30,050 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B926140>)
2025-06-21 09:10:30,050 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B926140>) completed
2025-06-21 09:10:30,050 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:30,051 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:30,051 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B926340>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "c0cdf889-7e05-437f-8220-b4a2c1146af8", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.046068+00:00"}}', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00'))
2025-06-21 09:10:30,051 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B926340>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "c0cdf889-7e05-437f-8220-b4a2c1146af8", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.046068+00:00"}}', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00')) completed
2025-06-21 09:10:30,051 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B926340>)
2025-06-21 09:10:30,051 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B926340>) completed
2025-06-21 09:10:30,052 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:30,052 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:30,052 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9262C0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "8a453e91-984d-4d77-b32b-5c6d3cb2489b", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.046068+00:00"}}', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00'))
2025-06-21 09:10:30,052 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9262C0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "8a453e91-984d-4d77-b32b-5c6d3cb2489b", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.046068+00:00"}}', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00', '2025-06-21T13:10:30.046068+00:00')) completed
2025-06-21 09:10:30,053 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9262C0>)
2025-06-21 09:10:30,053 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9262C0>) completed
2025-06-21 09:10:30,053 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:30,055 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:30,055 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:30,055 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:30,055 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88ED40>)
2025-06-21 09:10:30,056 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88ED40>) completed
2025-06-21 09:10:30,059 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,060 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,060 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B926A40>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.position_status = ? AND trades.mode = ?', ('00000000-0000-0000-0000-000000000001', 'closed', 'paper'))
2025-06-21 09:10:30,060 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:30,061 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,061 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,061 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,061 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,070 - httpx - INFO - HTTP Request: GET http://test/api/v1/trades/history/paper?user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,070 - httpx - INFO - HTTP Request: GET http://test/api/v1/trades/history/paper?user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,077 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,078 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D77E0>
2025-06-21 09:10:30,079 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D77E0> completed
2025-06-21 09:10:30,079 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88E4D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,080 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88E4D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,080 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88E4D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,080 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88E4D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,081 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,081 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,081 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9251C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,082 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9251C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,082 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9251C0>)
2025-06-21 09:10:30,082 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9251C0>) completed
2025-06-21 09:10:30,083 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,083 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,083 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F740>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,083 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F740>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,084 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F740>)
2025-06-21 09:10:30,084 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F740>) completed
2025-06-21 09:10:30,084 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,085 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,085 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9264C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,085 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9264C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,085 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9264C0>)
2025-06-21 09:10:30,085 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9264C0>) completed
2025-06-21 09:10:30,085 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,087 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,087 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F7C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,087 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F7C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,087 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F7C0>)
2025-06-21 09:10:30,088 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F7C0>) completed
2025-06-21 09:10:30,088 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,088 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,088 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F940>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,089 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F940>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,090 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F940>)
2025-06-21 09:10:30,090 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F940>) completed
2025-06-21 09:10:30,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,091 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F8C0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,091 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F8C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,092 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F8C0>)
2025-06-21 09:10:30,092 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2F8C0>) completed
2025-06-21 09:10:30,092 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,092 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,093 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9257C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,093 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9257C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,093 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9257C0>)
2025-06-21 09:10:30,093 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B9257C0>) completed
2025-06-21 09:10:30,094 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,096 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,096 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,097 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88E4D0>)
2025-06-21 09:10:30,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88E4D0>) completed
2025-06-21 09:10:30,098 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D4180>
2025-06-21 09:10:30,099 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D4180> completed
2025-06-21 09:10:30,099 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CD60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,099 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CD60>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,100 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CD60>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CD60>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,100 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CD60>)
2025-06-21 09:10:30,100 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CD60>) completed
2025-06-21 09:10:30,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2FF40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "e3c50d65-ac47-430a-acf5-5a3ccd6fc7d3", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.097303+00:00"}}', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00'))
2025-06-21 09:10:30,102 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2FF40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "e3c50d65-ac47-430a-acf5-5a3ccd6fc7d3", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.097303+00:00"}}', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00')) completed
2025-06-21 09:10:30,102 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2FF40>)
2025-06-21 09:10:30,102 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2FF40>) completed
2025-06-21 09:10:30,102 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CD60>)
2025-06-21 09:10:30,103 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CD60>) completed
2025-06-21 09:10:30,103 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2FEC0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "068baecf-1e0f-41a8-899a-8fd9875a22c0", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.097303+00:00"}}', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00'))
2025-06-21 09:10:30,103 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2FEC0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "068baecf-1e0f-41a8-899a-8fd9875a22c0", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.097303+00:00"}}', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00')) completed
2025-06-21 09:10:30,103 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2FEC0>)
2025-06-21 09:10:30,104 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2FEC0>) completed
2025-06-21 09:10:30,104 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CD60>)
2025-06-21 09:10:30,104 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CD60>) completed
2025-06-21 09:10:30,105 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2FE40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "976fea3b-51f2-4bf3-9bbf-7a611a9236fa", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.097303+00:00"}}', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00'))
2025-06-21 09:10:30,105 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2FE40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "976fea3b-51f2-4bf3-9bbf-7a611a9236fa", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.097303+00:00"}}', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00', '2025-06-21T13:10:30.097303+00:00')) completed
2025-06-21 09:10:30,105 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2FE40>)
2025-06-21 09:10:30,105 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB2FE40>) completed
2025-06-21 09:10:30,106 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88CD60>)
2025-06-21 09:10:30,108 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88CD60>) completed
2025-06-21 09:10:30,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CD60>)
2025-06-21 09:10:30,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CD60>) completed
2025-06-21 09:10:30,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88CD60>)
2025-06-21 09:10:30,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88CD60>) completed
2025-06-21 09:10:30,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,113 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B9274C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.position_status = ? AND trades.symbol = ? AND trades.mode = ?', ('00000000-0000-0000-0000-000000000001', 'closed', 'BTCUSDT', 'paper'))
2025-06-21 09:10:30,114 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:30,114 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,114 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,115 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,115 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,119 - httpx - INFO - HTTP Request: GET http://test/api/v1/trades/history/paper?symbol=BTCUSDT&user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,119 - httpx - INFO - HTTP Request: GET http://test/api/v1/trades/history/paper?symbol=BTCUSDT&user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,125 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,126 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D60C0>
2025-06-21 09:10:30,127 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D60C0> completed
2025-06-21 09:10:30,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88F1F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,127 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88F1F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,128 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88F1F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,128 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88F1F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,128 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,129 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,129 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB48B40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,130 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB48B40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,130 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB48B40>)
2025-06-21 09:10:30,130 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB48B40>) completed
2025-06-21 09:10:30,131 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,131 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,131 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49340>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,131 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49340>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49340>)
2025-06-21 09:10:30,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49340>) completed
2025-06-21 09:10:30,132 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49240>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49240>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49240>)
2025-06-21 09:10:30,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49240>) completed
2025-06-21 09:10:30,134 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,134 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,134 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB485C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,134 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB485C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,135 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB485C0>)
2025-06-21 09:10:30,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB485C0>) completed
2025-06-21 09:10:30,135 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,135 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB48040>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,135 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB48040>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,137 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB48040>)
2025-06-21 09:10:30,137 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB48040>) completed
2025-06-21 09:10:30,137 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,137 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,138 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB48BC0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB48BC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,138 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB48BC0>)
2025-06-21 09:10:30,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB48BC0>) completed
2025-06-21 09:10:30,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,139 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,140 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB494C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB494C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,140 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB494C0>)
2025-06-21 09:10:30,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB494C0>) completed
2025-06-21 09:10:30,141 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,143 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,143 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,144 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,144 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88F1F0>)
2025-06-21 09:10:30,144 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88F1F0>) completed
2025-06-21 09:10:30,145 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8DA020>
2025-06-21 09:10:30,147 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8DA020> completed
2025-06-21 09:10:30,147 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,148 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,148 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,148 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88C9A0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,149 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49840>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "e063118d-ffcd-4308-a85e-5257fb3e9e55", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.145991+00:00"}}', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00'))
2025-06-21 09:10:30,150 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49840>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "e063118d-ffcd-4308-a85e-5257fb3e9e55", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.145991+00:00"}}', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00')) completed
2025-06-21 09:10:30,150 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49840>)
2025-06-21 09:10:30,151 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49840>) completed
2025-06-21 09:10:30,151 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,151 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,152 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB497C0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "f27c0eaa-94f7-4310-b590-4c4da510bab9", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.145991+00:00"}}', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00'))
2025-06-21 09:10:30,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB497C0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "f27c0eaa-94f7-4310-b590-4c4da510bab9", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.145991+00:00"}}', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00')) completed
2025-06-21 09:10:30,152 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB497C0>)
2025-06-21 09:10:30,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB497C0>) completed
2025-06-21 09:10:30,153 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,153 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,153 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49740>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "0ace6b65-1b81-4378-b7fc-cf7de1fb85f8", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.145991+00:00"}}', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00'))
2025-06-21 09:10:30,153 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB49740>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "0ace6b65-1b81-4378-b7fc-cf7de1fb85f8", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.145991+00:00"}}', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00', '2025-06-21T13:10:30.145991+00:00')) completed
2025-06-21 09:10:30,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49740>)
2025-06-21 09:10:30,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BB49740>) completed
2025-06-21 09:10:30,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,157 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,158 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,159 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88C9A0>)
2025-06-21 09:10:30,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88C9A0>) completed
2025-06-21 09:10:30,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,163 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,163 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B61F6C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.position_status = ? AND trades.mode = ?', ('00000000-0000-0000-0000-000000000001', 'closed', 'paper'))
2025-06-21 09:10:30,164 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:30,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,171 - httpx - INFO - HTTP Request: GET http://test/api/v1/portfolio/paper/performance_summary?user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,171 - httpx - INFO - HTTP Request: GET http://test/api/v1/portfolio/paper/performance_summary?user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,179 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,180 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8D9BC0>
2025-06-21 09:10:30,182 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8D9BC0> completed
2025-06-21 09:10:30,182 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D030>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,183 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D030>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,183 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D030>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,183 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D030>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,184 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,184 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,184 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B803C40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B803C40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B803C40>)
2025-06-21 09:10:30,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B803C40>) completed
2025-06-21 09:10:30,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,187 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,187 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC140>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,187 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC140>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,187 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC140>)
2025-06-21 09:10:30,187 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC140>) completed
2025-06-21 09:10:30,188 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,188 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,188 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E60C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,188 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E60C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,189 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E60C0>)
2025-06-21 09:10:30,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E60C0>) completed
2025-06-21 09:10:30,190 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,190 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,190 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC6C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,191 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC6C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,191 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC6C0>)
2025-06-21 09:10:30,191 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC6C0>) completed
2025-06-21 09:10:30,192 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,192 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,192 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC540>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,192 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC540>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC540>)
2025-06-21 09:10:30,193 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC540>) completed
2025-06-21 09:10:30,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,193 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,193 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC640>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,194 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8EC640>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,194 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC640>)
2025-06-21 09:10:30,194 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8EC640>) completed
2025-06-21 09:10:30,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,195 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E7BC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,195 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E7BC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E7BC0>)
2025-06-21 09:10:30,195 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E7BC0>) completed
2025-06-21 09:10:30,197 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,199 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,199 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,200 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88D030>)
2025-06-21 09:10:30,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88D030>) completed
2025-06-21 09:10:30,201 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6B8DAF20>
2025-06-21 09:10:30,202 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6B8DAF20> completed
2025-06-21 09:10:30,203 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D7B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D7B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,203 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D7B0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88D7B0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D7B0>)
2025-06-21 09:10:30,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D7B0>) completed
2025-06-21 09:10:30,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B868B40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "eb480834-4767-4640-9c28-38093c851842", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.201280+00:00"}}', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00'))
2025-06-21 09:10:30,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B868B40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-1', '00000000-0000-0000-0000-000000000001', 'BTCUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 150.0, "side": "buy", "entryOrder": {"orderId_internal": "eb480834-4767-4640-9c28-38093c851842", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.201280+00:00"}}', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00')) completed
2025-06-21 09:10:30,206 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B868B40>)
2025-06-21 09:10:30,206 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B868B40>) completed
2025-06-21 09:10:30,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D7B0>)
2025-06-21 09:10:30,207 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D7B0>) completed
2025-06-21 09:10:30,207 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B868D40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "0fd7852f-b299-4e25-85cb-08d237efb3d5", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.201280+00:00"}}', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00'))
2025-06-21 09:10:30,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B868D40>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-2', '00000000-0000-0000-0000-000000000001', 'ETHUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": -75.0, "side": "sell", "entryOrder": {"orderId_internal": "0fd7852f-b299-4e25-85cb-08d237efb3d5", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.201280+00:00"}}', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00')) completed
2025-06-21 09:10:30,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B868D40>)
2025-06-21 09:10:30,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B868D40>) completed
2025-06-21 09:10:30,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D7B0>)
2025-06-21 09:10:30,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88D7B0>) completed
2025-06-21 09:10:30,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8684C0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "d96dbd86-1685-4735-8c20-1113ca7c9ca4", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.201280+00:00"}}', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00'))
2025-06-21 09:10:30,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8684C0>, '\n            INSERT INTO trades (id, user_id, symbol, mode, status, position_status, data, created_at, updated_at, closed_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            ', ('test-trade-3', '00000000-0000-0000-0000-000000000001', 'ADAUSDT', 'paper', 'closed', 'closed', '{"pnl_usd": 25.0, "side": "buy", "entryOrder": {"orderId_internal": "d96dbd86-1685-4735-8c20-1113ca7c9ca4", "orderCategory": "entry", "type": "market", "status": "filled", "requestedQuantity": 1.0, "executedQuantity": 1.0, "executedPrice": 50000.0, "timestamp": "2025-06-21T13:10:30.201280+00:00"}}', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00', '2025-06-21T13:10:30.201280+00:00')) completed
2025-06-21 09:10:30,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8684C0>)
2025-06-21 09:10:30,210 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8684C0>) completed
2025-06-21 09:10:30,210 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88D7B0>)
2025-06-21 09:10:30,212 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B88D7B0>) completed
2025-06-21 09:10:30,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88D7B0>)
2025-06-21 09:10:30,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88D7B0>) completed
2025-06-21 09:10:30,213 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88D7B0>)
2025-06-21 09:10:30,213 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88D7B0>) completed
2025-06-21 09:10:30,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,218 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BB2F9C0>, 'SELECT trades.id, trades.user_id, trades.data, trades.status, trades.position_status, trades.mode, trades.symbol, trades.created_at, trades.updated_at, trades.closed_at \nFROM trades \nWHERE trades.user_id = ? AND trades.position_status = ? AND trades.mode = ? AND trades.closed_at >= ?', ('00000000-0000-0000-0000-000000000001', 'closed', 'paper', '2025-06-22 13:10:30.215862'))
2025-06-21 09:10:30,218 - aiosqlite - DEBUG - returning exception no such column: trades.status
2025-06-21 09:10:30,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>)
2025-06-21 09:10:30,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B39B2E0>) completed
2025-06-21 09:10:30,226 - httpx - INFO - HTTP Request: GET http://test/api/v1/portfolio/paper/performance_summary?start_date=2025-06-22T13%3A10%3A30.215862%2B00%3A00&user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,226 - httpx - INFO - HTTP Request: GET http://test/api/v1/portfolio/paper/performance_summary?start_date=2025-06-22T13%3A10%3A30.215862%2B00%3A00&user_id=00000000-0000-0000-0000-000000000001 "HTTP/1.1 500 Internal Server Error"
2025-06-21 09:10:30,428 - ultibot_ui.services.api_client - DEBUG - APIClient singleton inicializado con base URL: http://test-backend:8000
2025-06-21 09:10:30,429 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,429 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,432 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 79cd97ef-9a25-42a7-9373-af96a4df7571, modo: paper
2025-06-21 09:10:30,433 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,433 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,434 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el símbolo BTCUSDT.
2025-06-21 09:10:30,435 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,437 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el símbolo BTCUSDT.
2025-06-21 09:10:30,438 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,439 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,440 - ultibot_ui.services.api_client - ERROR - Intento de orden real sin credenciales.
2025-06-21 09:10:30,442 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,442 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,444 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para b7a02efc-7c5d-4686-9f97-66ce3f78a37d en modo paper.
2025-06-21 09:10:30,444 - ultibot_ui.services.api_client - INFO - Obteniendo trades abiertos para b7a02efc-7c5d-4686-9f97-66ce3f78a37d en modo real.
2025-06-21 09:10:30,445 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,445 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:30,445 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:30,445 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:30,447 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,447 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:30,448 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:30,448 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:30,448 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:10:30,448 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,449 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:30,449 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:30,449 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,451 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para 5fc9be43-c81a-4716-b9ba-b6c08bc786d6, modo: paper
2025-06-21 09:10:30,451 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo paper para el símbolo BTCUSDT.
2025-06-21 09:10:30,452 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:30,452 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:30,452 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:30,453 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,453 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:30,457 - ultibot_ui.services.api_client - INFO - Obteniendo snapshot del portafolio para ae5b028b-19e6-4654-b3e2-36eac0f183d7, modo: real
2025-06-21 09:10:30,457 - ultibot_ui.services.api_client - INFO - Ejecutando orden de mercado en modo real para el símbolo BTCUSDT.
2025-06-21 09:10:30,462 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,470 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,481 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,642 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,660 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,677 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,695 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,703 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,709 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,711 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BB75A80>
2025-06-21 09:10:30,712 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BB75A80> completed
2025-06-21 09:10:30,712 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE5C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,712 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE5C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,713 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE5C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,713 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE5C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,713 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,713 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,714 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C7C40>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,716 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C7C40>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,716 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C7C40>)
2025-06-21 09:10:30,717 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C7C40>) completed
2025-06-21 09:10:30,717 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,717 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,717 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6740>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,718 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6740>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,718 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6740>)
2025-06-21 09:10:30,718 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6740>) completed
2025-06-21 09:10:30,718 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,718 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6540>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,719 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6540>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6540>)
2025-06-21 09:10:30,719 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6540>) completed
2025-06-21 09:10:30,720 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,720 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,720 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6840>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,720 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6840>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,720 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6840>)
2025-06-21 09:10:30,721 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6840>) completed
2025-06-21 09:10:30,721 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,721 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,722 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6B40>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,723 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C6B40>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,723 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6B40>)
2025-06-21 09:10:30,724 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C6B40>) completed
2025-06-21 09:10:30,724 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,724 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,725 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B628740>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,725 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B628740>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,725 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B628740>)
2025-06-21 09:10:30,725 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B628740>) completed
2025-06-21 09:10:30,726 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,726 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,726 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B6286C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,726 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B6286C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,727 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B6286C0>)
2025-06-21 09:10:30,727 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B6286C0>) completed
2025-06-21 09:10:30,727 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,729 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,729 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,729 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,730 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE5C0>)
2025-06-21 09:10:30,730 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE5C0>) completed
2025-06-21 09:10:30,739 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BB756C0>
2025-06-21 09:10:30,741 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BB756C0> completed
2025-06-21 09:10:30,741 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FC130>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,741 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FC130>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,742 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FC130>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,742 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FC130>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,742 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,742 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,743 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C7BC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:30,743 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C7BC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:30,743 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7C7BC0>)
2025-06-21 09:10:30,744 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7C7BC0>) completed
2025-06-21 09:10:30,744 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C7BC0>)
2025-06-21 09:10:30,744 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C7BC0>) completed
2025-06-21 09:10:30,751 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,751 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C58C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('2a2897a5-ada3-4019-a603-6930a7b545ba',))
2025-06-21 09:10:30,752 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B7C58C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('2a2897a5-ada3-4019-a603-6930a7b545ba',)) completed
2025-06-21 09:10:30,752 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7C58C0>)
2025-06-21 09:10:30,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B7C58C0>) completed
2025-06-21 09:10:30,753 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C58C0>)
2025-06-21 09:10:30,753 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B7C58C0>) completed
2025-06-21 09:10:30,754 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,754 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,754 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B1B32C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:30,754 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B1B32C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:30,754 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B1B32C0>)
2025-06-21 09:10:30,754 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B1B32C0>) completed
2025-06-21 09:10:30,756 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B1B32C0>)
2025-06-21 09:10:30,756 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B1B32C0>) completed
2025-06-21 09:10:30,757 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,758 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,758 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B18CBC0>, "SELECT * FROM user_configurations WHERE user_id = '2a2897a5-ada3-4019-a603-6930a7b545ba' LIMIT 1", ())
2025-06-21 09:10:30,758 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B18CBC0>, "SELECT * FROM user_configurations WHERE user_id = '2a2897a5-ada3-4019-a603-6930a7b545ba' LIMIT 1", ()) completed
2025-06-21 09:10:30,759 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B18CBC0>)
2025-06-21 09:10:30,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6B18CBC0>) completed
2025-06-21 09:10:30,759 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B18CBC0>)
2025-06-21 09:10:30,759 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B18CBC0>) completed
2025-06-21 09:10:30,762 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:10:30,764 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:10:30,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,766 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,766 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x000001DF6BBE0EC0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('22bb791d-9124-47e9-82b6-354289059ea6'), '1254f847-dac9-466d-84f3-543c18c7a36e', '{"id":"22bb791d-9124-47e9-82b6-354289059ea6","user_id":"1254f847-dac9-466d-84f3-543c18c7a36e","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"a0190f2b-6424-462b-b2a1-4e337838925a","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:30.761348","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"c87a337c-3fca-4abb-a70c-fa3daf96d408","opportunityId":"1d0d6095-7029-4be1-b3fb-dc8e36a02627","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:30.762348","opened_at":"2025-06-21T13:10:30.762348","updated_at":"2025-06-21T13:10:30.762348","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:10:30.762348', '2025-06-21 13:10:30.762348', None), (UUID('22bb791d-9124-47e9-82b6-354289059ea6'), '1254f847-dac9-466d-84f3-543c18c7a36e', '{"id":"22bb791d-9124-47e9-82b6-354289059ea6","user_id":"1254f847-dac9-466d-84f3-543c18c7a36e","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"59720109-1017-4932-a975-bd978a14acff","orderId_exchange":"mock_exchange_order_id_0fd8818f-af32-464a-9dd9-dadaa4845e7d","clientOrderId_exchange":"mock_client_order_id_f26a428c-66c6-4989-810c-c516571650a7","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:10:30.763348","submittedAt":"2025-06-21T13:10:30.763348Z","fillTimestamp":"2025-06-21T13:10:30.763348Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"c87a337c-3fca-4abb-a70c-fa3daf96d408","opportunityId":"1d0d6095-7029-4be1-b3fb-dc8e36a02627","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2059086459088\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:30.762348","opened_at":"2025-06-21T13:10:30.762348","updated_at":"2025-06-21T13:10:30.762348","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:10:30.762348', '2025-06-21 13:10:30.762348', None)])
2025-06-21 09:10:30,767 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:10:30,767 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,768 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,787 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,787 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FC130>)
2025-06-21 09:10:30,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FC130>) completed
2025-06-21 09:10:30,789 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,790 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BBEFF60>
2025-06-21 09:10:30,791 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BBEFF60> completed
2025-06-21 09:10:30,791 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE6B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,791 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE6B0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE6B0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,792 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE6B0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,792 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,792 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,793 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B800040>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,794 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B800040>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,794 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B800040>)
2025-06-21 09:10:30,794 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B800040>) completed
2025-06-21 09:10:30,795 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,795 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,795 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BBE0640>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,795 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BBE0640>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,795 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BBE0640>)
2025-06-21 09:10:30,795 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BBE0640>) completed
2025-06-21 09:10:30,797 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,797 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,797 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B6287C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,797 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B6287C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,798 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B6287C0>)
2025-06-21 09:10:30,798 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B6287C0>) completed
2025-06-21 09:10:30,798 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,798 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B6284C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,799 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B6284C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,799 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B6284C0>)
2025-06-21 09:10:30,799 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B6284C0>) completed
2025-06-21 09:10:30,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,800 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B628740>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,800 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B628740>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,800 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B628740>)
2025-06-21 09:10:30,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B628740>) completed
2025-06-21 09:10:30,801 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,801 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BBE2340>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,801 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BBE2340>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BBE2340>)
2025-06-21 09:10:30,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BBE2340>) completed
2025-06-21 09:10:30,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,802 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,802 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E50C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,803 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B8E50C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,803 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E50C0>)
2025-06-21 09:10:30,803 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B8E50C0>) completed
2025-06-21 09:10:30,803 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,805 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,806 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,806 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,806 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE6B0>)
2025-06-21 09:10:30,807 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE6B0>) completed
2025-06-21 09:10:30,815 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BC48540>
2025-06-21 09:10:30,816 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BC48540> completed
2025-06-21 09:10:30,816 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE110>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,816 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE110>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,816 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE110>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,816 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE110>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,817 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE110>)
2025-06-21 09:10:30,817 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE110>) completed
2025-06-21 09:10:30,817 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BCE89C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:30,818 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BCE89C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:30,818 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BCE89C0>)
2025-06-21 09:10:30,818 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BCE89C0>) completed
2025-06-21 09:10:30,818 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BCE89C0>)
2025-06-21 09:10:30,818 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BCE89C0>) completed
2025-06-21 09:10:30,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE110>)
2025-06-21 09:10:30,825 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE110>) completed
2025-06-21 09:10:30,825 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE110>)
2025-06-21 09:10:30,825 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE110>) completed
2025-06-21 09:10:30,826 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE110>)
2025-06-21 09:10:30,826 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE110>) completed
2025-06-21 09:10:30,827 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,829 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BBEFF60>
2025-06-21 09:10:30,830 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BBEFF60> completed
2025-06-21 09:10:30,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FCE50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,830 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FCE50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,830 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FCE50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FCE50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,831 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,831 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,831 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96740>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,832 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96740>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,833 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96740>)
2025-06-21 09:10:30,833 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96740>) completed
2025-06-21 09:10:30,833 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,833 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,834 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BCE8A40>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,834 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BCE8A40>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,834 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BCE8A40>)
2025-06-21 09:10:30,834 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BCE8A40>) completed
2025-06-21 09:10:30,834 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,835 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,835 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96FC0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,835 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96FC0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,835 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96FC0>)
2025-06-21 09:10:30,835 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96FC0>) completed
2025-06-21 09:10:30,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97E40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97E40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97E40>)
2025-06-21 09:10:30,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97E40>) completed
2025-06-21 09:10:30,837 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,837 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,837 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97DC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,837 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97DC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,838 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97DC0>)
2025-06-21 09:10:30,838 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97DC0>) completed
2025-06-21 09:10:30,838 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,838 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,839 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BCE8BC0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,839 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BCE8BC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,840 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BCE8BC0>)
2025-06-21 09:10:30,840 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BCE8BC0>) completed
2025-06-21 09:10:30,841 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,841 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,841 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B802BC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,841 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6B802BC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,842 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B802BC0>)
2025-06-21 09:10:30,842 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6B802BC0>) completed
2025-06-21 09:10:30,842 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,844 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,844 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,844 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,844 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FCE50>)
2025-06-21 09:10:30,845 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FCE50>) completed
2025-06-21 09:10:30,852 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BC48040>
2025-06-21 09:10:30,853 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BC48040> completed
2025-06-21 09:10:30,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAE30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAE30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAE30>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAE30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC64740>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:30,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC64740>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:30,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC64740>)
2025-06-21 09:10:30,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC64740>) completed
2025-06-21 09:10:30,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC64740>)
2025-06-21 09:10:30,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC64740>) completed
2025-06-21 09:10:30,863 - test_strategy_ai_trading_flow - INFO - AI analysis failed as expected, falling back to autonomous.
2025-06-21 09:10:30,864 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,864 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,864 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC65840>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('4c768f8f-2a05-4fae-896c-db6deafb2596',))
2025-06-21 09:10:30,864 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC65840>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('4c768f8f-2a05-4fae-896c-db6deafb2596',)) completed
2025-06-21 09:10:30,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC65840>)
2025-06-21 09:10:30,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC65840>) completed
2025-06-21 09:10:30,865 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC65840>)
2025-06-21 09:10:30,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC65840>) completed
2025-06-21 09:10:30,867 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,867 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,867 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC65F40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:30,867 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC65F40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:30,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC65F40>)
2025-06-21 09:10:30,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC65F40>) completed
2025-06-21 09:10:30,868 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC65F40>)
2025-06-21 09:10:30,868 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC65F40>) completed
2025-06-21 09:10:30,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,872 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC661C0>, 'INSERT INTO user_configurations (id, user_id, telegram_chat_id, notification_preferences, enable_telegram_notifications, default_paper_trading_capital, paper_trading_active, paper_trading_assets, watchlists, favorite_pairs, risk_profile, risk_profile_settings, real_trading_settings, ai_strategy_configurations, ai_analysis_confidence_thresholds, mcp_server_preferences, selected_theme, dashboard_layout_profiles, active_dashboard_layout_profile_id, dashboard_layout_config, cloud_sync_preferences, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('d1a078f0-2e05-46fd-98c1-e760973329c9', '00000000-0000-0000-0000-000000000001', None, '[]', 0, 10000.0, 1, None, '[]', '["BTCUSDT", "ETHUSDT", "BNBUSDT"]', 'moderate', '{"daily_capital_risk_percentage":0.01,"per_trade_capital_risk_percentage":0.005,"max_drawdown_percentage":0.1}', '{"real_trading_mode_active":false,"real_trades_executed_count":0,"max_concurrent_operations":null,"daily_loss_limit_absolute":null,"daily_profit_target_absolute":null,"asset_specific_stop_loss":null,"auto_pause_trading_conditions":null,"daily_capital_risked_usd":"0.0","last_daily_reset":"2025-06-21T13:10:30.866874Z"}', '[]', '{"paper_trading":0.7,"real_trading":0.8}', '[]', 'dark', None, None, None, None, '2025-06-21 13:10:30.869397', '2025-06-21 13:10:30.869397'))
2025-06-21 09:10:30,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC661C0>, 'INSERT INTO user_configurations (id, user_id, telegram_chat_id, notification_preferences, enable_telegram_notifications, default_paper_trading_capital, paper_trading_active, paper_trading_assets, watchlists, favorite_pairs, risk_profile, risk_profile_settings, real_trading_settings, ai_strategy_configurations, ai_analysis_confidence_thresholds, mcp_server_preferences, selected_theme, dashboard_layout_profiles, active_dashboard_layout_profile_id, dashboard_layout_config, cloud_sync_preferences, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('d1a078f0-2e05-46fd-98c1-e760973329c9', '00000000-0000-0000-0000-000000000001', None, '[]', 0, 10000.0, 1, None, '[]', '["BTCUSDT", "ETHUSDT", "BNBUSDT"]', 'moderate', '{"daily_capital_risk_percentage":0.01,"per_trade_capital_risk_percentage":0.005,"max_drawdown_percentage":0.1}', '{"real_trading_mode_active":false,"real_trades_executed_count":0,"max_concurrent_operations":null,"daily_loss_limit_absolute":null,"daily_profit_target_absolute":null,"asset_specific_stop_loss":null,"auto_pause_trading_conditions":null,"daily_capital_risked_usd":"0.0","last_daily_reset":"2025-06-21T13:10:30.866874Z"}', '[]', '{"paper_trading":0.7,"real_trading":0.8}', '[]', 'dark', None, None, None, None, '2025-06-21 13:10:30.869397', '2025-06-21 13:10:30.869397')) completed
2025-06-21 09:10:30,875 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC661C0>)
2025-06-21 09:10:30,875 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC661C0>) completed
2025-06-21 09:10:30,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,878 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BD02EC0>, 'UPDATE opportunities SET status=?, status_reason_code=?, status_reason_text=?, updated_at=? WHERE opportunities.id = ?', ('under_evaluation', '1 potential trade decision(s) generated.', '1 potential trade decision(s) generated.', '2025-06-21 13:10:30.871530', 'bbdead5a-3095-4db2-a177-57911c4e5431'))
2025-06-21 09:10:30,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BD02EC0>, 'UPDATE opportunities SET status=?, status_reason_code=?, status_reason_text=?, updated_at=? WHERE opportunities.id = ?', ('under_evaluation', '1 potential trade decision(s) generated.', '1 potential trade decision(s) generated.', '2025-06-21 13:10:30.871530', 'bbdead5a-3095-4db2-a177-57911c4e5431')) completed
2025-06-21 09:10:30,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BD02EC0>)
2025-06-21 09:10:30,879 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BD02EC0>) completed
2025-06-21 09:10:30,882 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,884 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,884 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,884 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,884 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EAE30>)
2025-06-21 09:10:30,885 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EAE30>) completed
2025-06-21 09:10:30,886 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,887 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BBEC900>
2025-06-21 09:10:30,888 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BBEC900> completed
2025-06-21 09:10:30,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE2F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE2F0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE2F0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,889 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B7FE2F0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,890 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96EC0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,891 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96EC0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,892 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96EC0>)
2025-06-21 09:10:30,892 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96EC0>) completed
2025-06-21 09:10:30,892 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,893 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,893 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97240>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,893 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97240>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,893 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97240>)
2025-06-21 09:10:30,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97240>) completed
2025-06-21 09:10:30,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,894 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,894 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96840>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,895 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96840>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,895 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96840>)
2025-06-21 09:10:30,895 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96840>) completed
2025-06-21 09:10:30,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,896 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96E40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,896 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96E40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96E40>)
2025-06-21 09:10:30,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96E40>) completed
2025-06-21 09:10:30,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96A40>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96A40>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,898 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96A40>)
2025-06-21 09:10:30,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96A40>) completed
2025-06-21 09:10:30,898 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC968C0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC968C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC968C0>)
2025-06-21 09:10:30,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC968C0>) completed
2025-06-21 09:10:30,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC971C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC971C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,901 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC971C0>)
2025-06-21 09:10:30,901 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC971C0>) completed
2025-06-21 09:10:30,901 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,904 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE2F0>)
2025-06-21 09:10:30,904 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B7FE2F0>) completed
2025-06-21 09:10:30,912 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BC482C0>
2025-06-21 09:10:30,914 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BC482C0> completed
2025-06-21 09:10:30,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CA90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,914 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CA90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CA90>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B88CA90>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,916 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC64AC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:30,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC64AC0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:30,916 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC64AC0>)
2025-06-21 09:10:30,917 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC64AC0>) completed
2025-06-21 09:10:30,917 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC64AC0>)
2025-06-21 09:10:30,917 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC64AC0>) completed
2025-06-21 09:10:30,922 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,922 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,923 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC67D40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('09643074-d244-4c98-b809-3d613e6e6077',))
2025-06-21 09:10:30,923 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC67D40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('09643074-d244-4c98-b809-3d613e6e6077',)) completed
2025-06-21 09:10:30,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC67D40>)
2025-06-21 09:10:30,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BC67D40>) completed
2025-06-21 09:10:30,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC67D40>)
2025-06-21 09:10:30,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC67D40>) completed
2025-06-21 09:10:30,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C440>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:30,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C440>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:30,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF2C440>)
2025-06-21 09:10:30,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF2C440>) completed
2025-06-21 09:10:30,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C440>)
2025-06-21 09:10:30,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C440>) completed
2025-06-21 09:10:30,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C3C0>, "SELECT * FROM user_configurations WHERE user_id = '09643074-d244-4c98-b809-3d613e6e6077' LIMIT 1", ())
2025-06-21 09:10:30,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C3C0>, "SELECT * FROM user_configurations WHERE user_id = '09643074-d244-4c98-b809-3d613e6e6077' LIMIT 1", ()) completed
2025-06-21 09:10:30,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF2C3C0>)
2025-06-21 09:10:30,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF2C3C0>) completed
2025-06-21 09:10:30,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C3C0>)
2025-06-21 09:10:30,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C3C0>) completed
2025-06-21 09:10:30,933 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:10:30,934 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:10:30,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x000001DF6CF2E9C0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('733050e9-4301-46c8-a25e-fcbc2fb59bb7'), 'e938b5ad-791c-426f-9e1b-ce4138e62adf', '{"id":"733050e9-4301-46c8-a25e-fcbc2fb59bb7","user_id":"e938b5ad-791c-426f-9e1b-ce4138e62adf","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"4f0bd065-125c-463e-9f29-3bc5782c28b8","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:30.933457","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"41f0b19f-7298-4779-8385-6522bf1287f4","opportunityId":"b04bbef1-4abb-42a8-9e98-f323f67d3458","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:30.933457","opened_at":"2025-06-21T13:10:30.933457","updated_at":"2025-06-21T13:10:30.933457","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:10:30.933457', '2025-06-21 13:10:30.933457', None), (UUID('733050e9-4301-46c8-a25e-fcbc2fb59bb7'), 'e938b5ad-791c-426f-9e1b-ce4138e62adf', '{"id":"733050e9-4301-46c8-a25e-fcbc2fb59bb7","user_id":"e938b5ad-791c-426f-9e1b-ce4138e62adf","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"fbbbea3c-9095-4744-b48e-0cf3d6d36b55","orderId_exchange":"mock_exchange_order_id_00636343-3cc6-447d-a509-16ba4fd733fa","clientOrderId_exchange":"mock_client_order_id_a5dd1969-a744-4307-978e-2e4e37c5d958","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:10:30.933457","submittedAt":"2025-06-21T13:10:30.933457Z","fillTimestamp":"2025-06-21T13:10:30.933457Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"41f0b19f-7298-4779-8385-6522bf1287f4","opportunityId":"b04bbef1-4abb-42a8-9e98-f323f67d3458","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2059117056208\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:30.933457","opened_at":"2025-06-21T13:10:30.933457","updated_at":"2025-06-21T13:10:30.933457","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:10:30.933457', '2025-06-21 13:10:30.933457', None)])
2025-06-21 09:10:30,937 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:10:30,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,955 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,955 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,956 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88CA90>)
2025-06-21 09:10:30,957 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B88CA90>) completed
2025-06-21 09:10:30,958 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:30,960 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BC7C7C0>
2025-06-21 09:10:30,960 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BC7C7C0> completed
2025-06-21 09:10:30,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EB970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,961 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EB970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EB970>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,961 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EB970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,962 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,962 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,962 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC971C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:30,964 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC971C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:30,964 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC971C0>)
2025-06-21 09:10:30,964 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC971C0>) completed
2025-06-21 09:10:30,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C3C0>, 'DELETE FROM trades', ())
2025-06-21 09:10:30,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C3C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:30,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C3C0>)
2025-06-21 09:10:30,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C3C0>) completed
2025-06-21 09:10:30,967 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,967 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,967 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC95D40>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:30,967 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC95D40>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:30,968 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC95D40>)
2025-06-21 09:10:30,968 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC95D40>) completed
2025-06-21 09:10:30,968 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,968 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96A40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:30,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96A40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:30,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96A40>)
2025-06-21 09:10:30,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96A40>) completed
2025-06-21 09:10:30,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C440>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:30,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2C440>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:30,971 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C440>)
2025-06-21 09:10:30,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2C440>) completed
2025-06-21 09:10:30,971 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,972 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2E0C0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:30,972 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF2E0C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:30,972 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2E0C0>)
2025-06-21 09:10:30,972 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF2E0C0>) completed
2025-06-21 09:10:30,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96840>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:30,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96840>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:30,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96840>)
2025-06-21 09:10:30,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96840>) completed
2025-06-21 09:10:30,975 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,977 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,977 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,978 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,978 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EB970>)
2025-06-21 09:10:30,978 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EB970>) completed
2025-06-21 09:10:30,985 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BC7E160>
2025-06-21 09:10:30,987 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BC7E160> completed
2025-06-21 09:10:30,987 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:30,987 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAF20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:30,987 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAF20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:30,987 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EAF20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:30,987 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:30,988 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:30,988 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5E140>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:30,988 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5E140>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:30,989 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5E140>)
2025-06-21 09:10:30,989 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5E140>) completed
2025-06-21 09:10:30,989 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5E140>)
2025-06-21 09:10:30,989 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5E140>) completed
2025-06-21 09:10:30,996 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:30,996 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:30,996 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5F340>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('ce068265-eaa1-4954-a678-9914276b6f6b',))
2025-06-21 09:10:30,997 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5F340>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('ce068265-eaa1-4954-a678-9914276b6f6b',)) completed
2025-06-21 09:10:30,997 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5F340>)
2025-06-21 09:10:30,997 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5F340>) completed
2025-06-21 09:10:30,997 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5F340>)
2025-06-21 09:10:30,998 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5F340>) completed
2025-06-21 09:10:30,998 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:30,999 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:30,999 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5F9C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:30,999 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5F9C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:31,000 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5F9C0>)
2025-06-21 09:10:31,000 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5F9C0>) completed
2025-06-21 09:10:31,000 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5F9C0>)
2025-06-21 09:10:31,000 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5F9C0>) completed
2025-06-21 09:10:31,001 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:31,002 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:31,002 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5F940>, "SELECT * FROM user_configurations WHERE user_id = 'ce068265-eaa1-4954-a678-9914276b6f6b' LIMIT 1", ())
2025-06-21 09:10:31,002 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF5F940>, "SELECT * FROM user_configurations WHERE user_id = 'ce068265-eaa1-4954-a678-9914276b6f6b' LIMIT 1", ()) completed
2025-06-21 09:10:31,002 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5F940>)
2025-06-21 09:10:31,003 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF5F940>) completed
2025-06-21 09:10:31,003 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5F940>)
2025-06-21 09:10:31,003 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF5F940>) completed
2025-06-21 09:10:31,006 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:10:31,008 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:10:31,009 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:31,010 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:31,010 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x000001DF6CF72540>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('14c8cf7c-0f83-413a-9ecb-b04451c8c70c'), 'b294f589-6f04-428c-9482-f5add12d666b', '{"id":"14c8cf7c-0f83-413a-9ecb-b04451c8c70c","user_id":"b294f589-6f04-428c-9482-f5add12d666b","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"adda7084-5799-450d-bde4-eb30de64cac2","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:31.005530","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"c96517e8-df72-43f4-8a4e-0e4a456214b2","opportunityId":"a88f76f5-185c-4795-86a1-ca047b1473b0","aiAnalysisConfidence":"0.7","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.005530","opened_at":"2025-06-21T13:10:31.005530","updated_at":"2025-06-21T13:10:31.005530","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:10:31.005530', '2025-06-21 13:10:31.005530', None), (UUID('14c8cf7c-0f83-413a-9ecb-b04451c8c70c'), 'b294f589-6f04-428c-9482-f5add12d666b', '{"id":"14c8cf7c-0f83-413a-9ecb-b04451c8c70c","user_id":"b294f589-6f04-428c-9482-f5add12d666b","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"7675eb4e-97a6-46f6-bfb3-c9272f1abb3d","orderId_exchange":"mock_exchange_order_id_e41649d9-bc0b-4771-8e53-203fa73cd429","clientOrderId_exchange":"mock_client_order_id_087c067d-d9f4-4572-96fc-2db5e4abb719","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:10:31.006529","submittedAt":"2025-06-21T13:10:31.006529Z","fillTimestamp":"2025-06-21T13:10:31.006529Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"c96517e8-df72-43f4-8a4e-0e4a456214b2","opportunityId":"a88f76f5-185c-4795-86a1-ca047b1473b0","aiAnalysisConfidence":"0.7","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2059117501648\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.005530","opened_at":"2025-06-21T13:10:31.005530","updated_at":"2025-06-21T13:10:31.005530","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:10:31.005530', '2025-06-21 13:10:31.005530', None)])
2025-06-21 09:10:31,011 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:10:31,012 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:31,012 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:31,029 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:31,029 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:31,030 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EAF20>)
2025-06-21 09:10:31,030 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EAF20>) completed
2025-06-21 09:10:31,031 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,032 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BC7FD80>
2025-06-21 09:10:31,033 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BC7FD80> completed
2025-06-21 09:10:31,033 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EA020>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,033 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EA020>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,034 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EA020>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,034 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6B4EA020>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,034 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,034 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,035 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96840>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:31,035 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96840>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:31,036 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96840>)
2025-06-21 09:10:31,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96840>) completed
2025-06-21 09:10:31,036 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,036 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF727C0>, 'DELETE FROM trades', ())
2025-06-21 09:10:31,036 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF727C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:31,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF727C0>)
2025-06-21 09:10:31,037 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF727C0>) completed
2025-06-21 09:10:31,037 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,037 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97EC0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:31,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC97EC0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:31,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97EC0>)
2025-06-21 09:10:31,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC97EC0>) completed
2025-06-21 09:10:31,039 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,039 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,039 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC95D40>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:31,039 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC95D40>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:31,040 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC95D40>)
2025-06-21 09:10:31,040 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC95D40>) completed
2025-06-21 09:10:31,041 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,041 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF71640>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:31,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF71640>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:31,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF71640>)
2025-06-21 09:10:31,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF71640>) completed
2025-06-21 09:10:31,042 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,042 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF72A40>, 'DELETE FROM market_data', ())
2025-06-21 09:10:31,043 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF72A40>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:31,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF72A40>)
2025-06-21 09:10:31,043 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF72A40>) completed
2025-06-21 09:10:31,044 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,044 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,044 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96EC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:31,044 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BC96EC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:31,045 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96EC0>)
2025-06-21 09:10:31,045 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BC96EC0>) completed
2025-06-21 09:10:31,045 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,047 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,047 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,047 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,048 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EA020>)
2025-06-21 09:10:31,048 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6B4EA020>) completed
2025-06-21 09:10:31,055 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6CFB80E0>
2025-06-21 09:10:31,057 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6CFB80E0> completed
2025-06-21 09:10:31,058 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CC70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,058 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CC70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,058 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CC70>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,058 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CC70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,059 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,059 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,059 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65F40>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:31,060 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65F40>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:31,060 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF65F40>)
2025-06-21 09:10:31,060 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF65F40>) completed
2025-06-21 09:10:31,060 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65F40>)
2025-06-21 09:10:31,061 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65F40>) completed
2025-06-21 09:10:31,066 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,066 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,066 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF66F40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('e367fe76-d02b-4cfe-bf84-0528d681dced',))
2025-06-21 09:10:31,066 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF66F40>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('e367fe76-d02b-4cfe-bf84-0528d681dced',)) completed
2025-06-21 09:10:31,067 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF66F40>)
2025-06-21 09:10:31,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF66F40>) completed
2025-06-21 09:10:31,067 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF66F40>)
2025-06-21 09:10:31,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF66F40>) completed
2025-06-21 09:10:31,068 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF675C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',))
2025-06-21 09:10:31,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF675C0>, 'SELECT user_configurations.id, user_configurations.user_id, user_configurations.telegram_chat_id, user_configurations.notification_preferences, user_configurations.enable_telegram_notifications, user_configurations.default_paper_trading_capital, user_configurations.paper_trading_active, user_configurations.paper_trading_assets, user_configurations.watchlists, user_configurations.favorite_pairs, user_configurations.risk_profile, user_configurations.risk_profile_settings, user_configurations.real_trading_settings, user_configurations.ai_strategy_configurations, user_configurations.ai_analysis_confidence_thresholds, user_configurations.mcp_server_preferences, user_configurations.selected_theme, user_configurations.dashboard_layout_profiles, user_configurations.active_dashboard_layout_profile_id, user_configurations.dashboard_layout_config, user_configurations.cloud_sync_preferences, user_configurations.created_at, user_configurations.updated_at \nFROM user_configurations \nWHERE user_configurations.user_id = ?', ('00000000-0000-0000-0000-000000000001',)) completed
2025-06-21 09:10:31,069 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF675C0>)
2025-06-21 09:10:31,070 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF675C0>) completed
2025-06-21 09:10:31,070 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF675C0>)
2025-06-21 09:10:31,070 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF675C0>) completed
2025-06-21 09:10:31,071 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,071 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,071 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF67540>, "SELECT * FROM user_configurations WHERE user_id = 'e367fe76-d02b-4cfe-bf84-0528d681dced' LIMIT 1", ())
2025-06-21 09:10:31,071 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF67540>, "SELECT * FROM user_configurations WHERE user_id = 'e367fe76-d02b-4cfe-bf84-0528d681dced' LIMIT 1", ()) completed
2025-06-21 09:10:31,072 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF67540>)
2025-06-21 09:10:31,072 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CF67540>) completed
2025-06-21 09:10:31,072 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF67540>)
2025-06-21 09:10:31,072 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF67540>) completed
2025-06-21 09:10:31,075 - tests.conftest - INFO - Mock execute_market_order called for BTC/USDT BUY 0.000
2025-06-21 09:10:31,077 - tests.conftest - INFO - Mock create_oco_order called for BTC/USDT sell TP:30500.0 SL:29500.0
2025-06-21 09:10:31,078 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,079 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,079 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x000001DF6CFC9DC0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [(UUID('72dd9946-8619-4d91-87ce-92cfd3c5529a'), '868a974c-2ecc-48e8-9da9-03698a2f2994', '{"id":"72dd9946-8619-4d91-87ce-92cfd3c5529a","user_id":"868a974c-2ecc-48e8-9da9-03698a2f2994","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"50f5bb77-3563-4f37-80ec-30b206b280ab","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.000","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:31.075500","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"5af14ea4-f55b-47b3-9a0f-878d3f770752","opportunityId":"519c336d-58d7-4e98-b697-6522e647e885","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.075500","opened_at":"2025-06-21T13:10:31.075500","updated_at":"2025-06-21T13:10:31.075500","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'real', 'BTC/USDT', '2025-06-21 13:10:31.075500', '2025-06-21 13:10:31.075500', None), (UUID('72dd9946-8619-4d91-87ce-92cfd3c5529a'), '868a974c-2ecc-48e8-9da9-03698a2f2994', '{"id":"72dd9946-8619-4d91-87ce-92cfd3c5529a","user_id":"868a974c-2ecc-48e8-9da9-03698a2f2994","mode":"real","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"823d054b-8ee2-446e-9ac7-193b3f227ccc","orderId_exchange":"mock_exchange_order_id_e883bdc3-0fd6-4d67-a192-804912ca4630","clientOrderId_exchange":"mock_client_order_id_cd33f972-dd5a-468e-8e56-837ab20bfbc1","orderCategory":"entry","type":"MARKET","status":"filled","requestedPrice":null,"requestedQuantity":"0.000","executedQuantity":"0.000","executedPrice":"30000.0","cumulativeQuoteQty":"0.0000","commissions":[],"commission":"0.001","commissionAsset":"USDT","timestamp":"2025-06-21T13:10:31.076499","submittedAt":"2025-06-21T13:10:31.075500Z","fillTimestamp":"2025-06-21T13:10:31.075500Z","rawResponse":{"mock_response":"market_order_filled"},"ocoOrderListId":null},"exitOrders":[],"positionStatus":"open","strategyId":"5af14ea4-f55b-47b3-9a0f-878d3f770752","opportunityId":"519c336d-58d7-4e98-b697-6522e647e885","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":"<MagicMock id=\'2059117915792\'>","takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.075500","opened_at":"2025-06-21T13:10:31.075500","updated_at":"2025-06-21T13:10:31.075500","closed_at":null}', 'PENDING', 'open', 'real', 'BTC/USDT', '2025-06-21 13:10:31.075500', '2025-06-21 13:10:31.075500', None)])
2025-06-21 09:10:31,080 - aiosqlite - DEBUG - returning exception UNIQUE constraint failed: trades.id
2025-06-21 09:10:31,080 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,081 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,097 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,097 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8CC70>)
2025-06-21 09:10:31,097 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8CC70>) completed
2025-06-21 09:10:31,099 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,100 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6CFBA5C0>
2025-06-21 09:10:31,100 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6CFBA5C0> completed
2025-06-21 09:10:31,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C6D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,101 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C6D0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,101 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C6D0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,101 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C6D0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,102 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,102 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,102 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65840>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:31,103 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65840>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:31,104 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65840>)
2025-06-21 09:10:31,104 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65840>) completed
2025-06-21 09:10:31,104 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,104 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,105 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA140>, 'DELETE FROM trades', ())
2025-06-21 09:10:31,105 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA140>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:31,105 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA140>)
2025-06-21 09:10:31,106 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA140>) completed
2025-06-21 09:10:31,106 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,107 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,107 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65640>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:31,107 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65640>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:31,107 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65640>)
2025-06-21 09:10:31,108 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65640>) completed
2025-06-21 09:10:31,108 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,108 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65DC0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:31,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65DC0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:31,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65DC0>)
2025-06-21 09:10:31,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65DC0>) completed
2025-06-21 09:10:31,110 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,110 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,110 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFC8EC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:31,110 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFC8EC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:31,111 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFC8EC0>)
2025-06-21 09:10:31,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFC8EC0>) completed
2025-06-21 09:10:31,111 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,112 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA1C0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:31,112 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA1C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:31,112 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA1C0>)
2025-06-21 09:10:31,112 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA1C0>) completed
2025-06-21 09:10:31,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,113 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65C40>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:31,113 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65C40>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:31,114 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65C40>)
2025-06-21 09:10:31,114 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65C40>) completed
2025-06-21 09:10:31,114 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,116 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,116 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,116 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,116 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8C6D0>)
2025-06-21 09:10:31,117 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8C6D0>) completed
2025-06-21 09:10:31,124 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6CFBA8E0>
2025-06-21 09:10:31,125 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6CFBA8E0> completed
2025-06-21 09:10:31,125 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CE50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,127 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CE50>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CE50>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,127 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CE50>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,127 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CE50>)
2025-06-21 09:10:31,128 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CE50>) completed
2025-06-21 09:10:31,128 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFA16C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:31,128 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFA16C0>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:31,129 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CFA16C0>)
2025-06-21 09:10:31,129 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6CFA16C0>) completed
2025-06-21 09:10:31,129 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFA16C0>)
2025-06-21 09:10:31,129 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFA16C0>) completed
2025-06-21 09:10:31,138 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CE50>)
2025-06-21 09:10:31,138 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CE50>) completed
2025-06-21 09:10:31,139 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCBCC0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('d7acb242-c0d7-415c-99b0-167df871ca6a'), 'e0115777-2182-4fa2-8673-190bcd4b713e', '{"id":"d7acb242-c0d7-415c-99b0-167df871ca6a","user_id":"e0115777-2182-4fa2-8673-190bcd4b713e","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"57c81594-3cbf-41ed-af7d-022fd3db6ebc","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:31.135232","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"2405d040-af2f-439c-bdb3-43fc360a7914","opportunityId":"f7a20fd1-fdbb-4fce-93ac-31b2ac0a551c","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.135232","opened_at":"2025-06-21T13:10:31.135232","updated_at":"2025-06-21T13:10:31.135232","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:10:31.135232', '2025-06-21 13:10:31.135232', None))
2025-06-21 09:10:31,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCBCC0>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('d7acb242-c0d7-415c-99b0-167df871ca6a'), 'e0115777-2182-4fa2-8673-190bcd4b713e', '{"id":"d7acb242-c0d7-415c-99b0-167df871ca6a","user_id":"e0115777-2182-4fa2-8673-190bcd4b713e","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"57c81594-3cbf-41ed-af7d-022fd3db6ebc","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:31.135232","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"2405d040-af2f-439c-bdb3-43fc360a7914","opportunityId":"f7a20fd1-fdbb-4fce-93ac-31b2ac0a551c","aiAnalysisConfidence":"0.85","pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":"30500.0","trailingStopActivationPrice":"29500.0","trailingStopCallbackRate":"0.005","currentStopPrice_tsl":"29500.0","riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.135232","opened_at":"2025-06-21T13:10:31.135232","updated_at":"2025-06-21T13:10:31.135232","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:10:31.135232', '2025-06-21 13:10:31.135232', None)) completed
2025-06-21 09:10:31,140 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCBCC0>)
2025-06-21 09:10:31,140 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCBCC0>) completed
2025-06-21 09:10:31,141 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8CE50>)
2025-06-21 09:10:31,142 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8CE50>) completed
2025-06-21 09:10:31,143 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CE50>)
2025-06-21 09:10:31,143 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CE50>) completed
2025-06-21 09:10:31,143 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8CE50>)
2025-06-21 09:10:31,143 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8CE50>) completed
2025-06-21 09:10:31,145 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,147 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6CFBBEC0>
2025-06-21 09:10:31,148 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6CFBBEC0> completed
2025-06-21 09:10:31,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,149 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,149 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,149 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,150 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,150 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,150 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA1C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:31,151 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA1C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:31,151 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA1C0>)
2025-06-21 09:10:31,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA1C0>) completed
2025-06-21 09:10:31,152 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,152 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,152 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65CC0>, 'DELETE FROM trades', ())
2025-06-21 09:10:31,153 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65CC0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:31,153 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65CC0>)
2025-06-21 09:10:31,153 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65CC0>) completed
2025-06-21 09:10:31,153 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA340>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:31,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA340>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:31,154 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA340>)
2025-06-21 09:10:31,154 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA340>) completed
2025-06-21 09:10:31,155 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,155 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,156 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCB440>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:31,156 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCB440>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:31,157 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCB440>)
2025-06-21 09:10:31,157 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCB440>) completed
2025-06-21 09:10:31,157 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,157 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,158 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65AC0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:31,158 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF65AC0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:31,158 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65AC0>)
2025-06-21 09:10:31,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF65AC0>) completed
2025-06-21 09:10:31,159 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,159 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,159 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF657C0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:31,160 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CF657C0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:31,160 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF657C0>)
2025-06-21 09:10:31,160 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CF657C0>) completed
2025-06-21 09:10:31,160 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,161 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,161 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA140>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:31,161 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA140>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:31,161 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA140>)
2025-06-21 09:10:31,161 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA140>) completed
2025-06-21 09:10:31,162 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,164 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,164 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,165 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,165 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,172 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BD640E0>
2025-06-21 09:10:31,173 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BD640E0> completed
2025-06-21 09:10:31,174 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CA90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,174 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CA90>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,174 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CA90>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,175 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8CA90>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,175 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CA90>)
2025-06-21 09:10:31,175 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CA90>) completed
2025-06-21 09:10:31,175 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BD8C640>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:31,175 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BD8C640>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:31,177 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BD8C640>)
2025-06-21 09:10:31,177 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BD8C640>) completed
2025-06-21 09:10:31,177 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BD8C640>)
2025-06-21 09:10:31,177 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BD8C640>) completed
2025-06-21 09:10:31,184 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CA90>)
2025-06-21 09:10:31,185 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8CA90>) completed
2025-06-21 09:10:31,185 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFC9440>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('dd101087-e1ba-46be-9b13-cb40e182906e'), '400e8d74-696e-4016-9ce6-b1cd3323e4a9', '{"id":"dd101087-e1ba-46be-9b13-cb40e182906e","user_id":"400e8d74-696e-4016-9ce6-b1cd3323e4a9","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"20601522-07b4-4a17-bf84-3a71536a55c3","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:31.182422","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"54373e21-c08d-4fcd-aa37-9c3537f7e08f","opportunityId":"b14def2f-786e-4884-a53d-e520bcc65bf1","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":null,"trailingStopActivationPrice":null,"trailingStopCallbackRate":"0.005","currentStopPrice_tsl":null,"riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.182422","opened_at":"2025-06-21T13:10:31.182422","updated_at":"2025-06-21T13:10:31.182422","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:10:31.182422', '2025-06-21 13:10:31.182422', None))
2025-06-21 09:10:31,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFC9440>, 'INSERT INTO trades (id, user_id, data, status, position_status, mode, symbol, created_at, updated_at, closed_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (UUID('dd101087-e1ba-46be-9b13-cb40e182906e'), '400e8d74-696e-4016-9ce6-b1cd3323e4a9', '{"id":"dd101087-e1ba-46be-9b13-cb40e182906e","user_id":"400e8d74-696e-4016-9ce6-b1cd3323e4a9","mode":"paper","symbol":"BTC/USDT","side":"buy","entryOrder":{"orderId_internal":"20601522-07b4-4a17-bf84-3a71536a55c3","orderId_exchange":null,"clientOrderId_exchange":null,"orderCategory":"entry","type":"market","status":"new","requestedPrice":"30000.0","requestedQuantity":"0.003333333333333333333333333333","executedQuantity":"0.0","executedPrice":"0.0","cumulativeQuoteQty":null,"commissions":null,"commission":null,"commissionAsset":null,"timestamp":"2025-06-21T13:10:31.182422","submittedAt":null,"fillTimestamp":null,"rawResponse":null,"ocoOrderListId":null},"exitOrders":[],"positionStatus":"pending_entry_conditions","strategyId":"54373e21-c08d-4fcd-aa37-9c3537f7e08f","opportunityId":"b14def2f-786e-4884-a53d-e520bcc65bf1","aiAnalysisConfidence":null,"pnl_usd":null,"pnl_percentage":null,"closingReason":null,"ocoOrderListId":null,"takeProfitPrice":null,"trailingStopActivationPrice":null,"trailingStopCallbackRate":"0.005","currentStopPrice_tsl":null,"riskRewardAdjustments":[],"created_at":"2025-06-21T13:10:31.182422","opened_at":"2025-06-21T13:10:31.182422","updated_at":"2025-06-21T13:10:31.182422","closed_at":null}', 'PENDING', 'pending_entry_conditions', 'paper', 'BTC/USDT', '2025-06-21 13:10:31.182422', '2025-06-21 13:10:31.182422', None)) completed
2025-06-21 09:10:31,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFC9440>)
2025-06-21 09:10:31,186 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFC9440>) completed
2025-06-21 09:10:31,186 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8CA90>)
2025-06-21 09:10:31,188 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8CA90>) completed
2025-06-21 09:10:31,189 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CA90>)
2025-06-21 09:10:31,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8CA90>) completed
2025-06-21 09:10:31,189 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8CA90>)
2025-06-21 09:10:31,189 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8CA90>) completed
2025-06-21 09:10:31,191 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,192 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6CFBB7E0>
2025-06-21 09:10:31,193 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6CFBB7E0> completed
2025-06-21 09:10:31,194 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,194 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,194 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,194 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FE20>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,195 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,195 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCBCC0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:31,196 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCBCC0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:31,197 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCBCC0>)
2025-06-21 09:10:31,197 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCBCC0>) completed
2025-06-21 09:10:31,197 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,197 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,197 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCB2C0>, 'DELETE FROM trades', ())
2025-06-21 09:10:31,198 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCB2C0>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:31,198 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCB2C0>)
2025-06-21 09:10:31,198 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCB2C0>) completed
2025-06-21 09:10:31,198 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,199 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,199 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCB5C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:31,199 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCB5C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:31,199 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCB5C0>)
2025-06-21 09:10:31,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCB5C0>) completed
2025-06-21 09:10:31,200 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,200 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA6C0>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:31,200 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA6C0>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:31,201 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA6C0>)
2025-06-21 09:10:31,201 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA6C0>) completed
2025-06-21 09:10:31,201 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,201 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,202 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA8C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:31,202 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCA8C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:31,202 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA8C0>)
2025-06-21 09:10:31,202 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCA8C0>) completed
2025-06-21 09:10:31,202 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,203 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCBBC0>, 'DELETE FROM market_data', ())
2025-06-21 09:10:31,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCBBC0>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:31,203 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCBBC0>)
2025-06-21 09:10:31,203 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCBBC0>) completed
2025-06-21 09:10:31,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCAAC0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:31,204 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6CFCAAC0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:31,204 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCAAC0>)
2025-06-21 09:10:31,205 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6CFCAAC0>) completed
2025-06-21 09:10:31,205 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,208 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,208 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,209 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8FE20>)
2025-06-21 09:10:31,209 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8FE20>) completed
2025-06-21 09:10:31,216 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BD64B80>
2025-06-21 09:10:31,217 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BD64B80> completed
2025-06-21 09:10:31,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FF10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:31,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FF10>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:31,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FF10>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:31,218 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8FF10>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:31,218 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FF10>)
2025-06-21 09:10:31,218 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8FF10>) completed
2025-06-21 09:10:31,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BD8C840>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ())
2025-06-21 09:10:31,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6BD8C840>, "SELECT * FROM user_configurations WHERE user_id = '00000000-0000-0000-0000-000000000001' LIMIT 1", ()) completed
2025-06-21 09:10:31,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BD8C840>)
2025-06-21 09:10:31,219 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001DF6BD8C840>) completed
2025-06-21 09:10:31,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BD8C840>)
2025-06-21 09:10:31,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6BD8C840>) completed
2025-06-21 09:10:31,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8FF10>)
2025-06-21 09:10:31,227 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8FF10>) completed
2025-06-21 09:10:31,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8FF10>)
2025-06-21 09:10:31,227 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8FF10>) completed
2025-06-21 09:10:31,228 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8FF10>)
2025-06-21 09:10:31,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8FF10>) completed
2025-06-21 09:10:31,245 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,248 - asyncio - DEBUG - Using proactor: _IocpProactor
2025-06-21 09:10:31,249 - qasync._windows._EventPoller - DEBUG - Starting (proactor: <_IocpProactor overlapped#=0 result#=0>)...
2025-06-21 09:10:31,250 - qasync._windows._EventWorker - DEBUG - Thread started
2025-06-21 09:10:31,252 - ultibot_ui.main - INFO - Initializing or finding application window...
2025-06-21 09:10:31,252 - ultibot_ui.main - INFO - No existing MainWindow found. Creating a new one.
2025-06-21 09:10:31,252 - ultibot_ui.main - INFO - Stylesheet loaded successfully.
2025-06-21 09:10:31,253 - ultibot_ui.main - INFO - Fetching initial user configuration...
2025-06-21 09:10:31,253 - ultibot_ui.main - INFO - Configuration received for user ID: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
2025-06-21 09:10:31,253 - ultibot_ui.main - INFO - Main window created and shown.
2025-06-21 09:10:31,355 - ultibot_ui.main - INFO - aboutToQuit signal received, scheduling resource cleanup.
2025-06-21 09:10:31,355 - qasync._windows._EventPoller - DEBUG - Stopping worker thread...
2025-06-21 09:10:31,371 - qasync._windows._EventWorker - DEBUG - Exiting thread
2025-06-21 09:10:31,372 - qasync._windows._IocpProactor - DEBUG - Closing
2025-06-21 09:10:31,373 - ultibot_ui.main - INFO - Iniciando cierre de la aplicación.
2025-06-21 09:10:31,373 - ultibot_ui.main - INFO - Aplicación cerrada.
2025-06-21 09:10:31,375 - qasync._QEventLoop - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-379' coro=<cleanup_resources() running at C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\main.py:104>>
2025-06-21 09:10:31,379 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,576 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,767 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:31,982 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,176 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,183 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,188 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,194 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,198 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,201 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,205 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,210 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,215 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,218 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,220 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001DF6BDBD1C0>
2025-06-21 09:10:32,220 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001DF6BDBD1C0> completed
2025-06-21 09:10:32,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C7C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True)
2025-06-21 09:10:32,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C7C0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001DF6B7CA700>, deterministic=True) completed
2025-06-21 09:10:32,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C7C0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-21 09:10:32,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001DF6BC8C7C0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-21 09:10:32,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E81C0>, 'DELETE FROM user_configurations', ())
2025-06-21 09:10:32,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E81C0>, 'DELETE FROM user_configurations', ()) completed
2025-06-21 09:10:32,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E81C0>)
2025-06-21 09:10:32,226 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E81C0>) completed
2025-06-21 09:10:32,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,226 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E8640>, 'DELETE FROM trades', ())
2025-06-21 09:10:32,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E8640>, 'DELETE FROM trades', ()) completed
2025-06-21 09:10:32,228 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E8640>)
2025-06-21 09:10:32,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E8640>) completed
2025-06-21 09:10:32,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E84C0>, 'DELETE FROM strategy_configurations', ())
2025-06-21 09:10:32,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E84C0>, 'DELETE FROM strategy_configurations', ()) completed
2025-06-21 09:10:32,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E84C0>)
2025-06-21 09:10:32,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E84C0>) completed
2025-06-21 09:10:32,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E8440>, 'DELETE FROM portfolio_snapshots', ())
2025-06-21 09:10:32,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E8440>, 'DELETE FROM portfolio_snapshots', ()) completed
2025-06-21 09:10:32,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E8440>)
2025-06-21 09:10:32,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E8440>) completed
2025-06-21 09:10:32,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E83C0>, 'DELETE FROM opportunities', ())
2025-06-21 09:10:32,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E83C0>, 'DELETE FROM opportunities', ()) completed
2025-06-21 09:10:32,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E83C0>)
2025-06-21 09:10:32,233 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E83C0>) completed
2025-06-21 09:10:32,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,234 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E8240>, 'DELETE FROM market_data', ())
2025-06-21 09:10:32,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E8240>, 'DELETE FROM market_data', ()) completed
2025-06-21 09:10:32,234 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E8240>)
2025-06-21 09:10:32,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E8240>) completed
2025-06-21 09:10:32,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E86C0>, 'DELETE FROM api_credentials', ())
2025-06-21 09:10:32,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001DF6D9E86C0>, 'DELETE FROM api_credentials', ()) completed
2025-06-21 09:10:32,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E86C0>)
2025-06-21 09:10:32,236 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001DF6D9E86C0>) completed
2025-06-21 09:10:32,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8C7C0>)
2025-06-21 09:10:32,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001DF6BC8C7C0>) completed
2025-06-21 09:10:32,248 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,251 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,255 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,259 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,261 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,264 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,278 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,287 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,295 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,302 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,311 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,319 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,329 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,337 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,342 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,346 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,351 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,356 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,362 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,368 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,372 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,377 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,381 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,385 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,391 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,397 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,401 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,405 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,412 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,417 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,422 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,430 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,435 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,441 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,446 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,456 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,457 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,458 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,458 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,458 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: real
2025-06-21 09:10:32,459 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,459 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,460 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,460 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:10:32,461 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,461 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,463 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,463 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,464 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,464 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,465 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,465 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:10:32,467 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,467 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,467 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,468 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,469 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,470 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,470 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,470 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,471 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,471 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,473 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,473 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,474 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: <Mock id='2059099043536'>
2025-06-21 09:10:32,474 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,474 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: <Mock id='2059099043536'>
2025-06-21 09:10:32,475 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from real to paper
2025-06-21 09:10:32,475 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,476 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,476 - ultibot_ui.services.trading_mode_state - DEBUG - Added subscriber: failing_callback
2025-06-21 09:10:32,476 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,477 - ultibot_ui.services.trading_mode_state - ERROR - Error notifying subscriber about mode change: Test error
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\tests\integration\..\..\src\ultibot_ui\services\trading_mode_state.py", line 102, in set_trading_mode
    subscriber(mode)
  File "C:\Users\zamor\UltiBotInversiones\tests\unit\services\test_trading_mode_state.py", line 179, in failing_callback
    raise Exception("Test error")
Exception: Test error
2025-06-21 09:10:32,477 - ultibot_ui.services.trading_mode_state - DEBUG - Removed subscriber: failing_callback
2025-06-21 09:10:32,478 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,478 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,478 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,479 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,479 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,479 - ultibot_ui.services.trading_mode_state - INFO - Loaded trading mode from config: real
2025-06-21 09:10:32,480 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,480 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,480 - ultibot_ui.services.trading_mode_state - WARNING - Invalid trading mode in config: invalid. Using default.
2025-06-21 09:10:32,481 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,482 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,482 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:32,483 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,483 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,483 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:32,483 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,484 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,484 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,484 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:32,485 - ultibot_ui.services.trading_mode_state - INFO - Reset global trading mode state manager
2025-06-21 09:10:32,485 - ultibot_ui.services.trading_mode_state - INFO - TradingModeStateManager initialized with mode: paper
2025-06-21 09:10:32,485 - ultibot_ui.services.trading_mode_state - INFO - Created global trading mode state manager
2025-06-21 09:10:32,485 - ultibot_ui.services.trading_mode_state - INFO - Trading mode changed from paper to real
2025-06-21 09:10:32,488 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,493 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,497 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,501 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,529 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,541 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,553 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,567 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,581 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,593 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,605 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,618 - asyncio - DEBUG - Using selector: SelectSelector
2025-06-21 09:10:32,624 - tests.conftest - INFO - Motor de base de datos dispuesto.
2025-06-21 09:10:32,625 - tests.conftest - WARNING - Intento 1/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp_9fvm8u_. Reintentando en 0.2s...
2025-06-21 09:10:32,826 - tests.conftest - WARNING - Intento 2/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp_9fvm8u_. Reintentando en 0.2s...
2025-06-21 09:10:33,028 - tests.conftest - WARNING - Intento 3/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp_9fvm8u_. Reintentando en 0.2s...
2025-06-21 09:10:33,228 - tests.conftest - WARNING - Intento 4/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp_9fvm8u_. Reintentando en 0.2s...
2025-06-21 09:10:33,429 - tests.conftest - WARNING - Intento 5/5: No se pudo eliminar C:\Users\zamor\AppData\Local\Temp\tmp_9fvm8u_. Reintentando en 0.2s...
2025-06-21 09:10:33,630 - tests.conftest - ERROR - No se pudo eliminar el directorio temporal C:\Users\zamor\AppData\Local\Temp\tmp_9fvm8u_ después de 5 intentos.
2025-06-21 09:10:34,285 - qasync._windows._IocpProactor - DEBUG - Closing
