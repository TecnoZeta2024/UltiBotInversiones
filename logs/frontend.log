2025-06-27 22:25:13,755 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:25:13,761 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:25:13,764 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:25:14,385 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:25:14,386 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:25:32,570 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:25:32,572 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:25:32,595 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:25:32,598 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:25:44,411 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:25:44,413 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:25:44,423 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:25:44,425 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:25:45,115 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:25:45,117 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:26:15,144 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:26:15,146 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:26:15,153 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:26:15,155 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:26:15,809 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:26:15,810 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:26:19,500 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:26:19,501 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:26:19,525 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:26:19,527 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:26:45,835 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:26:45,837 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:26:45,842 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:26:45,845 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:26:46,409 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:26:46,411 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:16,473 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:27:16,475 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:27:16,487 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:27:16,489 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:27:17,114 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:27:17,115 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:47,147 - ultibot_backend - INFO - [MainThread] - main.py:123 - Middleware: Solicitud entrante: GET /health
2025-06-27 22:27:47,150 - ultibot_backend - INFO - [MainThread] - main.py:170 - Ejecutando health check extendido
2025-06-27 22:27:47,159 - ultibot_backend.adapters.persistence_service - INFO - [MainThread] - persistence_service.py:93 - Database connection test successful.
2025-06-27 22:27:47,161 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:30 - Redis ping successful.
2025-06-27 22:27:47,804 - ultibot_backend - INFO - [MainThread] - main.py:211 - Health check completado: Todos los componentes están operativos
2025-06-27 22:27:47,806 - ultibot_backend - INFO - [MainThread] - main.py:125 - Middleware: Solicitud procesada: GET /health - Status: 200
2025-06-27 22:27:55,721 - ultibot_backend - INFO - [MainThread] - main.py:111 - Creando nueva instancia de FastAPI...
2025-06-27 22:27:55,722 - ultibot_backend - INFO - [MainThread] - main.py:154 - Registrando routers de la API...
2025-06-27 22:27:55,745 - ultibot_backend - INFO - [MainThread] - main.py:165 - Todos los routers han sido registrados.
2025-06-27 22:27:55,747 - ultibot_backend - INFO - [MainThread] - main.py:218 - Instancia global de la aplicación creada.
2025-06-27 22:28:10,069 - ultibot_backend - INFO - [MainThread] - main.py:100 - Apagando UltiBot Backend (lifespan)...
2025-06-27 22:28:10,072 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:205 - Shutting down dependency container...
2025-06-27 22:28:10,078 - ultibot_backend.adapters.redis_cache - INFO - [MainThread] - redis_cache.py:40 - Redis client closed.
2025-06-27 22:28:10,080 - ultibot_backend.dependencies - INFO - [MainThread] - dependencies.py:212 - Dependency container shut down.
2025-06-27 22:28:10,081 - ultibot_backend - INFO - [MainThread] - main.py:103 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:27,411 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,412 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:27,944 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:27,945 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:27,950 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:27,952 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:27,963 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,964 - ultibot_backend - INFO - [Thread-15 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:27,972 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:27,976 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:28,369 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:28,370 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:28,373 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:28,374 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:28,381 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,383 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:11:28,390 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,391 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:11:28,791 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-27 21:11:28,792 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-27 21:11:28,797 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:134 - Middleware: Solicitud entrante: POST /api/v1/market-order
2025-06-27 21:11:28,797 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:136 - Middleware: Solicitud procesada: POST /api/v1/market-order - Status: 404
2025-06-27 21:11:28,803 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-27 21:11:28,804 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-27 21:14:01,525 - ultibot_backend - INFO - [Thread-16 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:01,525 - ultibot_backend - INFO - [Thread-16 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:01,526 - ultibot_backend - CRITICAL - [Thread-16 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:01,773 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:01,773 - ultibot_backend - INFO - [Thread-17 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:01,774 - ultibot_backend - CRITICAL - [Thread-17 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-27 21:14:02,061 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-27 21:14:02,061 - ultibot_backend - INFO - [Thread-18 (run_blocking_portal)] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-27 21:14:02,062 - ultibot_backend - CRITICAL - [Thread-18 (run_blocking_portal)] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Database session factory not initialized before persistence service initialization.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 118, in initialize_services
    raise RuntimeError("Database session factory not initialized before persistence service initialization.")
RuntimeError: Database session factory not initialized before persistence service initialization.
2025-06-28 11:17:28,628 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:17:28,628 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:17:29,259 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): CredentialService.__init__() got an unexpected keyword argument 'session_factory'
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
TypeError: CredentialService.__init__() got an unexpected keyword argument 'session_factory'
2025-06-28 11:20:12,607 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:20:12,607 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:20:13,017 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): 5 validation errors for AppSettings
SUPABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_ANON_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_SERVICE_ROLE_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
DATABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 28, in __init__
    app_settings = get_app_settings()
                   ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\app_config.py", line 52, in get_app_settings
    return AppSettings()  # type: ignore
           ^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic_settings\main.py", line 176, in __init__
    super().__init__(
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 5 validation errors for AppSettings
SUPABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_ANON_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SUPABASE_SERVICE_ROLE_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
DATABASE_URL
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'GEMINI_API_KEY': 'AIzaS...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-28 11:22:28,748 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:22:28,748 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:22:29,187 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): 1 validation error for AppSettings
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'SUPABASE_URL': 'http://...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 28, in __init__
    app_settings = get_app_settings()
                   ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\app_config.py", line 55, in get_app_settings
    return AppSettings(_env_file=env_file_to_use)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic_settings\main.py", line 176, in __init__
    super().__init__(
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AppSettings
CREDENTIAL_ENCRYPTION_KEY
  Field required [type=missing, input_value={'SUPABASE_URL': 'http://...E3Jwcj0dBj58l2Wxj_qnko'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-06-28 11:23:56,434 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:23:56,434 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:23:56,927 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): Error al inicializar Fernet: Fernet key must be 32 url-safe base64-encoded bytes.
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\cryptography\fernet.py", line 35, in __init__
    key = base64.urlsafe_b64decode(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\base64.py", line 134, in urlsafe_b64decode
    return b64decode(s)
           ^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\base64.py", line 88, in b64decode
    return binascii.a2b_base64(s, strict_mode=validate)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
binascii.Error: Incorrect padding

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 38, in __init__
    self.fernet = Fernet(encryption_key_str.encode('utf-8'))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\cryptography\fernet.py", line 37, in __init__
    raise ValueError(
ValueError: Fernet key must be 32 url-safe base64-encoded bytes.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 136, in initialize_services
    self.credential_service = CredentialService(
                              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\services\credential_service.py", line 41, in __init__
    raise ValueError(f"Error al inicializar Fernet: {e}")
ValueError: Error al inicializar Fernet: Fernet key must be 32 url-safe base64-encoded bytes.
2025-06-28 11:26:47,289 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:26:47,289 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:26:47,739 - ultibot_backend - CRITICAL - [MainThread] - main.py:105 - Error fatal durante el arranque de la aplicación (lifespan): TradingReportService.__init__() got an unexpected keyword argument 'session_factory'
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 101, in lifespan
    await container.initialize_services()
  File "C:\Users\zamor\UltiBotInversiones\src\dependencies.py", line 140, in initialize_services
    self.trading_report_service = TradingReportService(session_factory=cast(async_sessionmaker[AsyncSession], _session_factory))
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradingReportService.__init__() got an unexpected keyword argument 'session_factory'
2025-06-28 11:28:26,180 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:28:26,180 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:28:26,671 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:28:26,671 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:31:26,421 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:31:26,454 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:31:39,451 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:31:39,451 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:31:39,910 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:31:39,910 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:35:53,236 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:35:53,236 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:35:53,928 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:35:53,928 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:37:15,172 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:37:15,172 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:37:15,753 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:37:15,753 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:38:06,718 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:38:06,718 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:38:07,317 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:38:07,317 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:38:07,586 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:38:07,586 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:39:20,833 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:39:20,833 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:41:31,398 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:41:31,398 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:41:32,000 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:41:32,001 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:41:32,222 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:41:32,222 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:41:33,320 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:41:33,321 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:43:11,869 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:43:11,869 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:43:49,381 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:43:49,381 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:43:49,993 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:43:49,996 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:43:50,172 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:43:50,173 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:43:51,220 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:43:51,220 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:47:48,103 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:47:48,103 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 11:49:19,088 - ultibot_backend - INFO - [MainThread] - main.py:93 - Iniciando UltiBot Backend (lifespan)...
2025-06-28 11:49:19,088 - ultibot_backend - INFO - [MainThread] - main.py:98 - DependencyContainer adjuntado a app.state: True
2025-06-28 11:49:19,759 - ultibot_backend - INFO - [MainThread] - main.py:102 - Contenedor de dependencias inicializado en lifespan.
2025-06-28 11:49:19,759 - ultibot_backend - INFO - [MainThread] - main.py:108 - Aplicación iniciada correctamente (lifespan).
2025-06-28 11:49:19,795 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:49:19,795 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:49:20,850 - ultibot_backend - INFO - [MainThread] - main.py:134 - Middleware: Solicitud entrante: GET /docs
2025-06-28 11:49:20,850 - ultibot_backend - INFO - [MainThread] - main.py:136 - Middleware: Solicitud procesada: GET /docs - Status: 200
2025-06-28 11:50:09,027 - ultibot_backend - INFO - [MainThread] - main.py:111 - Apagando UltiBot Backend (lifespan)...
2025-06-28 11:50:09,030 - ultibot_backend - INFO - [MainThread] - main.py:114 - Recursos liberados y aplicación apagada (lifespan).
2025-06-28 14:06:51,032 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:51,039 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:51,039 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:51,665 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/04ed6064-09cd-4430-98ab-91c4d9f1da32
2025-06-28 14:06:51,682 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/04ed6064-09cd-4430-98ab-91c4d9f1da32 - Status: 404
2025-06-28 14:06:51,965 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:51,965 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:51,972 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:51,972 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:51,994 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:51,994 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:51,995 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:51,996 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:51,996 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:51,996 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:51,997 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:51,998 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:51,999 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:52,000 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:52,001 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:52,002 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:52,003 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:52,003 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:52,004 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:52,006 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:52,006 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:52,007 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:52,573 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/55290de8-c8a3-47d6-9b37-145fedba9580
2025-06-28 14:06:52,573 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/55290de8-c8a3-47d6-9b37-145fedba9580 - Status: 400
2025-06-28 14:06:52,595 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:52,595 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:52,601 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:52,601 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:52,612 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:52,612 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:52,612 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,621 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:52,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:52,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:52,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:52,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:52,623 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:52,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:52,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:52,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:52,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:52,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:52,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:52,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:52,627 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:52,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:52,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:52,630 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:52,631 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:53,233 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a1c395c9-f850-49f4-9109-e80eb686c03e
2025-06-28 14:06:53,244 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a1c395c9-f850-49f4-9109-e80eb686c03e - Status: 404
2025-06-28 14:06:53,273 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:53,274 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:53,274 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:53,274 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:53,298 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:53,298 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:53,298 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:53,299 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:53,300 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:53,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:53,306 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:53,307 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:53,308 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:53,309 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:53,310 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:53,310 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:53,311 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:53,879 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9e18d414-3fa5-4258-88fb-8bee30a1a5df
2025-06-28 14:06:53,890 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9e18d414-3fa5-4258-88fb-8bee30a1a5df - Status: 404
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:53,896 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:53,916 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,921 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,922 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:53,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:53,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:53,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:53,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:53,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:53,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:53,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:53,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:53,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:53,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:53,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:53,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:53,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:53,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:53,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:53,931 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:54,511 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/664cc67e-7a0c-48b4-a6b8-cfcf1b322d73
2025-06-28 14:06:54,522 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/664cc67e-7a0c-48b4-a6b8-cfcf1b322d73 - Status: 404
2025-06-28 14:06:54,528 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:54,529 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:54,531 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:54,532 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:54,556 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:54,557 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:54,557 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,557 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:54,558 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:54,561 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:55,130 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9e42926e-6031-4461-995a-ce346fcbb74b
2025-06-28 14:06:55,141 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9e42926e-6031-4461-995a-ce346fcbb74b - Status: 404
2025-06-28 14:06:55,146 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:55,146 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:55,152 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:55,152 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:55,172 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:55,173 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:55,173 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,174 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:55,175 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:55,176 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:55,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,177 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:55,178 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:55,179 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:55,181 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:55,869 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:06:55,873 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:06:55,877 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:55,877 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:55,881 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:55,881 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:55,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:55,906 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:55,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:55,907 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:55,908 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:55,909 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:55,910 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:55,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:55,913 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:56,473 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:06:56,482 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:06:56,482 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:56,482 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:06:56,488 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:06:56,489 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:06:56,510 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:06:56,510 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:06:56,511 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,511 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,511 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:56,512 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:06:56,513 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:06:56,515 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:06:56,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:06:56,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:06:56,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:06:56,522 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:06:56,522 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:06:56,523 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:06:57,092 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:06:57,092 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:06:57,101 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:06:57,105 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:26,334 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:26,334 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:26,334 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:26,937 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5bd30495-6a59-483e-97a1-25c70d483f08
2025-06-28 14:11:26,951 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/5bd30495-6a59-483e-97a1-25c70d483f08 - Status: 404
2025-06-28 14:11:27,231 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:27,231 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:27,243 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:27,243 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:27,264 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:27,264 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,266 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:27,268 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:27,271 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:27,273 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:27,277 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:27,277 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:27,278 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:27,851 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/0c469cdf-12fe-4350-88e6-dccdd898320b
2025-06-28 14:11:27,851 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/0c469cdf-12fe-4350-88e6-dccdd898320b - Status: 400
2025-06-28 14:11:27,851 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:27,859 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:27,861 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:27,861 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:27,883 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:27,884 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:27,885 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,886 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,887 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,888 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:27,888 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:27,889 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:27,890 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:27,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:27,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:27,892 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:27,893 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:27,893 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:27,894 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:27,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:27,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:27,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:27,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:27,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:27,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:27,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:27,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:27,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:27,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:27,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:27,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:27,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:27,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:27,902 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:27,902 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:27,903 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:28,461 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/8441d03f-4cb9-4180-ad80-b3656bc0532b
2025-06-28 14:11:28,471 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/8441d03f-4cb9-4180-ad80-b3656bc0532b - Status: 404
2025-06-28 14:11:28,500 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:28,501 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:28,501 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:28,501 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:28,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:28,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:28,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:28,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:28,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:28,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:28,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:28,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:28,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:28,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:28,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:28,532 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:28,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:28,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:28,538 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:28,538 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:28,538 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:29,101 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/7316ea7a-1cf1-44b7-b422-77ab10dbb1fa
2025-06-28 14:11:29,121 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/7316ea7a-1cf1-44b7-b422-77ab10dbb1fa - Status: 404
2025-06-28 14:11:29,128 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:29,128 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:29,131 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:29,131 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:29,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:29,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:29,160 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:29,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:29,161 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:29,162 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:29,163 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:29,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:29,164 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:29,165 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:29,165 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:29,165 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:29,721 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3aef1acb-fd20-44d4-8d39-e77a9e18f181
2025-06-28 14:11:29,731 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3aef1acb-fd20-44d4-8d39-e77a9e18f181 - Status: 404
2025-06-28 14:11:29,731 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:29,741 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:29,745 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:29,745 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:29,769 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:29,769 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,770 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:29,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:29,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:29,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:29,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:29,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:29,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:29,773 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:29,774 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:29,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:29,776 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:29,777 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:29,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:29,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:29,778 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:29,779 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:29,780 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:29,781 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:29,781 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:29,781 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:29,782 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:30,331 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/24ca8065-38fe-4727-826c-72f50951bdd9
2025-06-28 14:11:30,344 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/24ca8065-38fe-4727-826c-72f50951bdd9 - Status: 404
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:30,351 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:30,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:30,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:30,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:30,477 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:30,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:30,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:30,481 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:31,044 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:11:31,051 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:11:31,079 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:31,081 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:31,081 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:31,085 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:31,101 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:31,101 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:31,101 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:31,105 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:31,110 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:31,111 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:31,112 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:31,113 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:31,114 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:31,115 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:31,116 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:31,116 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:31,677 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:11:31,678 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:11:31,680 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:31,681 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:11:31,681 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:11:31,681 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:11:31,701 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:11:31,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:11:31,710 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:11:31,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:11:31,712 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:11:31,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:11:31,715 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:11:32,280 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:11:32,282 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:11:32,287 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:11:32,290 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:08,071 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:08,071 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:08,071 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:08,711 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/60c193fb-cf47-4c16-b6ed-ac2ce9093ca9
2025-06-28 14:12:08,731 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/60c193fb-cf47-4c16-b6ed-ac2ce9093ca9 - Status: 404
2025-06-28 14:12:09,031 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:09,034 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:09,036 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:09,036 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:09,059 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:09,062 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:09,062 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,062 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:09,063 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:09,064 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,065 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:09,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:09,066 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:09,067 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:09,068 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:09,071 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:09,073 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:09,073 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:09,073 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:09,641 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3f9fc588-d47f-4bc7-b654-d50c48a19c73
2025-06-28 14:12:09,641 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3f9fc588-d47f-4bc7-b654-d50c48a19c73 - Status: 400
2025-06-28 14:12:09,645 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:09,645 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:09,650 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:09,650 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:09,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:09,678 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:09,679 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:09,681 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:10,244 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e3874fe1-5a10-46c9-83e2-595cb2e4b84c
2025-06-28 14:12:10,251 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e3874fe1-5a10-46c9-83e2-595cb2e4b84c - Status: 404
2025-06-28 14:12:10,278 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:10,281 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:10,281 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:10,281 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:10,301 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:10,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:10,311 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:10,312 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:10,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:10,313 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:10,314 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:10,315 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:10,316 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:10,317 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:10,317 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:10,317 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:10,871 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/dcfe581f-72e1-4b30-b201-0928325f59b0
2025-06-28 14:12:10,878 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/dcfe581f-72e1-4b30-b201-0928325f59b0 - Status: 404
2025-06-28 14:12:10,881 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:10,881 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:10,891 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:10,891 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:10,912 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:10,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:10,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:10,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:10,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:10,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:10,924 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:10,925 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:10,925 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:11,491 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/1b6b709d-d29e-4846-ae92-b0c49233da77
2025-06-28 14:12:11,501 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/1b6b709d-d29e-4846-ae92-b0c49233da77 - Status: 404
2025-06-28 14:12:11,511 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:11,512 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:11,512 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:11,512 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:11,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:11,541 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:11,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:11,544 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:11,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:11,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:11,545 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:11,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:11,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:11,546 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:11,547 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:11,547 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:11,547 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:12,101 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/85a4fff1-e360-459a-9f84-f4210e398be7
2025-06-28 14:12:12,115 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/85a4fff1-e360-459a-9f84-f4210e398be7 - Status: 404
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:12,121 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:12,149 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:12,149 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:12,149 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:12,150 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,151 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:12,154 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:12,155 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:12,159 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:12,161 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:12,161 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:12,162 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:12,731 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:12:12,731 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:12:12,866 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:12,867 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:12,871 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:12,871 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:12,883 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:12,891 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:12,895 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:12,896 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:12,897 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:12,898 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:12,899 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:12,900 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:12,901 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:13,471 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:12:13,478 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:12:13,478 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:12:13,500 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:12:13,501 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:12:13,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:12:13,511 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:12:13,513 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:12:13,513 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:12:13,513 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:12:14,091 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:12:14,091 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:12:14,101 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:12:14,101 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:14:09,905 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:14:09,905 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:14:09,905 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:14:10,616 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3f5475ea-59f5-49c3-8aba-eec71a1000cf
2025-06-28 14:14:10,637 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/3f5475ea-59f5-49c3-8aba-eec71a1000cf - Status: 404
2025-06-28 14:14:10,918 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:14:10,921 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:14:40,998 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:14:41,000 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:14:41,001 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:14:41,707 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/824fa1be-0fe3-4618-a2d6-076b3d8b99bf
2025-06-28 14:14:41,727 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/824fa1be-0fe3-4618-a2d6-076b3d8b99bf - Status: 404
2025-06-28 14:14:42,036 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:14:42,038 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:15:50,271 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:15:50,271 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:15:50,271 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:15:50,906 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5a358b34-3a6e-49c2-b69a-a6c4e3845d19
2025-06-28 14:15:50,923 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/5a358b34-3a6e-49c2-b69a-a6c4e3845d19 - Status: 404
2025-06-28 14:15:51,199 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:15:51,201 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:19:21,311 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:19:21,311 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:19:21,311 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:19:21,767 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/466e7d55-b8e2-4fe9-a4fd-52ebc679d04f
2025-06-28 14:19:21,770 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/466e7d55-b8e2-4fe9-a4fd-52ebc679d04f - Status: 403
2025-06-28 14:19:22,046 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:19:22,048 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:24,715 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:24,715 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:24,715 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:25,201 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a7f86d2f-0c64-4f19-9073-11334db4cb6e
2025-06-28 14:23:25,206 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a7f86d2f-0c64-4f19-9073-11334db4cb6e - Status: 200
2025-06-28 14:23:25,210 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:25,211 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:25,215 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:23:25,215 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:23:25,238 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:23:25,238 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:23:25,239 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,239 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,239 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,240 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,240 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:23:25,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:23:25,241 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,242 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,243 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:23:25,243 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:23:25,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:23:25,244 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:23:25,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:23:25,245 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:23:25,246 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,246 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,246 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:23:25,247 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:23:25,247 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:23:25,247 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:23:25,248 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:23:25,248 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:23:25,248 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:23:25,249 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:23:25,249 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:23:25,249 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:23:25,250 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:23:25,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:23:25,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:23:25,251 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:23:25,252 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:23:25,253 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:23:25,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:23:25,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:23:25,254 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:23:25,255 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:23:25,256 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:25,256 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:25,257 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:25,687 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a98b36ae-f7db-40ae-bd28-d5538102f755
2025-06-28 14:23:25,692 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a98b36ae-f7db-40ae-bd28-d5538102f755 - Status: 400
2025-06-28 14:23:25,694 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:25,695 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:25,697 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:23:25,698 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:23:25,721 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:23:25,722 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:23:25,722 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,723 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,723 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,724 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:25,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:23:25,724 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:23:25,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:25,725 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:23:25,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:23:25,726 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:23:25,727 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:23:25,728 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:23:25,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:23:25,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:23:25,729 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:23:25,730 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:23:25,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:23:25,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:23:25,731 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:23:25,732 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:23:25,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:23:25,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:23:25,733 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:23:25,734 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:23:25,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:23:25,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:23:25,735 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:23:25,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:23:25,736 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:23:25,737 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:25,738 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:25,738 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:26,150 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/28428391-f5e6-4bca-8c4f-cb4aa6b8ef8c
2025-06-28 14:23:26,156 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/28428391-f5e6-4bca-8c4f-cb4aa6b8ef8c - Status: 404
2025-06-28 14:23:26,160 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:26,161 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:23:26,164 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:23:26,164 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:23:26,186 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:23:26,186 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:23:26,186 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,187 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,188 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,188 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:23:26,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:23:26,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:23:26,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:23:26,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:23:26,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:23:26,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:23:26,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:23:26,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:23:26,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:23:26,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:23:26,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:23:26,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:23:26,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:23:26,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:23:26,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:23:26,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:23:26,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:23:26,196 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:23:26,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:23:26,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:23:26,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:23:26,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:23:26,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:23:26,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:23:26,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:23:26,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:23:26,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:23:26,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:23:26,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:23:26,202 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:23:26,202 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:23:26,203 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:23:26,635 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/97a813d6-40ed-4d67-952a-a3168e976219
2025-06-28 14:23:26,637 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/97a813d6-40ed-4d67-952a-a3168e976219: 'str' object has no attribute 'value'
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    |     raise app_exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 278, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\zamor\UltiBotInversiones\src\api\v1\endpoints\trading.py", line 59, in confirm_real_opportunity
    |     detail=f"Opportunity {opportunity_id} is not in 'pending_user_confirmation_real' status. Current status: {opportunity.status.value}"
    |                                                                                                               ^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'str' object has no attribute 'value'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\api\v1\endpoints\trading.py", line 59, in confirm_real_opportunity
    detail=f"Opportunity {opportunity_id} is not in 'pending_user_confirmation_real' status. Current status: {opportunity.status.value}"
                                                                                                              ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2025-06-28 14:23:27,190 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:23:27,190 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:04,246 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:04,246 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:04,246 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:04,721 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/94c3b6d0-9496-41e2-a3d4-81ff6af51d6f
2025-06-28 14:24:04,723 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/94c3b6d0-9496-41e2-a3d4-81ff6af51d6f - Status: 200
2025-06-28 14:24:04,726 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:04,727 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:04,729 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:04,730 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:04,751 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:04,751 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:04,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,753 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:04,754 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:04,755 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:04,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:04,757 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:04,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:04,758 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:04,759 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:04,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:04,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:04,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:04,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:04,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:04,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:04,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:04,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:04,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:04,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:04,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:04,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:04,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:04,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:04,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:04,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:04,769 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:04,769 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:04,769 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:05,180 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/8a0a93ea-396b-4d8f-bba0-e93b9f18d41a
2025-06-28 14:24:05,184 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/8a0a93ea-396b-4d8f-bba0-e93b9f18d41a - Status: 400
2025-06-28 14:24:05,185 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:05,186 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:05,189 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:05,189 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:05,212 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:05,213 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:05,213 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,214 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,214 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,214 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:05,215 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:05,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:05,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:05,218 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:05,219 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:05,220 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:05,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:05,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:05,221 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:05,222 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:05,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:05,224 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:05,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:05,225 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:05,226 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:05,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:05,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:05,228 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:05,229 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:05,229 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:05,231 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:05,625 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/55ff7b55-eb58-41ee-a1fc-3f1e9a331584
2025-06-28 14:24:05,630 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/55ff7b55-eb58-41ee-a1fc-3f1e9a331584 - Status: 404
2025-06-28 14:24:05,632 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:05,633 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:05,636 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:05,636 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:05,659 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:05,660 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:05,660 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,660 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,661 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,661 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:05,661 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:05,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:05,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,662 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:05,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:05,663 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:05,664 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:05,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:05,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:05,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:05,667 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:05,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:05,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:05,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:05,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:05,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:05,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:05,670 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:05,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:05,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:05,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:05,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:05,675 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:05,676 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:05,676 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:06,075 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5f0d7ac1-475a-45d3-b1dd-7c4695c13b05
2025-06-28 14:24:06,080 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/5f0d7ac1-475a-45d3-b1dd-7c4695c13b05: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-06-28 14:24:06,591 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:06,591 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:37,012 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:37,012 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:37,012 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:37,445 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/0554bb21-8279-45af-9167-48b5ea639b5d
2025-06-28 14:24:37,447 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/0554bb21-8279-45af-9167-48b5ea639b5d - Status: 200
2025-06-28 14:24:37,448 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:37,451 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:37,453 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:37,454 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:37,470 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:37,470 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:37,470 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,474 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,474 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,475 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:37,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:37,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:37,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:37,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:37,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:37,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:37,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:37,483 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:37,880 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/2ab35bed-d6dd-4b80-9384-55239c442336
2025-06-28 14:24:37,882 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/2ab35bed-d6dd-4b80-9384-55239c442336 - Status: 400
2025-06-28 14:24:37,884 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:37,885 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:37,888 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:37,888 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:37,915 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:37,916 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:37,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,918 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,919 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:37,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:37,919 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:37,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:37,922 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:37,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:37,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:37,925 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:37,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:37,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:37,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:37,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:37,932 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:37,934 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:37,935 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:37,936 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:37,936 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:37,937 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:37,938 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:37,940 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:37,941 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:37,942 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:38,330 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/28782f46-8fdc-419d-966c-76c2a71b394e
2025-06-28 14:24:38,332 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/28782f46-8fdc-419d-966c-76c2a71b394e - Status: 404
2025-06-28 14:24:38,334 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:38,335 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:24:38,338 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:24:38,338 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:24:38,361 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:24:38,361 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:24:38,362 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,362 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,362 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:24:38,363 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:38,364 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:24:38,364 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:24:38,365 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:24:38,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:24:38,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:24:38,368 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:24:38,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:24:38,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:24:38,369 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:24:38,370 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:24:38,371 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:24:38,371 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:24:38,371 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:24:38,372 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:24:38,373 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:24:38,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:24:38,374 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:24:38,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:24:38,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:24:38,376 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:24:38,377 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:24:38,378 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:24:38,378 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:24:38,378 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:24:38,808 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/3847e6d1-8a2d-4637-93d7-09fdc3139942
2025-06-28 14:24:38,815 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/3847e6d1-8a2d-4637-93d7-09fdc3139942: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-06-28 14:24:39,380 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:24:39,380 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:33:30,520 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:33:30,520 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:33:30,520 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:33:31,230 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/83cfad63-1d37-4f5d-be06-a26f7f9aff0f
2025-06-28 14:33:31,260 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/83cfad63-1d37-4f5d-be06-a26f7f9aff0f - Status: 404
2025-06-28 14:33:31,552 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:33:31,552 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:34:38,190 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:34:38,190 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:34:38,191 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:34:38,887 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/76a9cf68-c255-4ba8-8bf1-81a36782b805
2025-06-28 14:34:38,906 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/76a9cf68-c255-4ba8-8bf1-81a36782b805 - Status: 404
2025-06-28 14:34:39,234 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:34:39,237 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,409 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,410 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,410 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,427 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9e0e7a4f-a6d0-482b-ba8c-a743056abebe
2025-06-28 14:37:31,430 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9e0e7a4f-a6d0-482b-ba8c-a743056abebe - Status: 200
2025-06-28 14:37:31,431 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:31,433 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,438 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:37:31,440 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:37:31,459 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:37:31,459 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:37:31,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,461 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,462 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:37:31,464 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:37:31,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:37:31,465 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:37:31,466 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:37:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:37:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:37:31,467 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:37:31,468 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:37:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:37:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:37:31,469 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:37:31,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:37:31,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:37:31,470 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:37:31,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:37:31,471 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:37:31,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:37:31,472 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:37:31,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:37:31,473 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:37:31,474 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:37:31,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:37:31,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:37:31,475 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:37:31,476 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:37:31,477 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,477 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,477 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,479 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/fe9a86ad-ebef-4933-87f7-ccea3430dd08
2025-06-28 14:37:31,480 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/fe9a86ad-ebef-4933-87f7-ccea3430dd08 - Status: 400
2025-06-28 14:37:31,482 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:31,482 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,489 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:37:31,489 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:37:31,511 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:37:31,513 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:37:31,514 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:37:31,516 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:37:31,517 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,518 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:37:31,519 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:37:31,520 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:37:31,521 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:37:31,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:37:31,523 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:37:31,524 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:37:31,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:37:31,527 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,527 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,529 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,530 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e748b835-0f4b-4149-974a-834fdb2dcf17
2025-06-28 14:37:31,531 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e748b835-0f4b-4149-974a-834fdb2dcf17 - Status: 404
2025-06-28 14:37:31,533 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:31,534 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:37:31,540 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:37:31,541 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:37:31,560 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:37:31,562 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:37:31,562 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:37:31,563 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:37:31,564 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:37:31,565 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:37:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,567 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:37:31,568 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:37:31,570 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:37:31,571 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:37:31,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:37:31,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:37:31,574 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:37:31,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:37:31,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:37:31,576 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:37:31,578 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:37:31,578 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:37:31,580 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/83f9a55d-d815-419a-ad03-76721ea3cab8
2025-06-28 14:37:31,585 - ultibot_backend - CRITICAL - [MainThread] - main.py:150 - Excepción no controlada en POST /api/v1/trading/real/confirm-opportunity/83f9a55d-d815-419a-ad03-76721ea3cab8: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\src\main.py", line 136, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 165, in call_next
    raise app_exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 296, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\zamor\UltiBotInversiones\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-06-28 14:37:32,214 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:37:32,215 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,037 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,037 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,037 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,052 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/d7bfdb67-5771-446b-ae97-037454831a6c
2025-06-28 14:38:41,057 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/d7bfdb67-5771-446b-ae97-037454831a6c - Status: 200
2025-06-28 14:38:41,058 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,060 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,064 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:38:41,066 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:38:41,083 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:38:41,085 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:38:41,085 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:38:41,086 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:38:41,087 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:38:41,088 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:38:41,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:38:41,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:38:41,089 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:38:41,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:38:41,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,091 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:38:41,092 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:38:41,093 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:38:41,095 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:38:41,096 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:38:41,097 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:38:41,099 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:38:41,099 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,099 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,100 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,100 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/7f2ce056-e16b-40c8-8ebd-370a3185b49d
2025-06-28 14:38:41,103 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/7f2ce056-e16b-40c8-8ebd-370a3185b49d - Status: 400
2025-06-28 14:38:41,104 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,105 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,111 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:38:41,111 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:38:41,131 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:38:41,131 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:38:41,132 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,132 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,132 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:38:41,133 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:38:41,135 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,137 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:38:41,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:38:41,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:38:41,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:38:41,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:38:41,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:38:41,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:38:41,140 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:38:41,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:38:41,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:38:41,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:38:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:38:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:38:41,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:38:41,147 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,147 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,148 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,150 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/b550c148-10d0-4f64-ab7f-82a0613fd765
2025-06-28 14:38:41,151 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/b550c148-10d0-4f64-ab7f-82a0613fd765 - Status: 404
2025-06-28 14:38:41,152 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,153 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:38:41,159 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:38:41,159 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:38:41,181 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:38:41,181 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:38:41,182 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:38:41,183 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:38:41,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:38:41,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:38:41,185 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:38:41,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:38:41,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:38:41,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:38:41,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:38:41,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:38:41,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:38:41,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:38:41,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:38:41,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:38:41,192 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:38:41,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:38:41,194 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:38:41,194 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:38:41,194 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:38:41,197 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e980a691-175b-4f80-8d69-d6f9e37c7f40
2025-06-28 14:38:41,199 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e980a691-175b-4f80-8d69-d6f9e37c7f40 - Status: 400
2025-06-28 14:38:41,477 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:38:41,480 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,764 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,765 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,765 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,780 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/a1a76405-ffef-4f97-a518-b64bdefddb6b
2025-06-28 14:40:05,784 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/a1a76405-ffef-4f97-a518-b64bdefddb6b - Status: 200
2025-06-28 14:40:05,785 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,787 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,793 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,793 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,814 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,814 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,814 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,820 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,822 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,823 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,824 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,824 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,825 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,826 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,826 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,826 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,827 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,829 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,830 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,830 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,830 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,831 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/36811e9e-2a87-42e6-9771-273c8db63adf
2025-06-28 14:40:05,833 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/36811e9e-2a87-42e6-9771-273c8db63adf - Status: 400
2025-06-28 14:40:05,834 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,836 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,844 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,844 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,864 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,865 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,865 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,867 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,869 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,870 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,872 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,873 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,873 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,874 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,875 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,876 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,877 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,878 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,880 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,880 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,880 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,881 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,881 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,881 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,882 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/677bc3fd-58fc-4dbe-84fe-2d15b4b06dec
2025-06-28 14:40:05,884 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/677bc3fd-58fc-4dbe-84fe-2d15b4b06dec - Status: 404
2025-06-28 14:40:05,886 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,887 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,894 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,894 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,916 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,917 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,917 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,919 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,919 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,920 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,921 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,923 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,924 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,926 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,927 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,928 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,929 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,930 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,931 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,933 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,933 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,933 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,935 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/712c3a74-36c4-403a-a5a4-5ab9bbd0bd66
2025-06-28 14:40:05,936 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/712c3a74-36c4-403a-a5a4-5ab9bbd0bd66 - Status: 400
2025-06-28 14:40:05,938 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,940 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,945 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,947 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,967 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,969 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:05,969 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:05,970 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:05,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:05,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:05,972 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:05,974 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:05,975 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:05,977 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:05,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:05,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:05,978 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:05,979 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:05,981 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:05,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:05,982 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:05,983 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:05,983 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:05,983 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:05,985 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/5905baf1-fcf3-4dc2-aafe-734ca620a5eb
2025-06-28 14:40:05,987 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/5905baf1-fcf3-4dc2-aafe-734ca620a5eb - Status: 400
2025-06-28 14:40:05,990 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:05,990 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:05,996 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:05,997 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,019 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,019 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,019 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,020 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,021 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,021 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,022 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,023 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,024 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,025 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,026 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,027 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,028 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,029 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,030 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,031 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,033 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,035 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,035 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,035 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,037 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/b02242df-aa8c-48ce-a644-d2eb671de2d1
2025-06-28 14:40:06,039 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/b02242df-aa8c-48ce-a644-d2eb671de2d1 - Status: 403
2025-06-28 14:40:06,040 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,041 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:06,047 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:06,048 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,067 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,067 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,069 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,069 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,070 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,070 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,070 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,072 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,073 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,075 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,076 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,077 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,079 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,080 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,082 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,083 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,085 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,086 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,086 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,086 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,088 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:06,091 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:40:06,092 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,094 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:06,113 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:06,113 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,135 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,136 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,138 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,139 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,141 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,142 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,143 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,144 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,145 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,146 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,147 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,149 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,150 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,150 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,151 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:06,152 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:40:06,153 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,153 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:06,161 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:06,161 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:06,183 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:06,183 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:06,183 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,185 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,185 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,185 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:06,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:06,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:06,186 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:06,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:06,187 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:06,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:06,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:06,188 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:06,189 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:06,190 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:06,191 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:06,193 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:06,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:06,194 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:06,195 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:06,197 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:06,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:06,198 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:06,199 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:06,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:06,200 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:06,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:06,201 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:06,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:06,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:06,202 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:06,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:06,203 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:06,204 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:06,204 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:06,206 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:06,209 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:06,210 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:40:06,213 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:06,213 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,422 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,422 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,422 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,440 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/e7486328-34cc-4719-8339-7d041fc78158
2025-06-28 14:40:55,444 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/e7486328-34cc-4719-8339-7d041fc78158 - Status: 200
2025-06-28 14:40:55,445 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,446 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,452 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,452 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,475 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,477 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,478 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,479 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,480 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,481 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,482 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,484 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,486 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,487 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,489 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,489 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,490 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,490 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,492 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/c5daf84c-96b8-4698-a3fd-360e1a1c6bb3
2025-06-28 14:40:55,494 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/c5daf84c-96b8-4698-a3fd-360e1a1c6bb3 - Status: 400
2025-06-28 14:40:55,495 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,497 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,502 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,502 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,523 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,523 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,524 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,525 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,526 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,527 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,528 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,529 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,530 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,531 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,533 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,534 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,536 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,537 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,537 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,537 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,540 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/df3844a9-e7c7-4105-90eb-933331f00bfb
2025-06-28 14:40:55,541 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/df3844a9-e7c7-4105-90eb-933331f00bfb - Status: 404
2025-06-28 14:40:55,543 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,544 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,549 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,550 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,569 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,570 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,571 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,571 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,572 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,573 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,575 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,576 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,578 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,579 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,580 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,581 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,582 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,583 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,584 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,585 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,585 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,586 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,588 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/4aaae9ac-387c-4950-9ada-345a48cecb4a
2025-06-28 14:40:55,589 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/4aaae9ac-387c-4950-9ada-345a48cecb4a - Status: 400
2025-06-28 14:40:55,591 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,592 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,598 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,598 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,615 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,617 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,618 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,619 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,620 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,621 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,622 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,624 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,625 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,626 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,628 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,629 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,630 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,630 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,632 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,633 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/c109fc1d-b047-4ff1-860f-e8fae8ba2b70
2025-06-28 14:40:55,635 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/c109fc1d-b047-4ff1-860f-e8fae8ba2b70 - Status: 400
2025-06-28 14:40:55,637 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,638 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,644 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,644 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,663 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,663 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,665 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,666 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,668 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,669 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,671 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,673 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,674 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,675 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,676 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,677 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,677 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,677 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,679 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,680 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/real/confirm-opportunity/9789b5e0-d467-45f4-adae-0b961ee24d76
2025-06-28 14:40:55,682 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/real/confirm-opportunity/9789b5e0-d467-45f4-adae-0b961ee24d76 - Status: 403
2025-06-28 14:40:55,683 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,683 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,690 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,690 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,709 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,710 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,710 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,711 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,713 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,714 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,715 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,717 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,718 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,719 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,720 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,721 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,723 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,723 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,723 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,725 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:55,727 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 200
2025-06-28 14:40:55,729 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,730 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,736 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,736 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,758 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,759 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,759 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,759 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,760 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,761 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,762 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,763 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,764 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,765 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,766 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,767 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,768 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,769 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,771 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,772 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,772 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,774 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,774 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,775 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:55,777 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 422
2025-06-28 14:40:55,778 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,779 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
2025-06-28 14:40:55,784 - ultibot_backend - INFO - [MainThread] - main.py:123 - Creando nueva instancia de FastAPI...
2025-06-28 14:40:55,784 - ultibot_backend - INFO - [MainThread] - main.py:166 - Registrando routers de la API...
2025-06-28 14:40:55,803 - ultibot_backend - INFO - [MainThread] - main.py:177 - Todos los routers han sido registrados.
2025-06-28 14:40:55,805 - ultibot_backend - INFO - [MainThread] - main.py:180 - Rutas registradas en FastAPI:
2025-06-28 14:40:55,805 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,805 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:186 -   - Ruta no APIRoute (Tipo: Route)
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: get_user_config, Methods: [GET]
2025-06-28 14:40:55,806 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config, Name: update_user_config, Methods: [PATCH]
2025-06-28 14:40:55,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/activate, Name: activate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/deactivate, Name: deactivate_real_trading_mode_endpoint, Methods: [POST]
2025-06-28 14:40:55,807 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/config/real-trading-mode/status, Name: get_real_trading_mode_status_endpoint, Methods: [GET]
2025-06-28 14:40:55,809 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: create_strategy, Methods: [POST]
2025-06-28 14:40:55,809 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies, Name: list_strategies, Methods: [GET]
2025-06-28 14:40:55,809 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: get_strategy, Methods: [GET]
2025-06-28 14:40:55,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: update_strategy, Methods: [PUT]
2025-06-28 14:40:55,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}, Name: delete_strategy, Methods: [DELETE]
2025-06-28 14:40:55,810 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/activate, Name: activate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/{strategy_id}/deactivate, Name: deactivate_strategy, Methods: [PATCH]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/strategies/active/{mode}, Name: get_active_strategies_by_mode, Methods: [GET]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/history, Name: get_notification_history, Methods: [GET]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/notifications/{notification_id}/mark-as-read, Name: mark_notification_as_read, Methods: [POST]
2025-06-28 14:40:55,812 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/snapshot/{user_id}, Name: get_portfolio_snapshot, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/summary, Name: get_portfolio_summary, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/balance, Name: get_available_balance, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/paper/performance_summary, Name: get_paper_trading_performance, Methods: [GET]
2025-06-28 14:40:55,813 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/portfolio/real/performance_summary, Name: get_real_trading_performance, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades, Name: get_user_trades, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/open, Name: get_open_trades, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/count, Name: get_trades_count, Methods: [GET]
2025-06-28 14:40:55,815 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/paper, Name: get_paper_trading_history, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trades/history/real, Name: get_real_trading_history, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/strategies, Name: get_strategies_performance, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/performance/metrics, Name: get_trades_performance, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: get_gemini_opportunities, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/opportunities/real-trading-candidates, Name: get_real_trading_candidates, Methods: [GET]
2025-06-28 14:40:55,816 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/gemini/opportunities, Name: analyze_opportunities_with_gemini, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/real/confirm-opportunity/{opportunity_id}, Name: confirm_real_opportunity, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/market-order, Name: execute_market_order, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances, Name: get_paper_trading_balances, Methods: [GET]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/paper-balances/reset, Name: reset_paper_trading_balances, Methods: [POST]
2025-06-28 14:40:55,817 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/trading/supported-modes, Name: get_supported_trading_modes, Methods: [GET]
2025-06-28 14:40:55,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/tickers, Name: get_market_tickers, Methods: [GET]
2025-06-28 14:40:55,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/ticker/24hr/{symbol}, Name: get_ticker_24hr, Methods: [GET]
2025-06-28 14:40:55,819 - ultibot_backend - INFO - [MainThread] - main.py:184 -   - Path: /api/v1/market/klines, Name: get_market_klines, Methods: [GET]
2025-06-28 14:40:55,820 - ultibot_backend - INFO - [MainThread] - main.py:91 - Starting UltiBot Backend (lifespan)...
2025-06-28 14:40:55,820 - ultibot_backend - INFO - [MainThread] - main.py:107 - Skipping container initialization in lifespan (TESTING mode).
2025-06-28 14:40:55,820 - ultibot_backend - INFO - [MainThread] - main.py:109 - Application started successfully (lifespan).
2025-06-28 14:40:55,824 - ultibot_backend - INFO - [MainThread] - main.py:135 - Middleware: Solicitud entrante: POST /api/v1/trading/market-order
2025-06-28 14:40:55,825 - ultibot_backend - INFO - [MainThread] - main.py:137 - Middleware: Solicitud procesada: POST /api/v1/trading/market-order - Status: 500
2025-06-28 14:40:55,827 - ultibot_backend - INFO - [MainThread] - main.py:112 - Shutting down UltiBot Backend (lifespan)...
2025-06-28 14:40:55,828 - ultibot_backend - INFO - [MainThread] - main.py:115 - Resources released and application shut down (lifespan).
