2025-06-05 18:20:45,336 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:45,339 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:155 - OpportunitiesView._start_api_worker: ApiWorker instance created: <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6334A0> with loop <QIOCPEventLoop running=True closed=False debug=False>
2025-06-05 18:20:45,339 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:157 - OpportunitiesView._start_api_worker: QThread instance created: <PyQt5.QtCore.QThread object at 0x00000293FB633140>
2025-06-05 18:20:45,339 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:160 - OpportunitiesView._start_api_worker: Worker <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6334A0> moved to thread <PyQt5.QtCore.QThread object at 0x00000293FB633140>. Connecting signals...
2025-06-05 18:20:45,339 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:186 - OpportunitiesView._start_api_worker: Signals connected. Starting thread for worker: <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6334A0> on thread: <PyQt5.QtCore.QThread object at 0x00000293FB633140>
2025-06-05 18:20:45,339 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:188 - OpportunitiesView._start_api_worker: thread.start() called for worker: <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6334A0>. IsRunning: True, IsFinished: False
2025-06-05 18:20:45,340 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:608 - DashboardView._check_pending_real_opportunities: INICIO (refactorizado)
2025-06-05 18:20:45,340 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:45,340 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:615 - DashboardView._check_pending_real_opportunities: Llamada a api_client.get_real_trading_candidates programada.
2025-06-05 18:20:45,340 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:620 - DashboardView._check_pending_real_opportunities: FIN (programación)
2025-06-05 18:20:45,340 - asyncio - DEBUG - [Dummy-33:21928] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:45,341 - httpx - DEBUG - [Dummy-33:21928] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:45,341 - httpx - DEBUG - [Dummy-33:21928] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:20:45,383 - httpcore.connection - DEBUG - [Dummy-31:4892] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67C910>
2025-06-05 18:20:45,384 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,384 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:45,384 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,384 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:45,384 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,386 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:44 GMT'), (b'server', b'uvicorn'), (b'content-length', b'82'), (b'content-type', b'application/json')])
2025-06-05 18:20:45,387 - httpx - INFO - [Dummy-31:4892] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trading/capital-management/status "HTTP/1.1 200 OK"
2025-06-05 18:20:45,387 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,387 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:45,387 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - response_closed.started
2025-06-05 18:20:45,387 - httpcore.http11 - DEBUG - [Dummy-31:4892] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:45,388 - src.ultibot_ui.main - DEBUG - [Dummy-31:4892] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:45,388 - src.ultibot_ui.services.api_client - INFO - [Dummy-31:4892] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:45,388 - httpcore.connection - DEBUG - [Dummy-31:4892] - _trace.py:87 - close.started
2025-06-05 18:20:45,388 - httpcore.connection - DEBUG - [Dummy-31:4892] - _trace.py:87 - close.complete
2025-06-05 18:20:45,388 - src.ultibot_ui.services.api_client - INFO - [Dummy-31:4892] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:45,388 - src.ultibot_ui.main - DEBUG - [Dummy-31:4892] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:45,388 - src.ultibot_ui.main - INFO - [Dummy-31:4892] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:45,388 - src.ultibot_ui.main - DEBUG - [Dummy-31:4892] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:45,400 - httpcore.connection - DEBUG - [Dummy-30:22284] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB63AB70>
2025-06-05 18:20:45,400 - httpcore.connection - DEBUG - [Dummy-32:16340] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB63BBB0>
2025-06-05 18:20:45,400 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,400 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:45,401 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,403 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:44 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:20:45,403 - httpx - INFO - [Dummy-32:16340] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trades/00000000-0000-0000-0000-000000000001/open?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:20:45,403 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:44 GMT'), (b'server', b'uvicorn'), (b'content-length', b'355'), (b'content-type', b'application/json')])
2025-06-05 18:20:45,403 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,403 - httpx - INFO - [Dummy-30:22284] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:20:45,403 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:45,404 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,404 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - response_closed.started
2025-06-05 18:20:45,404 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:45,404 - httpcore.http11 - DEBUG - [Dummy-32:16340] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:45,404 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - response_closed.started
2025-06-05 18:20:45,404 - httpcore.http11 - DEBUG - [Dummy-30:22284] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:45,404 - src.ultibot_ui.main - DEBUG - [Dummy-32:16340] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:45,405 - src.ultibot_ui.services.api_client - INFO - [Dummy-32:16340] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:45,405 - httpcore.connection - DEBUG - [Dummy-32:16340] - _trace.py:87 - close.started
2025-06-05 18:20:45,405 - src.ultibot_ui.main - DEBUG - [Dummy-30:22284] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:45,405 - httpcore.connection - DEBUG - [Dummy-32:16340] - _trace.py:87 - close.complete
2025-06-05 18:20:45,405 - src.ultibot_ui.services.api_client - INFO - [Dummy-32:16340] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:45,405 - src.ultibot_ui.main - DEBUG - [Dummy-32:16340] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:45,405 - src.ultibot_ui.main - INFO - [Dummy-32:16340] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:45,405 - src.ultibot_ui.main - DEBUG - [Dummy-32:16340] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:45,405 - src.ultibot_ui.services.api_client - INFO - [Dummy-30:22284] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:45,406 - httpcore.connection - DEBUG - [Dummy-30:22284] - _trace.py:87 - close.started
2025-06-05 18:20:45,406 - httpcore.connection - DEBUG - [Dummy-30:22284] - _trace.py:87 - close.complete
2025-06-05 18:20:45,406 - src.ultibot_ui.services.api_client - INFO - [Dummy-30:22284] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:45,406 - src.ultibot_ui.main - DEBUG - [Dummy-30:22284] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:45,406 - src.ultibot_ui.main - INFO - [Dummy-30:22284] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:45,406 - src.ultibot_ui.main - DEBUG - [Dummy-30:22284] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:45,507 - src.ultibot_ui.services.api_client - INFO - [Dummy-33:21928] - api_client.py:301 - Obteniendo oportunidades de trading real pendientes de confirmación.
2025-06-05 18:20:45,507 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-33:21928] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/opportunities/real-trading-candidates
2025-06-05 18:20:45,507 - httpcore.connection - DEBUG - [Dummy-33:21928] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:20:45,763 - httpcore.connection - DEBUG - [Dummy-33:21928] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67FCA0>
2025-06-05 18:20:45,763 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:45,763 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:45,763 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:45,764 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:45,764 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:46,467 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:45 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:20:46,467 - httpx - INFO - [Dummy-33:21928] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/opportunities/real-trading-candidates "HTTP/1.1 200 OK"
2025-06-05 18:20:46,467 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:46,467 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:46,467 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - response_closed.started
2025-06-05 18:20:46,467 - httpcore.http11 - DEBUG - [Dummy-33:21928] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:46,467 - src.ultibot_ui.main - DEBUG - [Dummy-33:21928] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:46,467 - src.ultibot_ui.services.api_client - INFO - [Dummy-33:21928] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:46,468 - httpcore.connection - DEBUG - [Dummy-33:21928] - _trace.py:87 - close.started
2025-06-05 18:20:46,468 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:589 - DashboardView._handle_real_opportunities_result: INICIO
2025-06-05 18:20:46,468 - src.ultibot_ui.windows.dashboard_view - DEBUG - [MainThread:17928] - dashboard_view.py:604 - No hay oportunidades de trading real pendientes de confirmación.
2025-06-05 18:20:46,468 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:605 - DashboardView._handle_real_opportunities_result: FIN
2025-06-05 18:20:46,468 - httpcore.connection - DEBUG - [Dummy-33:21928] - _trace.py:87 - close.complete
2025-06-05 18:20:46,468 - src.ultibot_ui.services.api_client - INFO - [Dummy-33:21928] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:46,468 - src.ultibot_ui.main - DEBUG - [Dummy-33:21928] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:46,468 - src.ultibot_ui.main - INFO - [Dummy-33:21928] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:46,468 - src.ultibot_ui.main - DEBUG - [Dummy-33:21928] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:46,781 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:570 - DashboardView._fetch_new_notifications: INICIO (refactorizado)
2025-06-05 18:20:46,781 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:46,781 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:577 - DashboardView._fetch_new_notifications: Llamada a api_client.get_notification_history programada.
2025-06-05 18:20:46,781 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:582 - DashboardView._fetch_new_notifications: FIN (programación)
2025-06-05 18:20:46,781 - asyncio - DEBUG - [Dummy-34:18908] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:46,782 - httpx - DEBUG - [Dummy-34:18908] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:46,783 - httpx - DEBUG - [Dummy-34:18908] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:20:46,945 - src.ultibot_ui.services.api_client - INFO - [Dummy-34:18908] - api_client.py:719 - Obteniendo historial de notificaciones para usuario 00000000-0000-0000-0000-000000000001 con paginación: limit=100, offset=0
2025-06-05 18:20:46,945 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-34:18908] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/notifications/history
2025-06-05 18:20:46,946 - httpcore.connection - DEBUG - [Dummy-34:18908] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:20:47,206 - httpcore.connection - DEBUG - [Dummy-34:18908] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D4910>
2025-06-05 18:20:47,206 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:47,206 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:47,206 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:47,207 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:47,207 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:47,334 - src.ultibot_ui.widgets.market_data_widget - INFO - [MainThread:17928] - market_data_widget.py:236 - Actualizando datos de tickers para: ['BTC/USDT', 'ETH/USDT'] (refactorizado)
2025-06-05 18:20:47,334 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:47,334 - src.ultibot_ui.widgets.market_data_widget - INFO - [MainThread:17928] - market_data_widget.py:248 - update_tickers_data: Llamada a get_ticker_data programada.
2025-06-05 18:20:47,335 - asyncio - DEBUG - [Dummy-35:14480] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:47,336 - httpx - DEBUG - [Dummy-35:14480] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:47,337 - httpx - DEBUG - [Dummy-35:14480] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:20:47,500 - src.ultibot_ui.services.api_client - INFO - [Dummy-35:14480] - api_client.py:643 - Obteniendo datos de ticker para usuario 00000000-0000-0000-0000-000000000001 y símbolos: ['BTC/USDT', 'ETH/USDT']
2025-06-05 18:20:47,501 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-35:14480] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/market/tickers
2025-06-05 18:20:47,501 - httpcore.connection - DEBUG - [Dummy-35:14480] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:20:47,563 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:46 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:20:47,563 - httpx - INFO - [Dummy-34:18908] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/notifications/history?user_id=00000000-0000-0000-0000-000000000001&limit=100&offset=0 "HTTP/1.1 200 OK"
2025-06-05 18:20:47,563 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:47,563 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:47,563 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - response_closed.started
2025-06-05 18:20:47,563 - httpcore.http11 - DEBUG - [Dummy-34:18908] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:47,564 - src.ultibot_ui.main - DEBUG - [Dummy-34:18908] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:47,564 - src.ultibot_ui.services.api_client - INFO - [Dummy-34:18908] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:47,564 - httpcore.connection - DEBUG - [Dummy-34:18908] - _trace.py:87 - close.started
2025-06-05 18:20:47,564 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:474 - DashboardView._handle_new_notifications_result: INICIO
2025-06-05 18:20:47,564 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:564 - DashboardView._handle_new_notifications_result: FIN
2025-06-05 18:20:47,564 - httpcore.connection - DEBUG - [Dummy-34:18908] - _trace.py:87 - close.complete
2025-06-05 18:20:47,564 - src.ultibot_ui.services.api_client - INFO - [Dummy-34:18908] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:47,564 - src.ultibot_ui.main - DEBUG - [Dummy-34:18908] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:47,564 - src.ultibot_ui.main - INFO - [Dummy-34:18908] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:47,564 - src.ultibot_ui.main - DEBUG - [Dummy-34:18908] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:47,782 - httpcore.connection - DEBUG - [Dummy-35:14480] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67EC60>
2025-06-05 18:20:47,782 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:47,783 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:47,783 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:47,783 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:47,783 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:48,700 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:46 GMT'), (b'server', b'uvicorn'), (b'content-length', b'206'), (b'content-type', b'application/json')])
2025-06-05 18:20:48,701 - httpx - INFO - [Dummy-35:14480] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/market/tickers?user_id=00000000-0000-0000-0000-000000000001&symbols=BTC%2FUSDT%2CETH%2FUSDT "HTTP/1.1 200 OK"
2025-06-05 18:20:48,701 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:48,701 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:48,701 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - response_closed.started
2025-06-05 18:20:48,701 - httpcore.http11 - DEBUG - [Dummy-35:14480] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:48,702 - src.ultibot_ui.main - DEBUG - [Dummy-35:14480] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:48,703 - src.ultibot_ui.services.api_client - INFO - [Dummy-35:14480] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:48,703 - httpcore.connection - DEBUG - [Dummy-35:14480] - _trace.py:87 - close.started
2025-06-05 18:20:48,703 - httpcore.connection - DEBUG - [Dummy-35:14480] - _trace.py:87 - close.complete
2025-06-05 18:20:48,703 - src.ultibot_ui.services.api_client - INFO - [Dummy-35:14480] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:48,703 - src.ultibot_ui.main - DEBUG - [Dummy-35:14480] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:48,703 - src.ultibot_ui.main - INFO - [Dummy-35:14480] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:48,703 - src.ultibot_ui.main - DEBUG - [Dummy-35:14480] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:48,705 - src.ultibot_ui.widgets.market_data_widget - INFO - [MainThread:17928] - market_data_widget.py:233 - Datos de tickers actualizados en la tabla.
2025-06-05 18:20:48,870 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #14
2025-06-05 18:20:53,881 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #15
2025-06-05 18:20:55,322 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:608 - DashboardView._check_pending_real_opportunities: INICIO (refactorizado)
2025-06-05 18:20:55,323 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:55,323 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:615 - DashboardView._check_pending_real_opportunities: Llamada a api_client.get_real_trading_candidates programada.
2025-06-05 18:20:55,323 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:620 - DashboardView._check_pending_real_opportunities: FIN (programación)
2025-06-05 18:20:55,323 - asyncio - DEBUG - [Dummy-36:21944] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:55,324 - httpx - DEBUG - [Dummy-36:21944] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:55,324 - httpx - DEBUG - [Dummy-36:21944] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:20:55,490 - src.ultibot_ui.services.api_client - INFO - [Dummy-36:21944] - api_client.py:301 - Obteniendo oportunidades de trading real pendientes de confirmación.
2025-06-05 18:20:55,490 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-36:21944] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/opportunities/real-trading-candidates
2025-06-05 18:20:55,490 - httpcore.connection - DEBUG - [Dummy-36:21944] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:20:55,772 - httpcore.connection - DEBUG - [Dummy-36:21944] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D5BD0>
2025-06-05 18:20:55,772 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:20:55,772 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:20:55,773 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:20:55,773 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - send_request_body.complete
2025-06-05 18:20:55,773 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:20:56,464 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:55 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:20:56,464 - httpx - INFO - [Dummy-36:21944] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/opportunities/real-trading-candidates "HTTP/1.1 200 OK"
2025-06-05 18:20:56,464 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:20:56,465 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:20:56,465 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - response_closed.started
2025-06-05 18:20:56,465 - httpcore.http11 - DEBUG - [Dummy-36:21944] - _trace.py:87 - response_closed.complete
2025-06-05 18:20:56,465 - src.ultibot_ui.main - DEBUG - [Dummy-36:21944] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:56,466 - src.ultibot_ui.services.api_client - INFO - [Dummy-36:21944] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:20:56,466 - httpcore.connection - DEBUG - [Dummy-36:21944] - _trace.py:87 - close.started
2025-06-05 18:20:56,466 - httpcore.connection - DEBUG - [Dummy-36:21944] - _trace.py:87 - close.complete
2025-06-05 18:20:56,466 - src.ultibot_ui.services.api_client - INFO - [Dummy-36:21944] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:20:56,466 - src.ultibot_ui.main - DEBUG - [Dummy-36:21944] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:20:56,466 - src.ultibot_ui.main - INFO - [Dummy-36:21944] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:20:56,466 - src.ultibot_ui.main - DEBUG - [Dummy-36:21944] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:20:56,473 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:589 - DashboardView._handle_real_opportunities_result: INICIO
2025-06-05 18:20:56,473 - src.ultibot_ui.windows.dashboard_view - DEBUG - [MainThread:17928] - dashboard_view.py:604 - No hay oportunidades de trading real pendientes de confirmación.
2025-06-05 18:20:56,473 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:605 - DashboardView._handle_real_opportunities_result: FIN
2025-06-05 18:20:58,886 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #16
2025-06-05 18:20:59,807 - src.ultibot_ui.widgets.portfolio_widget - INFO - [MainThread:17928] - portfolio_widget.py:433 - Actualizando datos del portafolio para modo: paper
2025-06-05 18:20:59,808 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:59,808 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:59,808 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:20:59,808 - asyncio - DEBUG - [Dummy-37:20224] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:59,808 - asyncio - DEBUG - [Dummy-38:2796] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:59,809 - asyncio - DEBUG - [Dummy-39:18172] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:20:59,809 - httpx - DEBUG - [Dummy-38:2796] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:59,810 - httpx - DEBUG - [Dummy-39:18172] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:59,810 - httpx - DEBUG - [Dummy-37:20224] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:20:59,810 - httpx - DEBUG - [Dummy-38:2796] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:20:59,810 - httpx - DEBUG - [Dummy-39:18172] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:20:59,810 - httpx - DEBUG - [Dummy-37:20224] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:00,134 - src.ultibot_ui.services.api_client - INFO - [Dummy-39:18172] - api_client.py:332 - Obteniendo estado de gestión de capital.
2025-06-05 18:21:00,134 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-39:18172] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/trading/capital-management/status
2025-06-05 18:21:00,134 - httpcore.connection - DEBUG - [Dummy-39:18172] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:00,135 - src.ultibot_ui.services.api_client - INFO - [Dummy-38:2796] - api_client.py:450 - Obteniendo snapshot de portafolio para usuario 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-05 18:21:00,135 - src.ultibot_ui.services.api_client - INFO - [Dummy-37:20224] - api_client.py:552 - Obteniendo trades abiertos para usuario 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-05 18:21:00,135 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-38:2796] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-05 18:21:00,136 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-37:20224] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/trades/00000000-0000-0000-0000-000000000001/open
2025-06-05 18:21:00,136 - httpcore.connection - DEBUG - [Dummy-38:2796] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:00,136 - httpcore.connection - DEBUG - [Dummy-37:20224] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:00,397 - httpcore.connection - DEBUG - [Dummy-38:2796] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB63B4D0>
2025-06-05 18:21:00,398 - httpcore.connection - DEBUG - [Dummy-37:20224] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293F9F91DB0>
2025-06-05 18:21:00,398 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:00,398 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:00,398 - httpcore.connection - DEBUG - [Dummy-39:18172] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB63B2A0>
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:00,399 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:00,400 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:00,400 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:00,400 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:00,400 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:00,400 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:00,400 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:00,402 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:59 GMT'), (b'server', b'uvicorn'), (b'content-length', b'355'), (b'content-type', b'application/json')])
2025-06-05 18:21:00,402 - httpx - INFO - [Dummy-38:2796] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:21:00,403 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:00,403 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:59 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:00,403 - httpx - INFO - [Dummy-37:20224] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trades/00000000-0000-0000-0000-000000000001/open?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:21:00,403 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:00,403 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:20:59 GMT'), (b'server', b'uvicorn'), (b'content-length', b'82'), (b'content-type', b'application/json')])
2025-06-05 18:21:00,403 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:00,403 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - response_closed.started
2025-06-05 18:21:00,404 - httpx - INFO - [Dummy-39:18172] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trading/capital-management/status "HTTP/1.1 200 OK"
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-38:2796] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - response_closed.started
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-37:20224] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:00,404 - src.ultibot_ui.main - DEBUG - [Dummy-38:2796] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:00,404 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - response_closed.started
2025-06-05 18:21:00,405 - src.ultibot_ui.main - DEBUG - [Dummy-37:20224] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:00,405 - src.ultibot_ui.services.api_client - INFO - [Dummy-38:2796] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:00,405 - httpcore.http11 - DEBUG - [Dummy-39:18172] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:00,405 - src.ultibot_ui.services.api_client - INFO - [Dummy-37:20224] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:00,405 - httpcore.connection - DEBUG - [Dummy-38:2796] - _trace.py:87 - close.started
2025-06-05 18:21:00,405 - httpcore.connection - DEBUG - [Dummy-37:20224] - _trace.py:87 - close.started
2025-06-05 18:21:00,405 - src.ultibot_ui.main - DEBUG - [Dummy-39:18172] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:00,405 - httpcore.connection - DEBUG - [Dummy-38:2796] - _trace.py:87 - close.complete
2025-06-05 18:21:00,406 - src.ultibot_ui.services.api_client - INFO - [Dummy-38:2796] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:00,406 - src.ultibot_ui.services.api_client - INFO - [Dummy-39:18172] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:00,406 - src.ultibot_ui.main - DEBUG - [Dummy-38:2796] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:00,406 - httpcore.connection - DEBUG - [Dummy-37:20224] - _trace.py:87 - close.complete
2025-06-05 18:21:00,406 - httpcore.connection - DEBUG - [Dummy-39:18172] - _trace.py:87 - close.started
2025-06-05 18:21:00,406 - src.ultibot_ui.main - INFO - [Dummy-38:2796] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:00,406 - src.ultibot_ui.services.api_client - INFO - [Dummy-37:20224] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:00,406 - src.ultibot_ui.main - DEBUG - [Dummy-38:2796] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:00,406 - httpcore.connection - DEBUG - [Dummy-39:18172] - _trace.py:87 - close.complete
2025-06-05 18:21:00,406 - src.ultibot_ui.main - DEBUG - [Dummy-37:20224] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:00,407 - src.ultibot_ui.services.api_client - INFO - [Dummy-39:18172] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:00,407 - src.ultibot_ui.main - INFO - [Dummy-37:20224] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:00,407 - src.ultibot_ui.main - DEBUG - [Dummy-39:18172] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:00,407 - src.ultibot_ui.main - DEBUG - [Dummy-37:20224] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:00,407 - src.ultibot_ui.main - INFO - [Dummy-39:18172] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:00,407 - src.ultibot_ui.main - DEBUG - [Dummy-39:18172] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:03,890 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #17
2025-06-05 18:21:05,332 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:608 - DashboardView._check_pending_real_opportunities: INICIO (refactorizado)
2025-06-05 18:21:05,332 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:05,332 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:615 - DashboardView._check_pending_real_opportunities: Llamada a api_client.get_real_trading_candidates programada.
2025-06-05 18:21:05,332 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:620 - DashboardView._check_pending_real_opportunities: FIN (programación)
2025-06-05 18:21:05,333 - asyncio - DEBUG - [Dummy-40:5564] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:05,334 - httpx - DEBUG - [Dummy-40:5564] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:05,335 - httpx - DEBUG - [Dummy-40:5564] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:05,505 - src.ultibot_ui.services.api_client - INFO - [Dummy-40:5564] - api_client.py:301 - Obteniendo oportunidades de trading real pendientes de confirmación.
2025-06-05 18:21:05,505 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-40:5564] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/opportunities/real-trading-candidates
2025-06-05 18:21:05,506 - httpcore.connection - DEBUG - [Dummy-40:5564] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:05,765 - httpcore.connection - DEBUG - [Dummy-40:5564] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67ECB0>
2025-06-05 18:21:05,765 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:05,766 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:05,766 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:05,766 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:05,766 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:06,810 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:05 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:06,811 - httpx - INFO - [Dummy-40:5564] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/opportunities/real-trading-candidates "HTTP/1.1 200 OK"
2025-06-05 18:21:06,811 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:06,811 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:06,812 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - response_closed.started
2025-06-05 18:21:06,812 - httpcore.http11 - DEBUG - [Dummy-40:5564] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:06,812 - src.ultibot_ui.main - DEBUG - [Dummy-40:5564] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:06,812 - src.ultibot_ui.services.api_client - INFO - [Dummy-40:5564] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:06,812 - httpcore.connection - DEBUG - [Dummy-40:5564] - _trace.py:87 - close.started
2025-06-05 18:21:06,812 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:589 - DashboardView._handle_real_opportunities_result: INICIO
2025-06-05 18:21:06,812 - src.ultibot_ui.windows.dashboard_view - DEBUG - [MainThread:17928] - dashboard_view.py:604 - No hay oportunidades de trading real pendientes de confirmación.
2025-06-05 18:21:06,812 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:605 - DashboardView._handle_real_opportunities_result: FIN
2025-06-05 18:21:06,812 - httpcore.connection - DEBUG - [Dummy-40:5564] - _trace.py:87 - close.complete
2025-06-05 18:21:06,813 - src.ultibot_ui.services.api_client - INFO - [Dummy-40:5564] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:06,813 - src.ultibot_ui.main - DEBUG - [Dummy-40:5564] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:06,813 - src.ultibot_ui.main - INFO - [Dummy-40:5564] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:06,813 - src.ultibot_ui.main - DEBUG - [Dummy-40:5564] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:08,883 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #18
2025-06-05 18:21:13,886 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #19
2025-06-05 18:21:14,814 - src.ultibot_ui.widgets.portfolio_widget - INFO - [MainThread:17928] - portfolio_widget.py:433 - Actualizando datos del portafolio para modo: paper
2025-06-05 18:21:14,814 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:14,814 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:14,815 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:14,815 - asyncio - DEBUG - [Dummy-41:8228] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:14,815 - asyncio - DEBUG - [Dummy-42:14620] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:14,815 - asyncio - DEBUG - [Dummy-43:4588] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:14,817 - httpx - DEBUG - [Dummy-42:14620] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:14,817 - httpx - DEBUG - [Dummy-41:8228] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:14,818 - httpx - DEBUG - [Dummy-42:14620] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:14,818 - httpx - DEBUG - [Dummy-41:8228] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:14,836 - httpx - DEBUG - [Dummy-43:4588] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:14,837 - httpx - DEBUG - [Dummy-43:4588] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:15,128 - src.ultibot_ui.services.api_client - INFO - [Dummy-42:14620] - api_client.py:552 - Obteniendo trades abiertos para usuario 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-05 18:21:15,128 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-42:14620] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/trades/00000000-0000-0000-0000-000000000001/open
2025-06-05 18:21:15,128 - httpcore.connection - DEBUG - [Dummy-42:14620] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:15,128 - src.ultibot_ui.services.api_client - INFO - [Dummy-41:8228] - api_client.py:450 - Obteniendo snapshot de portafolio para usuario 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-05 18:21:15,128 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-41:8228] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-05 18:21:15,129 - httpcore.connection - DEBUG - [Dummy-41:8228] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:15,141 - src.ultibot_ui.services.api_client - INFO - [Dummy-43:4588] - api_client.py:332 - Obteniendo estado de gestión de capital.
2025-06-05 18:21:15,141 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-43:4588] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/trading/capital-management/status
2025-06-05 18:21:15,142 - httpcore.connection - DEBUG - [Dummy-43:4588] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:15,336 - src.ultibot_ui.views.opportunities_view - INFO - [MainThread:17928] - opportunities_view.py:134 - [TRACE] OpportunitiesView: _fetch_opportunities called. Fetching Gemini IA opportunities.
2025-06-05 18:21:15,336 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:139 - [TRACE] OpportunitiesView: Attempting to get get_gemini_opportunities coroutine.
2025-06-05 18:21:15,336 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:147 - OpportunitiesView._start_api_worker: Creating ApiWorker for coroutine_factory.
2025-06-05 18:21:15,336 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:15,336 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:155 - OpportunitiesView._start_api_worker: ApiWorker instance created: <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6335C0> with loop <QIOCPEventLoop running=True closed=False debug=False>
2025-06-05 18:21:15,337 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:157 - OpportunitiesView._start_api_worker: QThread instance created: <PyQt5.QtCore.QThread object at 0x00000293FB631370>
2025-06-05 18:21:15,337 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:160 - OpportunitiesView._start_api_worker: Worker <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6335C0> moved to thread <PyQt5.QtCore.QThread object at 0x00000293FB631370>. Connecting signals...
2025-06-05 18:21:15,337 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:186 - OpportunitiesView._start_api_worker: Signals connected. Starting thread for worker: <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6335C0> on thread: <PyQt5.QtCore.QThread object at 0x00000293FB631370>
2025-06-05 18:21:15,337 - src.ultibot_ui.views.opportunities_view - DEBUG - [MainThread:17928] - opportunities_view.py:188 - OpportunitiesView._start_api_worker: thread.start() called for worker: <src.ultibot_ui.main.ApiWorker object at 0x00000293FB6335C0>. IsRunning: True, IsFinished: False
2025-06-05 18:21:15,337 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:608 - DashboardView._check_pending_real_opportunities: INICIO (refactorizado)
2025-06-05 18:21:15,337 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:15,338 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:615 - DashboardView._check_pending_real_opportunities: Llamada a api_client.get_real_trading_candidates programada.
2025-06-05 18:21:15,338 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:620 - DashboardView._check_pending_real_opportunities: FIN (programación)
2025-06-05 18:21:15,338 - asyncio - DEBUG - [Dummy-44:12652] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:15,339 - httpx - DEBUG - [Dummy-44:12652] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:15,340 - httpx - DEBUG - [Dummy-44:12652] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:15,385 - httpcore.connection - DEBUG - [Dummy-41:8228] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67D3B0>
2025-06-05 18:21:15,385 - httpcore.connection - DEBUG - [Dummy-42:14620] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67F750>
2025-06-05 18:21:15,385 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,385 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,385 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:15,386 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,388 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:14 GMT'), (b'server', b'uvicorn'), (b'content-length', b'355'), (b'content-type', b'application/json')])
2025-06-05 18:21:15,388 - httpx - INFO - [Dummy-41:8228] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:21:15,388 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,388 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:15,389 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - response_closed.started
2025-06-05 18:21:15,389 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:14 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:15,389 - httpcore.http11 - DEBUG - [Dummy-41:8228] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:15,389 - httpx - INFO - [Dummy-42:14620] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trades/00000000-0000-0000-0000-000000000001/open?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:21:15,389 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,389 - src.ultibot_ui.main - DEBUG - [Dummy-41:8228] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:15,389 - src.ultibot_ui.services.api_client - INFO - [Dummy-41:8228] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:15,389 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:15,389 - httpcore.connection - DEBUG - [Dummy-41:8228] - _trace.py:87 - close.started
2025-06-05 18:21:15,390 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - response_closed.started
2025-06-05 18:21:15,390 - httpcore.http11 - DEBUG - [Dummy-42:14620] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:15,390 - httpcore.connection - DEBUG - [Dummy-41:8228] - _trace.py:87 - close.complete
2025-06-05 18:21:15,390 - src.ultibot_ui.services.api_client - INFO - [Dummy-41:8228] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:15,390 - src.ultibot_ui.main - DEBUG - [Dummy-42:14620] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:15,390 - src.ultibot_ui.main - DEBUG - [Dummy-41:8228] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:15,390 - src.ultibot_ui.services.api_client - INFO - [Dummy-42:14620] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:15,390 - src.ultibot_ui.main - INFO - [Dummy-41:8228] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:15,390 - httpcore.connection - DEBUG - [Dummy-42:14620] - _trace.py:87 - close.started
2025-06-05 18:21:15,391 - src.ultibot_ui.main - DEBUG - [Dummy-41:8228] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:15,391 - httpcore.connection - DEBUG - [Dummy-42:14620] - _trace.py:87 - close.complete
2025-06-05 18:21:15,391 - src.ultibot_ui.services.api_client - INFO - [Dummy-42:14620] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:15,391 - src.ultibot_ui.main - DEBUG - [Dummy-42:14620] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:15,391 - src.ultibot_ui.main - INFO - [Dummy-42:14620] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:15,391 - src.ultibot_ui.main - DEBUG - [Dummy-42:14620] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:15,399 - httpcore.connection - DEBUG - [Dummy-43:4588] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67C6E0>
2025-06-05 18:21:15,399 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,400 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:15,400 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,400 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:15,400 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,401 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:14 GMT'), (b'server', b'uvicorn'), (b'content-length', b'82'), (b'content-type', b'application/json')])
2025-06-05 18:21:15,401 - httpx - INFO - [Dummy-43:4588] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trading/capital-management/status "HTTP/1.1 200 OK"
2025-06-05 18:21:15,401 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,402 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:15,402 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - response_closed.started
2025-06-05 18:21:15,402 - httpcore.http11 - DEBUG - [Dummy-43:4588] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:15,402 - src.ultibot_ui.main - DEBUG - [Dummy-43:4588] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:15,402 - src.ultibot_ui.services.api_client - INFO - [Dummy-43:4588] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:15,402 - httpcore.connection - DEBUG - [Dummy-43:4588] - _trace.py:87 - close.started
2025-06-05 18:21:15,402 - httpcore.connection - DEBUG - [Dummy-43:4588] - _trace.py:87 - close.complete
2025-06-05 18:21:15,402 - src.ultibot_ui.services.api_client - INFO - [Dummy-43:4588] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:15,402 - src.ultibot_ui.main - DEBUG - [Dummy-43:4588] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:15,402 - src.ultibot_ui.main - INFO - [Dummy-43:4588] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:15,402 - src.ultibot_ui.main - DEBUG - [Dummy-43:4588] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:15,510 - src.ultibot_ui.services.api_client - INFO - [Dummy-44:12652] - api_client.py:301 - Obteniendo oportunidades de trading real pendientes de confirmación.
2025-06-05 18:21:15,510 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-44:12652] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/opportunities/real-trading-candidates
2025-06-05 18:21:15,510 - httpcore.connection - DEBUG - [Dummy-44:12652] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:15,764 - httpcore.connection - DEBUG - [Dummy-44:12652] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67D770>
2025-06-05 18:21:15,764 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:15,764 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:15,765 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:15,765 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:15,765 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:16,784 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:570 - DashboardView._fetch_new_notifications: INICIO (refactorizado)
2025-06-05 18:21:16,784 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:16,784 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:577 - DashboardView._fetch_new_notifications: Llamada a api_client.get_notification_history programada.
2025-06-05 18:21:16,784 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:582 - DashboardView._fetch_new_notifications: FIN (programación)
2025-06-05 18:21:16,785 - asyncio - DEBUG - [Dummy-45:22264] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:16,786 - httpx - DEBUG - [Dummy-45:22264] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:16,786 - httpx - DEBUG - [Dummy-45:22264] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:16,953 - src.ultibot_ui.services.api_client - INFO - [Dummy-45:22264] - api_client.py:719 - Obteniendo historial de notificaciones para usuario 00000000-0000-0000-0000-000000000001 con paginación: limit=100, offset=0
2025-06-05 18:21:16,953 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-45:22264] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/notifications/history
2025-06-05 18:21:16,953 - httpcore.connection - DEBUG - [Dummy-45:22264] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:17,034 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:15 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:17,034 - httpx - INFO - [Dummy-44:12652] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/opportunities/real-trading-candidates "HTTP/1.1 200 OK"
2025-06-05 18:21:17,035 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:17,035 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:17,035 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - response_closed.started
2025-06-05 18:21:17,035 - httpcore.http11 - DEBUG - [Dummy-44:12652] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:17,035 - src.ultibot_ui.main - DEBUG - [Dummy-44:12652] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:17,035 - src.ultibot_ui.services.api_client - INFO - [Dummy-44:12652] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:17,035 - httpcore.connection - DEBUG - [Dummy-44:12652] - _trace.py:87 - close.started
2025-06-05 18:21:17,035 - httpcore.connection - DEBUG - [Dummy-44:12652] - _trace.py:87 - close.complete
2025-06-05 18:21:17,036 - src.ultibot_ui.services.api_client - INFO - [Dummy-44:12652] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:17,036 - src.ultibot_ui.main - DEBUG - [Dummy-44:12652] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:17,036 - src.ultibot_ui.main - INFO - [Dummy-44:12652] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:17,036 - src.ultibot_ui.main - DEBUG - [Dummy-44:12652] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:17,036 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:589 - DashboardView._handle_real_opportunities_result: INICIO
2025-06-05 18:21:17,036 - src.ultibot_ui.windows.dashboard_view - DEBUG - [MainThread:17928] - dashboard_view.py:604 - No hay oportunidades de trading real pendientes de confirmación.
2025-06-05 18:21:17,036 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:605 - DashboardView._handle_real_opportunities_result: FIN
2025-06-05 18:21:17,234 - httpcore.connection - DEBUG - [Dummy-45:22264] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FB67C280>
2025-06-05 18:21:17,234 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:17,234 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:17,234 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:17,234 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:17,234 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:17,320 - src.ultibot_ui.widgets.market_data_widget - INFO - [MainThread:17928] - market_data_widget.py:236 - Actualizando datos de tickers para: ['BTC/USDT', 'ETH/USDT'] (refactorizado)
2025-06-05 18:21:17,321 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:17,321 - src.ultibot_ui.widgets.market_data_widget - INFO - [MainThread:17928] - market_data_widget.py:248 - update_tickers_data: Llamada a get_ticker_data programada.
2025-06-05 18:21:17,321 - asyncio - DEBUG - [Dummy-46:11484] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:17,322 - httpx - DEBUG - [Dummy-46:11484] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:17,323 - httpx - DEBUG - [Dummy-46:11484] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:17,492 - src.ultibot_ui.services.api_client - INFO - [Dummy-46:11484] - api_client.py:643 - Obteniendo datos de ticker para usuario 00000000-0000-0000-0000-000000000001 y símbolos: ['BTC/USDT', 'ETH/USDT']
2025-06-05 18:21:17,492 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-46:11484] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/market/tickers
2025-06-05 18:21:17,492 - httpcore.connection - DEBUG - [Dummy-46:11484] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:17,750 - httpcore.connection - DEBUG - [Dummy-46:11484] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D6FD0>
2025-06-05 18:21:17,750 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:17,751 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:17,751 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:17,751 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:17,751 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:17,896 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:16 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:17,896 - httpx - INFO - [Dummy-45:22264] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/notifications/history?user_id=00000000-0000-0000-0000-000000000001&limit=100&offset=0 "HTTP/1.1 200 OK"
2025-06-05 18:21:17,896 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:17,896 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:17,897 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - response_closed.started
2025-06-05 18:21:17,897 - httpcore.http11 - DEBUG - [Dummy-45:22264] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:17,897 - src.ultibot_ui.main - DEBUG - [Dummy-45:22264] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:17,897 - src.ultibot_ui.services.api_client - INFO - [Dummy-45:22264] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:17,897 - httpcore.connection - DEBUG - [Dummy-45:22264] - _trace.py:87 - close.started
2025-06-05 18:21:17,897 - httpcore.connection - DEBUG - [Dummy-45:22264] - _trace.py:87 - close.complete
2025-06-05 18:21:17,898 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:474 - DashboardView._handle_new_notifications_result: INICIO
2025-06-05 18:21:17,898 - src.ultibot_ui.services.api_client - INFO - [Dummy-45:22264] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:17,898 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:564 - DashboardView._handle_new_notifications_result: FIN
2025-06-05 18:21:17,898 - src.ultibot_ui.main - DEBUG - [Dummy-45:22264] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:17,898 - src.ultibot_ui.main - INFO - [Dummy-45:22264] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:17,898 - src.ultibot_ui.main - DEBUG - [Dummy-45:22264] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:18,473 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:17 GMT'), (b'server', b'uvicorn'), (b'content-length', b'207'), (b'content-type', b'application/json')])
2025-06-05 18:21:18,474 - httpx - INFO - [Dummy-46:11484] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/market/tickers?user_id=00000000-0000-0000-0000-000000000001&symbols=BTC%2FUSDT%2CETH%2FUSDT "HTTP/1.1 200 OK"
2025-06-05 18:21:18,474 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:18,474 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:18,474 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - response_closed.started
2025-06-05 18:21:18,474 - httpcore.http11 - DEBUG - [Dummy-46:11484] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:18,475 - src.ultibot_ui.main - DEBUG - [Dummy-46:11484] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:18,475 - src.ultibot_ui.services.api_client - INFO - [Dummy-46:11484] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:18,475 - httpcore.connection - DEBUG - [Dummy-46:11484] - _trace.py:87 - close.started
2025-06-05 18:21:18,476 - src.ultibot_ui.widgets.market_data_widget - INFO - [MainThread:17928] - market_data_widget.py:233 - Datos de tickers actualizados en la tabla.
2025-06-05 18:21:18,476 - httpcore.connection - DEBUG - [Dummy-46:11484] - _trace.py:87 - close.complete
2025-06-05 18:21:18,476 - src.ultibot_ui.services.api_client - INFO - [Dummy-46:11484] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:18,476 - src.ultibot_ui.main - DEBUG - [Dummy-46:11484] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:18,476 - src.ultibot_ui.main - INFO - [Dummy-46:11484] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:18,476 - src.ultibot_ui.main - DEBUG - [Dummy-46:11484] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:18,902 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #20
2025-06-05 18:21:23,910 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #21
2025-06-05 18:21:25,356 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:608 - DashboardView._check_pending_real_opportunities: INICIO (refactorizado)
2025-06-05 18:21:25,356 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:25,357 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:615 - DashboardView._check_pending_real_opportunities: Llamada a api_client.get_real_trading_candidates programada.
2025-06-05 18:21:25,357 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:620 - DashboardView._check_pending_real_opportunities: FIN (programación)
2025-06-05 18:21:25,357 - asyncio - DEBUG - [Dummy-47:18240] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:25,358 - httpx - DEBUG - [Dummy-47:18240] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:25,359 - httpx - DEBUG - [Dummy-47:18240] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:25,527 - src.ultibot_ui.services.api_client - INFO - [Dummy-47:18240] - api_client.py:301 - Obteniendo oportunidades de trading real pendientes de confirmación.
2025-06-05 18:21:25,527 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-47:18240] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/opportunities/real-trading-candidates
2025-06-05 18:21:25,527 - httpcore.connection - DEBUG - [Dummy-47:18240] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:25,804 - httpcore.connection - DEBUG - [Dummy-47:18240] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D7160>
2025-06-05 18:21:25,804 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:25,805 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:25,805 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:25,805 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:25,805 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:26,509 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:25 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:26,509 - httpx - INFO - [Dummy-47:18240] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/opportunities/real-trading-candidates "HTTP/1.1 200 OK"
2025-06-05 18:21:26,509 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:26,510 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:26,510 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - response_closed.started
2025-06-05 18:21:26,510 - httpcore.http11 - DEBUG - [Dummy-47:18240] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:26,510 - src.ultibot_ui.main - DEBUG - [Dummy-47:18240] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:26,511 - src.ultibot_ui.services.api_client - INFO - [Dummy-47:18240] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:26,511 - httpcore.connection - DEBUG - [Dummy-47:18240] - _trace.py:87 - close.started
2025-06-05 18:21:26,511 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:589 - DashboardView._handle_real_opportunities_result: INICIO
2025-06-05 18:21:26,511 - src.ultibot_ui.windows.dashboard_view - DEBUG - [MainThread:17928] - dashboard_view.py:604 - No hay oportunidades de trading real pendientes de confirmación.
2025-06-05 18:21:26,511 - src.ultibot_ui.windows.dashboard_view - INFO - [MainThread:17928] - dashboard_view.py:605 - DashboardView._handle_real_opportunities_result: FIN
2025-06-05 18:21:26,511 - httpcore.connection - DEBUG - [Dummy-47:18240] - _trace.py:87 - close.complete
2025-06-05 18:21:26,511 - src.ultibot_ui.services.api_client - INFO - [Dummy-47:18240] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:26,511 - src.ultibot_ui.main - DEBUG - [Dummy-47:18240] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:26,512 - src.ultibot_ui.main - INFO - [Dummy-47:18240] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:26,512 - src.ultibot_ui.main - DEBUG - [Dummy-47:18240] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:28,905 - __main__ - INFO - [MainThread:17928] - main.py:984 - QASYNC_LOOP_HEARTBEAT: El bucle qasync está vivo - pulso #22
2025-06-05 18:21:29,833 - src.ultibot_ui.widgets.portfolio_widget - INFO - [MainThread:17928] - portfolio_widget.py:433 - Actualizando datos del portafolio para modo: paper
2025-06-05 18:21:29,833 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:29,834 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:29,834 - asyncio - DEBUG - [Dummy-48:4212] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:29,834 - src.ultibot_ui.main - DEBUG - [MainThread:17928] - main.py:562 - ApiWorker initialized with base_url: http://localhost:8000
2025-06-05 18:21:29,834 - asyncio - DEBUG - [Dummy-49:16364] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:29,835 - asyncio - DEBUG - [Dummy-50:12204] - selector_events.py:64 - Using selector: SelectSelector
2025-06-05 18:21:29,836 - httpx - DEBUG - [Dummy-48:4212] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:29,836 - httpx - DEBUG - [Dummy-49:16364] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:29,836 - httpx - DEBUG - [Dummy-48:4212] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:29,837 - httpx - DEBUG - [Dummy-50:12204] - _config.py:82 - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-06-05 18:21:29,837 - httpx - DEBUG - [Dummy-49:16364] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:29,838 - httpx - DEBUG - [Dummy-50:12204] - _config.py:148 - load_verify_locations cafile='C:\\Users\\zamor\\UltiBotInversiones\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-06-05 18:21:30,154 - src.ultibot_ui.services.api_client - INFO - [Dummy-49:16364] - api_client.py:552 - Obteniendo trades abiertos para usuario 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-05 18:21:30,154 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-49:16364] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/trades/00000000-0000-0000-0000-000000000001/open
2025-06-05 18:21:30,155 - httpcore.connection - DEBUG - [Dummy-49:16364] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:30,164 - src.ultibot_ui.services.api_client - INFO - [Dummy-48:4212] - api_client.py:450 - Obteniendo snapshot de portafolio para usuario 00000000-0000-0000-0000-000000000001, modo: paper
2025-06-05 18:21:30,164 - src.ultibot_ui.services.api_client - INFO - [Dummy-50:12204] - api_client.py:332 - Obteniendo estado de gestión de capital.
2025-06-05 18:21:30,164 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-48:4212] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001
2025-06-05 18:21:30,164 - src.ultibot_ui.services.api_client - DEBUG - [Dummy-50:12204] - api_client.py:72 - APIClient: _make_request_invoked for GET /api/v1/trading/capital-management/status
2025-06-05 18:21:30,165 - httpcore.connection - DEBUG - [Dummy-48:4212] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:30,165 - httpcore.connection - DEBUG - [Dummy-50:12204] - _trace.py:87 - connect_tcp.started host='localhost' port=8000 local_address=None timeout=30.0 socket_options=None
2025-06-05 18:21:30,429 - httpcore.connection - DEBUG - [Dummy-49:16364] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D6AD0>
2025-06-05 18:21:30,429 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:30,429 - httpcore.connection - DEBUG - [Dummy-50:12204] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D44B0>
2025-06-05 18:21:30,430 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:30,430 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:30,430 - httpcore.connection - DEBUG - [Dummy-48:4212] - _trace.py:87 - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000293FC6D6BC0>
2025-06-05 18:21:30,430 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:30,430 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - send_request_headers.started request=<Request [b'GET']>
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - send_request_headers.complete
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:30,431 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - send_request_body.started request=<Request [b'GET']>
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - send_request_body.complete
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - receive_response_headers.started request=<Request [b'GET']>
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:29 GMT'), (b'server', b'uvicorn'), (b'content-length', b'2'), (b'content-type', b'application/json')])
2025-06-05 18:21:30,432 - httpx - INFO - [Dummy-49:16364] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trades/00000000-0000-0000-0000-000000000001/open?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - response_closed.started
2025-06-05 18:21:30,432 - httpcore.http11 - DEBUG - [Dummy-49:16364] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:30,432 - src.ultibot_ui.main - DEBUG - [Dummy-49:16364] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:30,433 - src.ultibot_ui.services.api_client - INFO - [Dummy-49:16364] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:30,433 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:29 GMT'), (b'server', b'uvicorn'), (b'content-length', b'82'), (b'content-type', b'application/json')])
2025-06-05 18:21:30,433 - httpcore.connection - DEBUG - [Dummy-49:16364] - _trace.py:87 - close.started
2025-06-05 18:21:30,433 - httpx - INFO - [Dummy-50:12204] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/trading/capital-management/status "HTTP/1.1 200 OK"
2025-06-05 18:21:30,433 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:30,433 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:30,433 - httpcore.connection - DEBUG - [Dummy-49:16364] - _trace.py:87 - close.complete
2025-06-05 18:21:30,433 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Thu, 05 Jun 2025 22:21:29 GMT'), (b'server', b'uvicorn'), (b'content-length', b'355'), (b'content-type', b'application/json')])
2025-06-05 18:21:30,434 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - response_closed.started
2025-06-05 18:21:30,434 - src.ultibot_ui.services.api_client - INFO - [Dummy-49:16364] - api_client.py:53 - httpx.AsyncClient cerrado.
2025-06-05 18:21:30,434 - httpx - INFO - [Dummy-48:4212] - _client.py:1786 - HTTP Request: GET http://localhost:8000/api/v1/portfolio/snapshot/00000000-0000-0000-0000-000000000001?trading_mode=paper "HTTP/1.1 200 OK"
2025-06-05 18:21:30,434 - httpcore.http11 - DEBUG - [Dummy-50:12204] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:30,434 - src.ultibot_ui.main - DEBUG - [Dummy-49:16364] - main.py:611 - ApiWorker: httpx.AsyncClient cerrado para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:30,434 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - receive_response_body.started request=<Request [b'GET']>
2025-06-05 18:21:30,434 - src.ultibot_ui.main - INFO - [Dummy-49:16364] - main.py:649 - ApiWorker: Event loop <_WindowsSelectorEventLoop running=False closed=False debug=False> is not running or already closed. Skipping shutdown procedures.
2025-06-05 18:21:30,434 - src.ultibot_ui.main - DEBUG - [Dummy-50:12204] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
2025-06-05 18:21:30,434 - src.ultibot_ui.main - DEBUG - [Dummy-49:16364] - main.py:653 - ApiWorker: asyncio event loop for current OS thread set to None.
2025-06-05 18:21:30,434 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - receive_response_body.complete
2025-06-05 18:21:30,435 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - response_closed.started
2025-06-05 18:21:30,434 - src.ultibot_ui.services.api_client - INFO - [Dummy-50:12204] - api_client.py:51 - Cerrando httpx.AsyncClient...
2025-06-05 18:21:30,435 - httpcore.http11 - DEBUG - [Dummy-48:4212] - _trace.py:87 - response_closed.complete
2025-06-05 18:21:30,436 - httpcore.connection - DEBUG - [Dummy-50:12204] - _trace.py:87 - close.started
2025-06-05 18:21:30,436 - src.ultibot_ui.main - DEBUG - [Dummy-48:4212] - main.py:607 - ApiWorker: Cerrando httpx.AsyncClient para worker loop <_WindowsSelectorEventLoop running=False closed=False debug=False>.
